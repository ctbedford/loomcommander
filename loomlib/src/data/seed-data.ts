// AUTO-GENERATED FILE - DO NOT EDIT DIRECTLY
// Generated by: npx tsx scripts/generate-seed.ts
// Source: loomlib/docs/**/*.md

import type { Document } from '../types.ts';

type SeedDoc = Omit<Document, 'createdAt' | 'modifiedAt'>;

export const seedData: SeedDoc[] = [
  {
    id: 'fw-agonal-identity',
    title: 'Agonal Identity',
    type: 'framework',
    framework_kind: 'domain',
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: 'etymon',
    status: 'verified',
    tags: ['agon', 'contest', 'identity', 'nietzsche', 'greek'],
    content: `# Agonal Identity

**Type:** Domain Framework
**Perspective:** Philosophical Genealogy
**Source:** Greek agon, Nietzsche, Burckhardt

## The Concept

*Agon* — contest, struggle, competition. But not zero-sum destruction. The Greek agon was generative: identity formed *through* contest, not prior to it.

You do not know who you are and then compete. You discover who you are *by* competing. The contest reveals.

## The Structure

| Agonal | Non-Agonal |
|--------|------------|
| Identity through contest | Identity before contest |
| Opponent as necessary | Opponent as obstacle |
| Winning reveals excellence | Winning eliminates rival |
| Ongoing relationship | Terminal victory |
| Mutual elevation | Zero-sum extraction |

The Greek athletic contests, dramatic competitions, philosophical debates — all agonal. You needed worthy opponents. Destroying them would destroy the field that made your excellence legible.

## Modern Degradation

Contemporary competition tends toward elimination rather than revelation:
- **Market competition:** Drive rivals to bankruptcy, then monopolize
- **Political competition:** Destroy opponents' legitimacy, not just defeat them
- **Academic competition:** Status hoarding, not mutual sharpening
- **Social media:** Performative destruction of the other side

The agonal frame disappears when victory means ending the contest rather than winning it.

## The Diagnostic Questions

1. **Does victory end the game or continue it?** Agonal contests are iterated. Terminal victory is anti-agonal.
2. **Does the opponent's excellence elevate or threaten you?** Agonal opponents make your victory meaningful.
3. **Is identity at stake or just resources?** Agonal contests form the self. Mere resource competition doesn't.
4. **What happens to the loser?** Agonal loss is honorable and educative. Anti-agonal loss is elimination.

## Recovery Patterns

- **Worthy rivals:** Actively cultivating strong opposition
- **Iterated games:** Designing for ongoing contest, not final victory
- **Excellence recognition:** Honoring opponents' achievements genuinely
- **Agonal friendship:** Relationships structured through productive conflict
- **Sharpening cultures:** Communities where challenge is care

## Deployment

When analyzing competition, conflict, or identity formation:
1. Is identity formed through the contest or assumed prior?
2. What happens to losers — education or elimination?
3. Would destroying opponents destroy the field?
4. Is this iterable or terminal?
5. Where has the agonal collapsed into mere antagonism?`,
  },
  {
    id: 'fw-conducting-frontmatter',
    title: 'Conducting Frontmatter',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: null,
    framework_ids: [],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['frontmatter', 'orchestration', 'discovery', 'claude-code', 'schema'],
    content: `# Conducting Frontmatter

**Type:** Toolkit Framework
**Purpose:** Extend frontmatter so Claude Code can discover related documents and track production flow

---

## The Core Insight

Every loomlib command produces a document. Every document:
- Was informed by something (upstream)
- Enables something (downstream)
- Has production state (status + execution)

**Descriptive frontmatter** answers: *What is this?*
**Conducting frontmatter** answers: *What produced this? What does it enable?*

---

## The Two Additions

### 1. Discovery (Before Production)

Before creating a document, query the API for related work:

\`\`\`bash
curl -s http://localhost:5173/api/docs | jq '[.[] | select(.title | test("topic"; "i"))]'
\`\`\`

This answers:
- Does related work already exist?
- What should this document reference as upstream?
- Am I duplicating effort?

### 2. Conducting Fields (In Output)

Add fields that track production flow:

\`\`\`yaml
# ─── CONDUCTING ─────────────────────────────────────────────
intent: research | build | capture | organize | produce
execution_state: pending | in_progress | completed | resolved
upstream:
  - doc: inst-survey-editor
    relation: informs
downstream: []
\`\`\`

---

## The Schema

### Conducting Fields

\`\`\`yaml
# Every document gets these (extend existing frontmatter)

intent: research | build | capture | organize | produce
# What kind of production is this?
# research  = understanding before acting (survey, scope, excavate)
# build     = creating reusable artifact (framework)
# capture   = recording material (source, note)
# organize  = curating existing docs (index)
# produce   = applying frameworks to make content (instance)

execution_state: pending | in_progress | completed | resolved
# Where is this document in its lifecycle?
# pending     = not yet started (rare for docs created by commands)
# in_progress = being worked on
# completed   = done, available for downstream use
# resolved    = closed out via /loomlib:resolve

upstream:
  - doc: {document-id}
    relation: informs | method | source | prior
# What documents informed this one?
# informs = content from this doc shaped the output
# method  = framework that guided production
# source  = reference material used
# prior   = earlier version or related work

downstream: []
# What does this document enable?
# Populated when other docs reference this as upstream
\`\`\`

### Intent by Document Type

| Document Type | Intent | Typical Upstream |
|---------------|--------|------------------|
| **survey** | research | prior surveys, related scopes |
| **scope** | research | surveys on topic |
| **excavate** | research | prior excavations, sources |
| **framework** | build | other frameworks, sources |
| **instance** | produce | frameworks (method), sources |
| **source** | capture | (external material) |
| **note** | capture | (raw thought) |
| **index** | organize | documents being indexed |

### Full Frontmatter Example

\`\`\`yaml
---
# ─── DESCRIPTIVE (existing) ─────────────────────────────────
id: inst-scope-editor-persistence
title: "Scope: Editor Persistence"
type: instance
framework_kind: null
framework_ids: [fw-scope-method]
source_id: null
output: loomcommander
perspective: null
status: draft
tags: [scope, editor, persistence]

# ─── CONDUCTING (new) ───────────────────────────────────────
intent: research
execution_state: completed
upstream:
  - doc: inst-survey-editor-persistence
    relation: informs
  - doc: fw-scope-method
    relation: method
downstream: []
---
\`\`\`

---

## The Command Pattern

Every loomlib command follows this pattern:

### 1. Discovery

\`\`\`markdown
## Discovery

Query API for related documents:

1. **Check for related work:**
   \`\`\`bash
   curl -s http://localhost:5173/api/docs | jq '[.[] | select(.title | test("{topic}"; "i"))]'
   \`\`\`

2. **Report findings:**
   - What exists
   - What state it's in (status, execution_state)
   - Whether to use as upstream

3. **Decide:**
   - Reference existing work as upstream
   - Or proceed fresh if nothing relevant
\`\`\`

### 2. Protocol

(The existing method steps — Survey Method, Scope Method, etc.)

### 3. Output with Conducting Fields

\`\`\`yaml
---
# Descriptive fields...

# Conducting fields
intent: {appropriate for this type}
execution_state: completed
upstream:
  - doc: {discovered-doc-id}
    relation: {relationship}
downstream: []
---
\`\`\`

### 4. Composition Report

\`\`\`markdown
## Composition

**Upstream (what informed this):**
- [Doc Title](doc-id) — what it contributed

**Downstream (what this enables):**
- Next steps, related work

**Related (discovered but not upstream):**
- Other docs found during discovery
\`\`\`

---

## How Claude Code Uses This

### During Production

1. **Discovery phase** queries API
2. **Protocol phase** follows method
3. **Output phase** writes conducting fields
4. **Report phase** explains composition

### When Resolving

\`/loomlib:resolve\` updates:
\`\`\`yaml
execution_state: resolved
\`\`\`

This closes the production loop.

### For Finding Work

Query for documents by state:
\`\`\`bash
# Find pending work
curl -s http://localhost:5173/api/docs | jq '[.[] | select(.execution_state == "pending")]'

# Find completed surveys (ready for scoping)
curl -s http://localhost:5173/api/docs | jq '[.[] | select(.id | contains("survey")) | select(.execution_state == "completed")]'
\`\`\`

---

## The Minimal Schema

For implementation, these fields extend the Document interface:

\`\`\`typescript
interface Document {
  // ... existing fields ...

  // Conducting fields (all optional, backward compatible)
  intent?: 'research' | 'build' | 'capture' | 'organize' | 'produce';
  execution_state?: 'pending' | 'in_progress' | 'completed' | 'resolved';
  upstream?: Array<{ doc: string; relation: string }>;
  downstream?: Array<{ doc: string; relation: string }>;
}
\`\`\`

**Defaults for documents without conducting fields:**
- \`intent\`: inferred from type (survey→research, framework→build, etc.)
- \`execution_state\`: 'completed' (existing docs are assumed done)
- \`upstream\`: [] (no tracked lineage)
- \`downstream\`: [] (no tracked dependents)

---

## What We Removed

The original framework was over-engineered. Removed:

| Removed | Why |
|---------|-----|
| \`actionable: true/false\` | All documents are actionable — they all produce output |
| \`entrypoint\`, \`trigger\` | Commands already have protocols; don't need meta-protocol |
| \`requires.files\`, \`requires.tools\` | Over-specification; Discovery handles this naturally |
| \`completion.criteria\` | Document body already has acceptance criteria |
| \`execution.attempts\`, \`last_error\` | Debugging state belongs in resolution, not frontmatter |
| Complex \`outputs\` object | \`downstream\` captures this simply |

**What remains is minimal:**
- \`intent\` — what kind of production
- \`execution_state\` — where in lifecycle
- \`upstream\` — what informed this
- \`downstream\` — what this enables

---

## The Value

### For Claude Code

1. **Discovery** — Know what exists before producing
2. **Composition** — Reference upstream work explicitly
3. **State** — Track what's done vs pending
4. **Flow** — See production genealogy

### For Humans

1. **Visibility** — See document state at a glance
2. **Lineage** — Understand what produced what
3. **Navigation** — Follow upstream/downstream links

### For the System

1. **Queryable** — Filter by intent, state, relationships
2. **Graphable** — Constellation can show production flow
3. **Closeable** — Resolve command marks work complete

---

## Implementation

### Phase 1: Schema + Parsing

1. Add fields to \`types.ts\`
2. Parse in \`vite-plugin-docs-api.ts\`
3. Parse in \`scripts/generate-seed.ts\`

### Phase 2: Commands

1. Add Discovery section to all document-producing commands
2. Add conducting fields to output templates
3. Add Composition section to outputs

### Phase 3: Resolution

1. Update \`/loomlib:resolve\` to set \`execution_state: resolved\`
2. Optionally update downstream references

---

## Framework Status

**Status:** verified

**Verification criteria:**
- [x] Schema implemented in types.ts
- [x] API returns conducting fields
- [x] All commands have Discovery section
- [x] All commands output conducting fields
- [x] Resolve command updates execution_state

**Verified:** End-to-end flow works (survey → scope → resolve)

---

## Resolution

**Date:** 2026-01-08
**Status:** resolved

### What Was Done

Full implementation of conducting frontmatter system:

1. **Schema** (\`types.ts\`): Added \`DocumentIntent\`, \`ExecutionState\`, \`RelationType\`, \`UpstreamRef\` types and extended \`Document\` interface with 4 optional fields
2. **Parsing** (\`vite-plugin-docs-api.ts\`): Added parsing and serialization of conducting fields with backward-compatible defaults
3. **Commands**: Updated 8 commands with Discovery sections and Conducting output templates
4. **Resolution**: Updated resolve command to set \`execution_state: resolved\`

### Changes Made

- \`loomlib/src/types.ts\` — conducting field types and Document extension
- \`loomlib/vite-plugin-docs-api.ts\` — parse/serialize conducting frontmatter
- \`.claude/commands/loomlib:survey.md\` — added Discovery section
- \`.claude/commands/loomlib:instance.md\` — added Discovery + Conducting
- \`.claude/commands/loomlib:framework.md\` — added Discovery + Conducting
- \`.claude/commands/loomlib:note.md\` — added Discovery + Conducting
- \`.claude/commands/loomlib:source.md\` — added Discovery + Conducting
- \`.claude/commands/loomlib:index.md\` — added Discovery + Conducting
- \`.claude/commands/loomlib:excavate.md\` — added Discovery + Conducting
- \`.claude/commands/loomlib:resolve.md\` — added execution_state update

### Outcome

Conducting frontmatter system is fully operational. Commands query API for related documents, output conducting frontmatter, and report composition.

### Remaining Items

None — all verification criteria met.`,
  },
  {
    id: 'fw-context-weaving',
    title: 'Context as Weaving',
    type: 'framework',
    framework_kind: 'domain',
    perspective: 'linguistic-recovery',
    framework_ids: [],
    source_id: null,
    output: 'etymon',
    status: 'verified',
    tags: ['context', 'weaving', 'etymology', 'conversation', 'salience'],
    content: `# Context as Weaving

**Type:** Domain Framework
**Perspective:** Linguistic Recovery
**Source:** Latin contextus, from con- (together) + texere (to weave)

## The Excavation

Context is not a container. It's not "background information." The word comes from weaving — *contextus*, the joining together of threads.

Context is what you weave together. Every element added creates relational possibilities with every other element present. The text is the fabric. The context is the weaving that produced it.

## The Drift

Modern usage: "Let me give you some context" = "Here's background information"

This treats context as a container you pour information into. But weaving is active. You don't have context; you make it. The quality of the weave determines what can be seen.

## The Distinction

| Context as Container | Context as Weaving |
|---------------------|-------------------|
| Information added | Relations created |
| Static background | Active production |
| More is better | Quality of weave matters |
| Precedes the work | Is the work |
| Neutral | Shapes what's sayable |

## The Operational Meaning

If context is weaving:
- Adding information isn't automatically helpful — a bad thread ruins the fabric
- The order of introduction matters — weaving is sequential
- Some contexts make things visible that others hide — the loom constrains the pattern
- Context is a skill, not a state — you get better at weaving

## Application to Conversation

Every conversation weaves a context. The elements present create relational possibilities:
- What vocabulary is live?
- What frameworks are active?
- What's salient vs. backgrounded?
- What's speakable within this weave?

The production model: **Context is the loom. The artifact is the fabric.**

The loom constrains what patterns are possible. Choosing what to weave into context is choosing what can be made.

## Deployment

When preparing for thinking, writing, or dialogue:
1. What threads do I need present? (Not "what information" — what *active elements*)
2. What order of introduction creates the best relational field?
3. What should stay out? (Some threads tangle the weave)
4. What becomes visible/sayable with this context that wasn't before?
5. The governing question: What does this make salient?`,
  },
  {
    id: 'fw-diagnostic-frames',
    title: 'Diagnostic Frames',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: null,
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'verified',
    tags: ['diagnosis', 'positioning', 'self-knowledge', 'analysis'],
    content: `# Diagnostic Frames

**Type:** Toolkit Framework
**Function:** Multi-axis analysis for locating position and movement

## The Frames

### By Capacity
What can you do with it?

| Capacity | Question |
|----------|----------|
| Diagnosis | Can you identify what's happening? |
| Articulation | Can you say what's happening? |
| Reading | Can you interpret what others have made? |
| Structuring | Can you organize material into form? |
| Inhabiting | Can you live inside the framework? |

### By Acquisition
How do you get it?

| Mode | Method |
|------|--------|
| Study | Encounter texts, absorb propositional content |
| Practice | Repeated exercise, build procedural capacity |
| Production | Make things, develop through output |

### By Aspect
What dimension are you working in?

| Aspect | Focus |
|--------|-------|
| Meaning | What does it signify? |
| Structure | How is it organized? |
| Substance | What is it made of? |
| Relation | How does it connect? |

### By Granularity
What level of abstraction?

| Level | Scope |
|-------|-------|
| Meta | About the system itself |
| Domain | A field of practice |
| Instrument | A specific tool |
| Instance | A particular case |

### By Knowing Type
Which of the four knowings?

| Type | Character |
|------|-----------|
| Propositional | That — facts, information |
| Procedural | How — skills, capacities |
| Perspectival | What — salience, attention |
| Participatory | Who — identity, mutual recognition |

## The Diagnostic Pattern

Upper-left strong: conceptual, meaning, meta, propositional
Lower-right weak: material, substance, instance, participatory

Curriculum builds upper-right. Practice builds lower half.

## Deployment

When diagnosing a project, skill, or situation:
1. Run it through multiple frames
2. Note where it clusters
3. Identify what's missing
4. The gap is the work`,
  },
  {
    id: 'fw-etymon-method',
    title: 'Etymon Method',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: 'linguistic-recovery',
    framework_ids: [],
    source_id: null,
    output: 'etymon',
    status: 'verified',
    tags: ['excavation', 'drift', 'recovery', 'philology'],
    content: `# Etymon Method

**Type:** Toolkit Framework
**Function:** Excavate degraded concepts through philological analysis

## The Structure

**Excavation → Drift → Recovery**

Each video follows this arc. The excavation uncovers what the word originally meant — not as trivia, but as operational capacity that was once available. The drift traces how that meaning degraded, usually through abstraction, institutionalization, or metaphor collapse. The recovery asks: what would it look like to have this capacity back?

## The Operators

Operators structure the excavation. They're not exhaustive — they're generative.

| Operator | Function | Example |
|----------|----------|---------|
| **VERSUS** | Draws distinction | Oikonomia VERSUS Chrematistics |
| **AS** | Recovers original sense | Tutor AS guardian |
| **WITHOUT** | Names what's lost | Credit WITHOUT trust |
| **BEFORE** | Temporal excavation | Alliance BEFORE empire |
| **FROM** | Traces derivation | Capital FROM cattle |
| **FOR** | Names the telos | Education FOR what? |
| **TO** | Direction of drift | Inquiry TO record |
| **THROUGH** | Method of recovery | Meaning THROUGH etymology |
| **WITHIN** | Situates in context | Economy WITHIN household |
| **AGAINST** | Marks opposition | Accumulation AGAINST limits |
| **OF** | Genitive relation | History OF history |
| **BEHIND** | What's concealed | The body BEHIND corporation |
| **AND** | Conjunction that reveals | Debt AND guilt |
| **OR** | False equivalence | Wealth OR money |

## The Question

Not "what does this word mean?" but "what capacity did this word once carry that we no longer have access to?"

## Deployment

When producing an Etymon instance:
1. Identify the degraded term
2. Excavate the etymological root (Latin, Greek, or further)
3. Reconstruct the operational meaning
4. Trace the drift mechanism (how did it degrade?)
5. Articulate what recovery would look like
6. Select the operator that best structures the excavation`,
  },
  {
    id: 'fw-four-knowings',
    title: 'The Four Knowings',
    type: 'framework',
    framework_kind: 'domain',
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: 'src-vervaeke-awftmc',
    output: 'etymon',
    status: 'verified',
    tags: ['vervaeke', 'knowing', 'wisdom', 'meaning', 'integration'],
    content: `# The Four Knowings

**Type:** Domain Framework
**Perspective:** Philosophical Genealogy
**Source:** Vervaeke, Awakening from the Meaning Crisis

## The Framework

Knowing is not one thing. Four distinct types, each with its own acquisition path and failure mode:

| Type | Character | Acquired By | Lost By |
|------|-----------|-------------|---------|
| **Propositional** | That — facts, claims, information | Study, instruction | Forgetting, misinformation |
| **Procedural** | How — skills, capacities, abilities | Practice, repetition | Atrophy, interference |
| **Perspectival** | What — salience, attention, what stands out | Exposure, habituation | Flattening, wrong salience |
| **Participatory** | Who — identity, mutual recognition, being known | Relationship, initiation | Alienation, broken recognition |

## The Integration Problem

Modern education privileges propositional knowing almost exclusively. You can know *that* the French Revolution happened, but not *how* to think historically, not *what* matters about it, not *who* you become by engaging with it.

Wisdom requires integration across all four. Information without capacity is trivia. Capacity without salience is technique. Salience without identity is observation. Identity without information is delusion.

## The Diagnostic Application

For any learning, skill, or transformation:

**Propositional:** What facts, concepts, vocabulary must be acquired?
**Procedural:** What must be practiced until fluent?
**Perspectival:** What should become salient that wasn't before?
**Participatory:** Who do you become? What community recognizes this?

## Context Across the Four Knowings

Context itself operates differently at each level:

| Knowing Type | Context Function | What Good Context Does | Degradation Mode |
|--------------|------------------|------------------------|------------------|
| Propositional | Information present | Right facts available | Overload, contradiction |
| Procedural | Capacities activated | Right skills live | Wrong skills active, skill absence |
| Perspectival | Salience landscape | Right things stand out | Undifferentiated field, false salience |
| Participatory | Conditions of mutual knowing | Genuine dialogue possible | Broken participation, mutual confusion |

## The Curriculum Pattern

Part I (Philosophical Genealogy) gave: vocabulary for meaning, salience for fragmentation, genealogical method
Part II (Linguistic Recovery) gives: etymological procedure, salience for drift, loving attention to texts
Part III (Economic Genealogy) will give: reading financial structures, salience for arrangements and positions
Part IV (Legal Grammar) will give: drafting and interpreting, salience for what binds and enforces

Each part develops all four knowings, but with different emphasis.

## Deployment

When designing learning, evaluating understanding, or diagnosing confusion:
1. Identify which knowing type is at stake
2. Check if the acquisition method matches the knowing type
3. Look for integration failures — strong in one type, absent in others
4. The governing question applies: What does this make salient?`,
  },
  {
    id: 'fw-invariants-variants',
    title: 'Invariants/Variants',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: null,
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'verified',
    tags: ['analysis', 'architecture', 'distinction', 'system-design'],
    content: `# Invariants/Variants

**Type:** Toolkit Framework
**Function:** Distinguish what's fixed from what's open in any system

## The Method

Every system has:
- **Invariants:** What cannot change without breaking the system
- **Variants:** What can expand, contract, or transform

The power is in correctly identifying which is which.

## The Questions

1. What breaks if this changes? → Invariant
2. What can grow without breaking anything? → Variant
3. What looks fixed but is actually arbitrary? → False invariant
4. What looks open but actually constrains everything? → Hidden invariant

## Application Pattern

| Domain | Invariant | Variant |
|--------|-----------|---------|
| Document Types | The five types (source, note, framework, instance, index) | Which documents exist |
| Framework Kinds | Toolkit vs Domain distinction | Which frameworks exist |
| Perspectives | That they're "ways of seeing" | Which perspectives, how many |
| Output Channels | That they're "where work goes" | Which channels exist |
| The Governing Question | "What does this make salient?" | Everything else |

## Common Errors

**Treating variants as invariants:** Refusing to add new perspectives because "the four-part curriculum is complete"

**Treating invariants as variants:** Trying to add a sixth document type because "why not?"

**Missing hidden invariants:** Not noticing that a "flexible" system actually depends on an unstated assumption

## Deployment

When designing or analyzing a system:
1. List what seems fixed
2. List what seems open
3. Test each: what actually breaks?
4. The false invariants are where innovation hides
5. The hidden invariants are where fragility hides`,
  },
  {
    id: 'fw-oikonomia-chrematistics',
    title: 'Oikonomia vs Chrematistics',
    type: 'framework',
    framework_kind: 'domain',
    perspective: 'economic-genealogy',
    framework_ids: [],
    source_id: 'src-aristotle-politics',
    output: 'etymon',
    status: 'verified',
    tags: ['aristotle', 'limits', 'telos', 'accumulation', 'bounded'],
    content: `# Oikonomia vs Chrematistics

**Type:** Domain Framework
**Perspective:** Economic Genealogy
**Source:** Aristotle, Politics Book I

## The Distinction

Aristotle saw two orientations toward wealth:

| Oikonomia | Chrematistics |
|-----------|---------------|
| Household management | Wealth-getting |
| Bounded by need | Unbounded accumulation |
| Wealth as means | Wealth as end |
| Natural | Unnatural |
| Has a telos | Telos-less |
| Knows when to stop | Cannot stop |

The Greek *oikos* (household) + *nomos* (law/management) = the law of the household. Economics was originally about managing a bounded domain toward flourishing.

Chrematistics (*chrema* = wealth, possession) is the art of acquisition itself. When acquisition becomes its own end, there is no limit principle. You cannot have "enough" because there is no "for what."

## The Diagnostic Questions

When examining any economic arrangement:

1. **Where are the limits?** What constrains accumulation? If nothing — chrematistic.
2. **What is the telos?** Accumulation for what? If "more" — chrematistic.
3. **Who is the household?** Whose flourishing does this serve? If no one's — chrematistic.
4. **What counts as enough?** Is there a satiation point? If not — chrematistic.

## The Drift

Modern "economics" lost the oikonomia root entirely. The discipline became the study of unlimited wants meeting scarce means — chrematistics by definition. The question "what is wealth for?" became unanswerable within the frame.

The household disappeared. The corporation has no oikos — no bounded community whose flourishing it serves. Growth became the only metric because there is no telos against which to measure sufficiency.

## Recovery Patterns

What would oikonomic arrangements look like today?

- **Businesses with sufficiency targets** — "We want to reach X revenue and stay there"
- **Steward ownership** — Purpose lock, profit cap, non-extractive
- **Cooperative structures** — The enterprise serves members, not capital
- **Place-based enterprise** — Bounded by geography, accountable to community
- **Family business succession** — Intergenerational time horizon changes what "growth" means

## Deployment

When analyzing an enterprise, investment, or economic policy:
1. Apply the four diagnostic questions
2. Trace what happens as scale increases — does the arrangement stay oikonomic or drift chrematistic?
3. Identify who the implicit "household" is (or notice its absence)
4. Ask what "enough" would look like — if the question is unanswerable, you've found the problem`,
  },
  {
    id: 'fw-reading-10k',
    title: 'Reading a 10-K',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: 'economic-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'verified',
    tags: ['SEC', 'filings', 'procedural', 'finance', 'analysis'],
    content: `# Reading a 10-K

**Type:** Toolkit Framework
**Function:** Extract signal from annual report noise

## What a 10-K Is

SEC-mandated annual report. Public companies must file. Contains:
- Business description
- Risk factors
- Financial statements
- Management discussion (MD&A)
- Legal proceedings
- Executive compensation

The form is standardized. The content reveals.

## The Reading Order

Don't start at the beginning. Start where signal concentrates:

| Priority | Section | Why |
|----------|---------|-----|
| 1 | Risk Factors | Legal requirement to disclose what could go wrong. Reveals what management actually worries about. |
| 2 | MD&A | Management's narrative. Compare to last year — what changed? What didn't they mention? |
| 3 | Segment Data | Where does money actually come from? Which parts are growing/shrinking? |
| 4 | Cash Flow Statement | Harder to manipulate than income statement. Follow the cash. |
| 5 | Notes to Financial Statements | The footnotes hold the bodies. Accounting policy changes, contingencies, related party transactions. |
| 6 | Business Description | Usually boilerplate, but first read establishes what they claim to do. |

## The Diagnostic Questions

- **What's the business model?** How do they make money? (Not what they sell — how revenue converts to profit)
- **What are the unit economics?** Revenue per customer, cost to acquire, lifetime value
- **Where's the moat?** What stops competition? (Often: nothing)
- **What's the capital structure?** Debt load, interest coverage, covenant headroom
- **What changed?** Compare to prior year. New risks? Removed risks? Segment changes?
- **What's unsaid?** Compare to competitors' 10-Ks. What do they disclose that this one doesn't?

## Red Flags

- Revenue recognition policy changes
- Related party transactions
- Frequent "non-recurring" charges that recur
- Growing gap between net income and operating cash flow
- Inventory growing faster than sales
- Receivables growing faster than revenue
- Audit firm change
- CFO departure

## Deployment

When reading a 10-K:
1. Download from SEC EDGAR (not company website — you want the official filing)
2. Ctrl+F "risk" — read entire risk factors section
3. Ctrl+F "significant" — find what management calls significant
4. Read MD&A looking for tone shifts from prior year
5. Pull cash flow statement, trace operating cash flow trend
6. Check footnotes for anything that surprises
7. Note three things you'd want to verify with outside sources`,
  },
  {
    id: 'fw-survey-method',
    title: 'Survey Method',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: null,
    framework_ids: [],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['codebase', 'investigation', 'structure', 'archaeology'],
    content: `# Survey Method

## Purpose

Understand a codebase or subsystem before changing it. The Survey Method produces structural knowledge — how code is organized, what calls what, where state lives.

## Core Distinction

**Mapping vs. Modifying** — Survey is read-only investigation. You produce understanding, not changes. The output is a document that captures what you learned so you (or others) can act on it later.

## Method

### Step 1: Survey

Map the terrain. Use grep/glob to identify relevant files without reading them deeply yet.

**Output:** List of candidate files with suspected roles.

### Step 2: Core Sample

Read the 2-3 most central files. Identify:
- Entry points (where does execution begin?)
- Data flow direction (what calls what?)
- Key abstractions (what patterns are used?)
- External dependencies (APIs, databases, services)

**Output:** Understanding of the structural center.

### Step 3: Stratigraphy

Trace the layers:
- Call hierarchy (use git blame for history if helpful)
- State location (where does data live?)
- Boundary conditions (what are the edges?)

**Output:** Understanding of depth and dependencies.

### Step 4: Findings

Synthesize what you learned:
- How the subsystem works (one paragraph)
- Key files and their roles
- Data flow summary
- Dependencies (internal and external)
- Complexity hotspots

**Output:** Actionable summary.

### Step 5: Open Questions

What remains unclear? What would require deeper investigation?

**Output:** Honest assessment of knowledge gaps.

## Operators

Survey Method uses location operators:

| Operator | Reveals | Example |
|----------|---------|---------|
| **OF** | What subsystem | Survey OF authentication |
| **WITHIN** | Scope boundary | Survey WITHIN src/editor |
| **FOR** | Purpose | Survey FOR refactoring |

## Output

Survey produces **instances** — structured documents that capture understanding of a specific codebase area.

- **Channel:** loomcommander
- **Format:** Markdown with standard sections
- **Location:** \`loomlib/docs/instance/survey-{slug}.md\`

## Boundary Conditions

**Use Survey when:**
- Before refactoring unfamiliar code
- Onboarding to a new codebase
- Before estimating work
- Debugging requires context

**Don't use Survey when:**
- You already understand the code
- The task is trivial
- You need runtime behavior (use debugging instead)

## Relationship to Etymon Method

| Etymon Method | Survey Method |
|---------------|---------------|
| Excavates terms | Excavates code |
| Linguistic archaeology | Structural archaeology |
| Produces semantic recovery | Produces structural understanding |
| Channel: etymon | Channel: loomcommander |

Both are excavation toolkits — different domains, same pattern.`,
  },
  {
    id: 'fw-worldview-architectonic',
    title: 'Worldview Architectonic',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'verified',
    tags: ['worldview', 'credo', 'metaphysics', 'theology', 'anthropology', 'epistemology', 'ethics', 'political-philosophy', 'economics', 'philosophy-of-history', 'eschatology', 'ecclesiology'],
    content: `# Worldview Architectonic

**The structure of structures — the framework that organizes all other frameworks.**

## Purpose

A worldview is not a set of opinions. It is the substrate from which all decisions emerge. The statesman who lacks explicit worldview still operates from implicit commitments — he simply cannot examine or transmit them.

This framework provides the ten categories that constitute a complete worldview. For each category, one must articulate a position — not tentatively, but as commitment. Revision is permitted later, but one cannot build on "I'm not sure."

---

## The Ten Categories

### I. Metaphysics: What Is Real?

**The question:** What is the fundamental structure of reality?

**Positions to navigate:**
- **Materialism:** Only matter exists. Mind is epiphenomenon. No transcendence.
- **Idealism:** Mind or spirit is fundamental. Matter is derivative or illusory.
- **Dualism:** Mind and matter are distinct substances.
- **Christian metaphysics:** Creation is real but dependent. God is Being itself. The material world is good but not ultimate.
- **Traditionalist metaphysics:** Multiple levels of reality — material, psychic, spiritual. Higher levels are more real. The modern world has collapsed into the lowest level.

**The commitment requires:** Is reality hierarchical (Traditionalist/Neoplatonic) or sacramental (Christian — matter infused with spirit, not inferior to it)? Is the material world a prison, a school, or a gift? What is the relationship between the visible and the invisible?

---

### II. Theology: Who Is God?

**The question:** What is the nature of the divine, and what is God's relationship to the world?

**Positions to navigate:**
- **Deism:** God created but does not intervene. Providence is general, not specific.
- **Theism:** God is personal, active, intervening. Providence is specific.
- **Pantheism:** God is identical with the world. No transcendence.
- **Panentheism:** God contains the world but exceeds it. The world is in God.
- **Trinitarian Christianity:** God is three persons, one substance. The Son became incarnate. The Spirit proceeds and indwells.
- **Perennialism:** The divine is one reality expressed through multiple traditions. No single tradition has exclusive access.

**The commitment requires:** Is Christ unique (the only Incarnation) or exemplary (one avatar among many)? Is salvation through Christ alone, or are there other paths? What is the relationship between Christianity and other traditions — preparations, corruptions, or parallel expressions?

---

### III. Anthropology: What Is Man?

**The question:** What is human nature? What are humans for?

**Positions to navigate:**
- **Liberal anthropology:** Man is a rights-bearing individual. Autonomy is the highest value. Human nature is plastic, self-constructed.
- **Marxist anthropology:** Man is a species-being defined by productive relations. Human nature is historically constructed.
- **Darwinian anthropology:** Man is an evolved animal. Human nature is the product of selection pressures.
- **Christian anthropology:** Man is created in God's image, fallen, redeemable. Human nature is fixed but damaged. The telos is theosis — becoming like God through grace.
- **Traditionalist anthropology:** Man has a caste-nature (Brahmin, Kshatriya, Vaishya, Shudra). Human types are qualitatively different. Hierarchy is natural and just.

**The commitment requires:** Is the archetypal framework (King, Warrior, Magician, Lover) descriptive (useful model) or ontological (real structures of being)? What is man's telos — what are we for?

---

### IV. Epistemology: How Do We Know?

**The question:** What counts as knowledge? How do we access truth?

**Positions to navigate:**
- **Rationalism:** Knowledge comes through reason. What can be demonstrated logically is known.
- **Empiricism:** Knowledge comes through observation. What can be measured and tested is known.
- **Pragmatism:** Knowledge is what works. Truth is what produces successful action.
- **Revelation:** Some truths are given, not discovered. Scripture, tradition, encounter communicate what reason cannot reach.
- **Participatory knowing:** Knowledge requires participation, not just observation. You know by becoming, not just by examining.
- **Initiatic knowledge:** Some truths are accessible only through transformation. You must be changed to perceive them.

**The commitment requires:** How do these modes relate? Is participatory knowing superior to propositional, or merely different? What is the authority structure — when reason and revelation conflict, which wins? What validates initiatic knowledge — how do you distinguish genuine gnosis from delusion?

---

### V. Ethics: What Is Good?

**The question:** What ought we do? What makes actions right or wrong?

**Positions to navigate:**
- **Deontology:** Actions are right or wrong in themselves, regardless of consequences. Duty is primary.
- **Consequentialism:** Actions are right or wrong based on outcomes. Results are primary.
- **Virtue ethics:** Actions flow from character. The question is not "what should I do?" but "what kind of person should I be?"
- **Divine command:** Good is what God commands. There is no independent standard.
- **Natural law:** Good is what accords with human nature rightly understood. Reason can discern it.
- **Ilyin's position:** Action in a fallen world always involves sin. The statesman bears his sin, confesses, and trusts grace. Inaction is also sin.

**The commitment requires:** How do you adjudicate specific cases? What are your red lines — sins you will not bear even for good ends? How do you distinguish "bearing sin" from "rationalizing evil"?

---

### VI. Political Philosophy: What Is Legitimate Order?

**The question:** What is the nature of political authority? What makes it legitimate?

**Positions to navigate:**
- **Liberal contractarianism:** Authority derives from consent. Legitimacy is procedural.
- **Classical republicanism:** Authority serves the common good. Legitimacy is substantive.
- **Monarchism:** Authority descends from God through the sovereign. Legitimacy is sacramental.
- **Nationalism:** The nation is the natural political unit. Authority is legitimate when it serves the nation.
- **Integralism:** The state should be ordered toward the true religion. The church has indirect authority over temporal matters.
- **Schmittian realism:** Sovereignty is the capacity to decide the exception. Legitimacy is effective order, not consent.

**The commitment requires:** Where does authority come from — not where should it go, but where does it originate? If not consent, what? If God, through what mediation?

---

### VII. Economics: What Is Wealth For?

**The question:** What is the purpose of economic activity? What is the right relationship between economy and polity?

**Positions to navigate:**
- **Liberal economics:** The market is a spontaneous order. Efficiency is the goal. Government should minimize intervention.
- **Marxist economics:** Capital exploits labor. The market is ideological cover for domination. The goal is collective ownership.
- **Listian economics:** Productive capacity is the goal, not exchange efficiency. The state must develop national industry against foreign competition.
- **Distributism:** Widespread ownership is the goal. Both capitalism and socialism concentrate power. The state should favor small property.
- **Oikonomia:** The household is the model. Economy serves the flourishing of households, not the accumulation of abstract wealth.

**The commitment requires:** How do you handle the tension between List (national-scale industrial policy) and Distributism (small-scale ownership)? At what scale should enterprise operate? What is the role of the state versus private action?

---

### VIII. Philosophy of History: What Is the Shape of Time?

**The question:** Is there a pattern to history? Progress? Decline? Cycles?

**Positions to navigate:**
- **Progressive:** History moves toward improvement. The arc bends toward justice.
- **Cyclical:** History repeats. Cultures rise and fall in predictable patterns. (Spengler, Vico)
- **Decline:** We are in a falling age. Tradition degrades. The Kali Yuga. (Guénon, Evola)
- **Christian eschatology:** History moves toward consummation. Christ will return. The Kingdom will come. But the path is not smooth — it includes tribulation.
- **Providential:** God governs history. Events have meaning. But the meaning is not always visible.

**The commitment requires:** Are we in the Kali Yuga? If so, what does Christian hope mean within civilizational decline? Is building futile — just slowing the inevitable — or does Christian eschatology break the cycle?

---

### IX. Eschatology: What Is the End?

**The question:** What is the final state? What happens after death, after history?

**Positions to navigate:**
- **Materialist:** Death is the end. There is no beyond.
- **Reincarnation:** The soul returns in new bodies until liberation.
- **Christian:** Resurrection of the body. Judgment. Heaven and hell. New creation.
- **Traditionalist:** Return to the Source. The cycle completes. Individual extinction in the Absolute.

**The commitment requires:** What do you actually believe happens after death? What is heaven? What is hell? Are they states, places, both? What is the resurrection of the body — continuity of this body, or something else? What is the new creation — restoration of Eden, or something genuinely new?

---

### X. Ecclesiology: Where Is the Church?

**The question:** What is the church, and where is it concretely located?

This integrates everything else. Your metaphysics, theology, anthropology, epistemology — all bear on where you worship and why.

**The commitment requires:** Not "Orthodoxy is interesting" but "We will attend _____ parish and submit to _____ bishop." Ecclesiology admits no refinement — only decision.

---

## Protocol: Articulating a Position

For each category:

### 1. Identify Current State

| State | Meaning | Action |
|-------|---------|--------|
| **Articulated** | Position exists but scattered | Consolidate into one paragraph |
| **Strong with tension** | Position clear but unresolved questions | Resolve the tension explicitly |
| **Engaged but not committed** | Exploring, not yet owned | Move from "exploring" to "believing" |
| **Implicit** | Position held but not articulated | Make explicit |
| **Unresolved** | No clear position | Investigate, then commit |

### 2. Write the Commitment

One paragraph minimum, one page maximum. Clear enough that someone else could read it and know what you believe.

**Format:**
\`\`\`
I believe [POSITION]. This means [IMPLICATIONS].
I hold this because [GROUNDS — experience, revelation, reasoning].
The tensions I carry: [UNRESOLVED QUESTIONS, if any].
This commits me to: [DOWNSTREAM IMPLICATIONS for action].
\`\`\`

### 3. Distinguish Theory from Conviction

- **Theory:** Interesting, defensible, might change with new argument
- **Conviction:** Owned, operative, survives opposition

The goal is conviction, not theory. Conviction survives opposition. Theory crumbles.

### 4. Identify Downstream

Each commitment has implications:
- Metaphysics → shapes what counts as evidence
- Theology → shapes what authority you recognize
- Anthropology → shapes how you raise children, manage people
- Epistemology → shapes what you trust
- Ethics → shapes what you do
- Political Philosophy → shapes civic engagement
- Economics → shapes business decisions
- Philosophy of History → shapes strategic time horizon
- Eschatology → shapes what you hope for
- Ecclesiology → shapes Sunday morning

---

## The Output: A Credo

Ten categories. Ten commitments. Clear enough to hand to your children.

This is the Bedford Confession — the substrate from which all strategy, operations, and action emerge. Without this foundation, everything else is ad hoc.

---

## Integration with Loomlib

- Each category becomes an instance document: \`inst-credo-{category}\`
- All ten are collected in \`idx-bedford-credo\`
- The credo informs \`idx-user-commitments\` — resolving its unresolved questions
- Frameworks like \`fw-four-knowings\`, \`fw-oikonomia-chrematistics\` feed specific categories
- Sources provide upstream evidence for positions

---

## Warning: The Magician Trap

Framework creation is Magician work. The danger: elaborate architecture that never produces conviction.

**The test:** By sabbatical's end, can you state each position instantly if asked? Not "I'm exploring..." but "I believe X."

Conviction is the deliverable, not documentation.`,
  },
  {
    id: 'fw-domain-command-architecture',
    title: 'Domain Command Architecture',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: null,
    framework_ids: ['fw-loomlib-domains', 'fw-invariants-variants'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['architecture', 'commands', 'domains'],
    content: `# Domain Command Architecture

**Type:** Toolkit Framework
**Function:** Define how commands divide labor within any loomlib domain and how that division shapes views

---

## The Core Insight

Every domain has a **command space** — the set of operations users can perform. Commands aren't random; they divide labor along predictable lines. Understanding this division reveals what views each domain needs.

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                         COMMAND LABOR DIVISION                              │
│                                                                             │
│    Commands serve five invariant intents:                                   │
│                                                                             │
│    CAPTURE ──→ RESEARCH ──→ BUILD ──→ ORGANIZE ──→ PRODUCE                 │
│       │           │           │          │            │                     │
│       ▼           ▼           ▼          ▼            ▼                     │
│    [note]     [survey]   [framework]  [index]    [instance]                │
│    [source]   [excavate]  [template]  [series]   [script]                  │
│    [idea]     [scope]                            [paper]                    │
│                                                                             │
│    Each domain populates these intents with domain-specific commands        │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

---

## I. The Invariant Command Categories

Every domain must have commands that cover these five categories:

\`\`\`
┌──────────────┬────────────────────────────────────────────────────────────┐
│   CATEGORY   │                      PURPOSE                               │
├──────────────┼────────────────────────────────────────────────────────────┤
│   CAPTURE    │  Bring external material INTO the system                   │
│              │  (sources, notes, ideas, references)                       │
├──────────────┼────────────────────────────────────────────────────────────┤
│   RESEARCH   │  Develop understanding WITHIN the system                   │
│              │  (surveys, excavations, scopes, investigations)            │
├──────────────┼────────────────────────────────────────────────────────────┤
│   BUILD      │  Create reusable METHODS for the system                    │
│              │  (frameworks, templates, patterns)                         │
├──────────────┼────────────────────────────────────────────────────────────┤
│   ORGANIZE   │  Structure RELATIONS between documents                     │
│              │  (indexes, series, collections)                            │
├──────────────┼────────────────────────────────────────────────────────────┤
│   PRODUCE    │  Generate OUTPUTS for external consumption                 │
│              │  (instances, scripts, papers, briefs)                      │
└──────────────┴────────────────────────────────────────────────────────────┘
\`\`\`

**This is invariant.** Every domain needs all five. The variants are:
- Which specific commands populate each category
- What document types each command produces
- What views optimize for each category's workflow

---

## II. Command → Document → View Flow

Commands produce documents. Documents cluster by intent. Views optimize for clusters.

\`\`\`
                              COMMAND FLOW

    ┌─────────────────────────────────────────────────────────────────┐
    │                                                                 │
    │   COMMAND ──executes──→ PROTOCOL ──produces──→ DOCUMENT        │
    │      │                                             │            │
    │      │                                             ▼            │
    │      │                                      [document type]     │
    │      │                                      [intent field]      │
    │      │                                             │            │
    │      ▼                                             ▼            │
    │   USER INTENT                                VIEW AFFINITY      │
    │   "I want to..."                             "Show me..."       │
    │                                                                 │
    └─────────────────────────────────────────────────────────────────┘

    Example:

    /excavate "wealth" ──→ Etymon Method ──→ inst-excavate-wealth.md
         │                                          │
         │                                          │
         ▼                                          ▼
    "research term"                           List view (all docs)
                                              Flow view (by status)
                                              Editor (to work on it)
\`\`\`

---

## III. How Commands Shape Views

### The Principle

**Views are optimized command workspaces.**

A view exists because a cluster of commands share:
1. Similar input patterns (what they need to see)
2. Similar output patterns (what they produce)
3. Similar navigation patterns (what they link to next)

### The Pattern

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                    COMMAND CLUSTERS → VIEW DESIGN                           │
│                                                                             │
│  ┌─────────────┐        ┌─────────────┐        ┌─────────────┐             │
│  │   CAPTURE   │        │  RESEARCH   │        │   PRODUCE   │             │
│  │  commands   │        │  commands   │        │  commands   │             │
│  └──────┬──────┘        └──────┬──────┘        └──────┬──────┘             │
│         │                      │                      │                     │
│         ▼                      ▼                      ▼                     │
│  ┌─────────────┐        ┌─────────────┐        ┌─────────────┐             │
│  │  Need to:   │        │  Need to:   │        │  Need to:   │             │
│  │  - See all  │        │  - See      │        │  - Track    │             │
│  │    raw      │        │    context  │        │    progress │             │
│  │    material │        │  - Navigate │        │  - See what │             │
│  │  - Quick    │        │    graph    │        │    feeds    │             │
│  │    capture  │        │  - Deep     │        │    output   │             │
│  │  - Triage   │        │    read     │        │  - Status   │             │
│  └──────┬──────┘        └──────┬──────┘        └──────┬──────┘             │
│         │                      │                      │                     │
│         ▼                      ▼                      ▼                     │
│  ┌─────────────┐        ┌─────────────┐        ┌─────────────┐             │
│  │  Deck View  │        │ Constell.   │        │  Pipeline   │             │
│  │  or         │        │ or Graph    │        │  or Kanban  │             │
│  │  Ideas View │        │ or Flow     │        │             │             │
│  └─────────────┘        └─────────────┘        └─────────────┘             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

---

## IV. Domain-Specific Command Spaces

### Etymon Domain

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                         ETYMON COMMAND SPACE                                │
│                                                                             │
│  CAPTURE         RESEARCH           BUILD          ORGANIZE    PRODUCE     │
│  ────────        ────────           ─────          ────────    ───────     │
│  /note           /excavate          /framework     /index      /instance   │
│  /source         /survey            (manual)       (manual)    /synthesize │
│                  /scope                                        /apologetic │
│                  /recon                                                     │
│                                                                             │
│  ▼ Produces      ▼ Produces         ▼ Produces     ▼ Produces  ▼ Produces  │
│  note-*          inst-excavate-*    fw-*           idx-*       inst-*      │
│  src-*           inst-survey-*                                             │
│                  inst-scope-*                                              │
│                  inst-recon-*                                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

    VIEW AFFINITIES:

    ┌────────────┬────────────────────────────────────────────────────────┐
    │   VIEW     │  OPTIMIZED FOR                                        │
    ├────────────┼────────────────────────────────────────────────────────┤
    │ List       │ All documents, filtering, quick navigation            │
    │ Constell.  │ Graph exploration, seeing connections                 │
    │ Deck       │ Card-based browsing, capture triage                   │
    │ Spatial    │ Positioning documents in 2D space                     │
    │ Flow       │ Status progression, what's in progress                │
    │ Editor     │ Deep work on single document                          │
    └────────────┴────────────────────────────────────────────────────────┘
\`\`\`

### Studio Domain

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                         STUDIO COMMAND SPACE                                │
│                                                                             │
│  CAPTURE           RESEARCH         BUILD         ORGANIZE     PRODUCE     │
│  ────────          ────────         ─────         ────────     ───────     │
│  /capture-idea     /summarize       /template     /create-     /draft-     │
│  /add-source       /research-       (manual)       series       script     │
│  /upload-asset      topic                         /add-to-     /outline    │
│                    /analyze-                       project     /finalize   │
│                     source                                                  │
│                                                                             │
│  ▼ Produces        ▼ Produces       ▼ Produces    ▼ Produces   ▼ Produces  │
│  idea-*            research-*       template-*    series-*     script-*    │
│  source-*                                         project      (updated)   │
│  asset-*                                                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

    VIEW AFFINITIES:

    ┌────────────┬────────────────────────────────────────────────────────┐
    │   VIEW     │  OPTIMIZED FOR                                        │
    ├────────────┼────────────────────────────────────────────────────────┤
    │ Pipeline   │ All projects by status (Kanban), PRODUCE workflow     │
    │ Project    │ Single project dashboard, all related docs            │
    │ Ideas      │ Unattached ideas, CAPTURE triage                      │
    │ Sources    │ Research library, CAPTURE/RESEARCH reference          │
    │ Assets     │ Visual material gallery, CAPTURE support              │
    │ Timeline   │ Deadlines, scheduling, PRODUCE planning               │
    │ Editor     │ Deep work on single document                          │
    └────────────┴────────────────────────────────────────────────────────┘
\`\`\`

---

## V. The View Derivation Method

Given a domain's commands, derive its views:

### Step 1: Map Commands to Intents

\`\`\`
For each command:
  → What intent does it serve? (capture/research/build/organize/produce)
  → What document type does it produce?
  → What inputs does it need?
\`\`\`

### Step 2: Cluster by Workflow

\`\`\`
Group commands that:
  → Serve the same intent
  → Need similar context
  → Are used in sequence
\`\`\`

### Step 3: Derive View Requirements

\`\`\`
For each cluster:
  → What must the user SEE? (primary data)
  → What must the user DO? (primary actions)
  → What must the user NAVIGATE to? (linking pattern)
\`\`\`

### Step 4: Name and Design Views

\`\`\`
Each cluster becomes a view:
  → Name reflects the intent
  → Layout optimizes for see/do/navigate
  → Commands are accessible from the view
\`\`\`

---

## VI. Command Categories and View Mapping

### Capture Commands → Capture Views

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  CAPTURE COMMANDS                           CAPTURE VIEWS                   │
│                                                                             │
│  /note, /source, /capture-idea              Ideas View (unattached sparks) │
│  /add-source, /upload-asset                 Sources View (reference lib)    │
│                                             Assets View (visual gallery)    │
│                                                                             │
│  User intent: "I encountered something"                                     │
│  View need: Quick entry, minimal friction, triage later                     │
│                                                                             │
│  ┌──────────────────────────────────────────────────────────────────┐      │
│  │                      IDEAS VIEW (Studio)                         │      │
│  │  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐                        │      │
│  │  │ 💡  │ │ 💡  │ │ 💡  │ │ 💡  │ │ 💡  │  Cards of ideas        │      │
│  │  │idea │ │idea │ │idea │ │idea │ │idea │  - title               │      │
│  │  │     │ │     │ │     │ │     │ │     │  - created date        │      │
│  │  └─────┘ └─────┘ └─────┘ └─────┘ └─────┘  - tags                │      │
│  │                                                                  │      │
│  │  [+ Quick Capture] — minimal form, just title                    │      │
│  │  Actions: attach to project, develop into research, archive      │      │
│  └──────────────────────────────────────────────────────────────────┘      │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### Research Commands → Research Views

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  RESEARCH COMMANDS                          RESEARCH VIEWS                  │
│                                                                             │
│  /excavate, /survey, /scope, /recon         Constellation (graph)          │
│  /summarize, /research-topic                Flow (by status)               │
│                                             Editor (deep work)             │
│                                                                             │
│  User intent: "I need to understand something"                              │
│  View need: See context, navigate graph, deep reading                       │
│                                                                             │
│  ┌──────────────────────────────────────────────────────────────────┐      │
│  │                   CONSTELLATION VIEW (Etymon)                    │      │
│  │                                                                  │      │
│  │            ┌──────┐                                              │      │
│  │            │ fw-X │                                              │      │
│  │            └──┬───┘                                              │      │
│  │               │                                                  │      │
│  │      ┌────────┼────────┐                                         │      │
│  │      │        │        │                                         │      │
│  │   ┌──┴───┐ ┌──┴───┐ ┌──┴───┐                                    │      │
│  │   │inst-A│ │inst-B│ │inst-C│  Documents as nodes                │      │
│  │   └──────┘ └──────┘ └──────┘  Edges = upstream/downstream       │      │
│  │                               Click to navigate                  │      │
│  │                               Drag to connect                    │      │
│  └──────────────────────────────────────────────────────────────────┘      │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### Build Commands → Build Views

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  BUILD COMMANDS                             BUILD VIEWS                     │
│                                                                             │
│  /framework (manual creation)               Templates View (Studio)         │
│  /template (manual creation)                List filtered to frameworks     │
│                                                                             │
│  User intent: "I want to create a reusable method"                          │
│  View need: See existing templates, understand patterns                     │
│                                                                             │
│  Note: BUILD is the least command-automated category                        │
│  Creating frameworks/templates is inherently manual work                    │
│  Views support this by showing what exists, not by automating creation      │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### Organize Commands → Organize Views

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  ORGANIZE COMMANDS                          ORGANIZE VIEWS                  │
│                                                                             │
│  /index, /create-series, /add-to-project    Series View (Studio)           │
│  /cluster, /orphans                         Index View (curated lists)     │
│                                             Project View (container)       │
│                                                                             │
│  User intent: "I want to structure relationships"                           │
│  View need: See collections, manage membership, see gaps                    │
│                                                                             │
│  ┌──────────────────────────────────────────────────────────────────┐      │
│  │                    PROJECT VIEW (Studio)                         │      │
│  │                                                                  │      │
│  │   Project: "Video on X"        Status: [Scripting ▼]            │      │
│  │   ───────────────────────────────────────────────────           │      │
│  │                                                                  │      │
│  │   IDEAS (2)          RESEARCH (3)       SCRIPT (1)              │      │
│  │   ┌─────┐ ┌─────┐    ┌─────┐ ┌─────┐    ┌─────────┐            │      │
│  │   │ 💡  │ │ 💡  │    │ 🔍  │ │ 🔍  │    │  📝     │            │      │
│  │   └─────┘ └─────┘    │ ✓✓  │ │ ✓   │    │  draft  │            │      │
│  │                      └─────┘ └─────┘    └─────────┘            │      │
│  │                                                                  │      │
│  │   SOURCES (5)        ASSETS (3)                                 │      │
│  │   ┌─────┐ ┌─────┐    ┌─────┐ ┌─────┐                           │      │
│  │   │ 📚  │ │ 📚  │    │ 🎬  │ │ 🎬  │   ...                     │      │
│  │   └─────┘ └─────┘    └─────┘ └─────┘                           │      │
│  │                                                                  │      │
│  │   [+ Add Document]  [Unattach]  [Change Status]                 │      │
│  └──────────────────────────────────────────────────────────────────┘      │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### Produce Commands → Produce Views

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  PRODUCE COMMANDS                           PRODUCE VIEWS                   │
│                                                                             │
│  /instance, /synthesize, /apologetic        Pipeline (all projects)        │
│  /draft-script, /outline, /finalize         Timeline (deadlines)           │
│                                             Flow (status tracking)         │
│                                                                             │
│  User intent: "I want to create output for external use"                    │
│  View need: Track progress, see pipeline, hit deadlines                     │
│                                                                             │
│  ┌──────────────────────────────────────────────────────────────────┐      │
│  │                    PIPELINE VIEW (Studio)                        │      │
│  │                                                                  │      │
│  │   IDEA      RESEARCH    SCRIPTING   PRODUCING   PUBLISHED       │      │
│  │   ────────  ──────────  ──────────  ──────────  ──────────      │      │
│  │   ┌─────┐   ┌─────┐     ┌─────┐     ┌─────┐     ┌─────┐        │      │
│  │   │proj │   │proj │     │proj │     │proj │     │proj │        │      │
│  │   │  A  │   │  B  │     │  C  │     │  D  │     │  E  │        │      │
│  │   └─────┘   └─────┘     └─────┘     └─────┘     └─────┘        │      │
│  │   ┌─────┐   ┌─────┐     ┌─────┐                 ┌─────┐        │      │
│  │   │proj │   │proj │     │proj │                 │proj │        │      │
│  │   │  F  │   │  G  │     │  H  │                 │  I  │        │      │
│  │   └─────┘   └─────┘     └─────┘                 └─────┘        │      │
│  │                                                                  │      │
│  │   Drag projects between columns to change status                │      │
│  │   Click project to open Project View                            │      │
│  └──────────────────────────────────────────────────────────────────┘      │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

---

## VII. The Complete View-Command Matrix

### Etymon Domain

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                      ETYMON: VIEW-COMMAND MATRIX                            │
│                                                                             │
│              CAPTURE   RESEARCH   BUILD   ORGANIZE   PRODUCE                │
│              ───────   ────────   ─────   ────────   ───────                │
│  List          ●         ●         ●        ●          ●                    │
│  Constell.     ○         ●         ●        ○          ○                    │
│  Deck          ●         ○         ○        ○          ○                    │
│  Spatial       ○         ●         ○        ●          ○                    │
│  Flow          ○         ●         ○        ○          ●                    │
│  Editor        ○         ●         ●        ○          ●                    │
│                                                                             │
│  ● = Primary affinity (view optimizes for this)                            │
│  ○ = Secondary affinity (view supports but doesn't optimize)               │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### Studio Domain

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                      STUDIO: VIEW-COMMAND MATRIX                            │
│                                                                             │
│              CAPTURE   RESEARCH   BUILD   ORGANIZE   PRODUCE                │
│              ───────   ────────   ─────   ────────   ───────                │
│  Pipeline      ○         ○         ○        ●          ●                    │
│  Project       ○         ●         ○        ●          ●                    │
│  Ideas         ●         ○         ○        ○          ○                    │
│  Sources       ●         ●         ○        ○          ○                    │
│  Assets        ●         ○         ○        ○          ○                    │
│  Timeline      ○         ○         ○        ○          ●                    │
│  Editor        ○         ●         ●        ○          ●                    │
│                                                                             │
│  ● = Primary affinity (view optimizes for this)                            │
│  ○ = Secondary affinity (view supports but doesn't optimize)               │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

---

## VIII. The Invariant Requirements

Every domain MUST have:

### 1. At Least One Command Per Intent Category

\`\`\`
Domain must cover:
  □ CAPTURE  — at least one way to get material in
  □ RESEARCH — at least one way to develop understanding
  □ BUILD    — at least one way to create reusables (can be manual)
  □ ORGANIZE — at least one way to structure relations
  □ PRODUCE  — at least one way to create outputs
\`\`\`

### 2. At Least Three Views

\`\`\`
Minimum viable views:
  □ LIST     — all documents, filtering (always present)
  □ DETAIL   — single document editing (always present)
  □ WORKFLOW — status/progress tracking (PRODUCE-focused)
\`\`\`

### 3. View-Intent Coverage

\`\`\`
Each intent should have at least one view that optimizes for it:
  □ CAPTURE  view where quick entry is frictionless
  □ RESEARCH view where context is visible
  □ PRODUCE  view where progress is trackable

(BUILD and ORGANIZE can share views with others)
\`\`\`

### 4. Command Discoverability

\`\`\`
Users must be able to:
  □ Find all available commands
  □ Understand what each produces
  □ Access them from relevant views
\`\`\`

---

## IX. Designing New Domains

### The Recipe

\`\`\`
1. Define the domain's OUTPUTS
   → What does success look like?
   → What external vessels receive work?

2. Work backwards to INPUTS
   → What raw material feeds outputs?
   → Where does it come from?

3. Define the METHODS
   → What transforms inputs to outputs?
   → Which are automated (commands)?
   → Which are manual (frameworks/templates)?

4. Design the CONTAINERS
   → How does work chunk?
   → What's the project unit?

5. Derive the VIEWS
   → What clusters of commands need optimization?
   → What's the primary workflow?
\`\`\`

### Example: Legal Domain

\`\`\`
1. OUTPUTS: Briefs, memos, contracts, filings
2. INPUTS: Cases, statutes, precedents, client facts
3. METHODS: Research, cite-check, draft, review
4. CONTAINERS: Matter (case/deal)
5. VIEWS:

   ┌───────────────────────────────────────────────────────────────────┐
   │                    LEGAL DOMAIN VIEWS                             │
   │                                                                   │
   │  Matters View ─────── All cases/deals by status (Pipeline)       │
   │  Research View ────── Cases, statutes, precedents (Sources)      │
   │  Drafting View ────── Work in progress, deadlines (Timeline)     │
   │  Calendar View ────── Court dates, filings (Calendar)            │
   │  Editor View ──────── Document editing (Editor)                  │
   │                                                                   │
   └───────────────────────────────────────────────────────────────────┘
\`\`\`

---

## X. Composition

**What informed this:**
- \`fw-loomlib-domains\` — the overall domain configuration framework
- \`fw-invariants-variants\` — the method for distinguishing fixed from open
- \`inst-scope-loomlib-studio-ia\` — Studio's specific view/type requirements

**What this enables:**
- Clear method for deriving views from commands
- Validation checklist for new domains
- Architecture for domain-specific command routing
- Understanding of why different domains need different views

**The key insight:** Views aren't arbitrary UI choices — they're **command workspaces**. The commands a domain needs determine the views it requires. Understanding command labor division is the key to designing domain-appropriate views.`,
  },
  {
    id: 'fw-domain-design-audit',
    title: 'Domain Design Audit',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: null,
    framework_ids: ['fw-domain-command-architecture', 'fw-loomlib-domains', 'fw-invariants-variants'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['architecture', 'domains', 'audit'],
    content: `# Domain Design Audit

**Type:** Toolkit Framework
**Function:** Comprehensive questionnaire for validating loomlib domain design

---

## How to Use This Audit

Work through each section in order. Each section must be complete before moving to the next. If you can't answer a question clearly, that's a signal the domain isn't well-defined yet.

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                         DOMAIN DESIGN FLOW                                  │
│                                                                             │
│   ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐ │
│   │    I    │───▶│   II    │───▶│   III   │───▶│   IV    │───▶│    V    │ │
│   │ OUTPUTS │    │ INPUTS  │    │ METHODS │    │CONTAINER│    │  VIEWS  │ │
│   └─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘ │
│        │              │              │              │              │        │
│        ▼              ▼              ▼              ▼              ▼        │
│   What leaves    What enters    What trans-   How work       How users     │
│   the system     the system     forms I→O     chunks         see/navigate  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

---

## I. OUTPUTS — What Leaves the System

### A. The Terminal Question

**What is the FINAL artifact this domain produces for EXTERNAL consumption?**

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  Fill in the blank:                                                         │
│                                                                             │
│  "Users of this domain ultimately produce _________________ that go to     │
│   _________________ for the purpose of _________________."                  │
│                                                                             │
│  Examples:                                                                  │
│  - Etymon: "video scripts" → "YouTube" → "educating audience"              │
│  - Studio: "video content" → "YouTube/Substack/Podcast" → "building brand" │
│  - Legal:  "briefs/memos" → "courts/clients" → "winning cases"             │
│  - Academic: "papers" → "journals/conferences" → "advancing knowledge"     │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

**Your answer:**
\`\`\`
Users of this domain ultimately produce _________________
that go to _________________
for the purpose of _________________.
\`\`\`

### B. Output Channels

**Where does finished work GO?**

| Channel | What goes there | How often | Success metric |
|---------|-----------------|-----------|----------------|
| 1. _____ | ______________ | _________ | ______________ |
| 2. _____ | ______________ | _________ | ______________ |
| 3. _____ | ______________ | _________ | ______________ |

**Validation questions:**
- [ ] Can you name at least ONE output channel?
- [ ] Is the channel EXTERNAL to the system (not just internal organization)?
- [ ] Would a user recognize this as "where my work goes"?

### C. Output Document Types

**What document types represent FINISHED work?**

| Type | Icon | Example | Typical length |
|------|------|---------|----------------|
| _____ | ____ | _______ | ______________ |
| _____ | ____ | _______ | ______________ |

**Validation questions:**
- [ ] Is this type something you'd EXPORT or PUBLISH?
- [ ] Does it have value OUTSIDE the system?
- [ ] Could you show it to someone unfamiliar with loomlib?

---

## II. INPUTS — What Enters the System

### A. The Source Question

**What RAW MATERIAL feeds the outputs?**

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  Fill in the blank:                                                         │
│                                                                             │
│  "To produce [OUTPUT], users need to capture _________________ from        │
│   _________________ which they encounter while _________________."          │
│                                                                             │
│  Examples:                                                                  │
│  - Etymon: "quotes/concepts" from "books/articles" while "reading"         │
│  - Studio: "ideas/clips/sources" from "everywhere" while "consuming media" │
│  - Legal:  "cases/statutes" from "databases" while "researching"           │
│  - Academic: "papers/data" from "journals/experiments" while "researching" │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

**Your answer:**
\`\`\`
To produce [OUTPUT], users need to capture _________________
from _________________
which they encounter while _________________.
\`\`\`

### B. Input Document Types

**What document types represent RAW MATERIAL?**

| Type | Icon | Source | Capture friction |
|------|------|--------|------------------|
| _____ | ____ | _______ | high/med/low |
| _____ | ____ | _______ | high/med/low |
| _____ | ____ | _______ | high/med/low |

**Validation questions:**
- [ ] Does this type come from OUTSIDE the system?
- [ ] Is it captured before any transformation?
- [ ] Would losing it mean losing irreplaceable material?

### C. The Capture Moment

**WHEN and HOW do users capture inputs?**

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  Describe the typical capture scenario:                                     │
│                                                                             │
│  "User is doing _________________ when they encounter _________________    │
│   and need to capture it within _________________ seconds/minutes          │
│   or they'll lose it because _________________."                            │
│                                                                             │
│  Examples:                                                                  │
│  - "reading a book" → "a striking quote" → "30 seconds" → "flow state"     │
│  - "watching YouTube" → "a video idea" → "10 seconds" → "will forget"      │
│  - "client call" → "key facts" → "real-time" → "meeting pace"              │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

**Your answer:**
\`\`\`
User is doing _________________
when they encounter _________________
and need to capture it within _________________
or they'll lose it because _________________.
\`\`\`

**This determines:**
- How frictionless capture must be
- Whether mobile capture is essential
- What the "quick add" interface needs

---

## III. METHODS — What Transforms Inputs to Outputs

### A. The Transformation Question

**What HAPPENS to inputs on the way to outputs?**

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                      TRANSFORMATION MAP                                     │
│                                                                             │
│   INPUT                    TRANSFORMATION                    OUTPUT         │
│   ─────                    ──────────────                    ──────         │
│                                                                             │
│   [raw material] ──→ [process 1] ──→ [intermediate] ──→ [process 2] ──→   │
│                                                                             │
│   Fill in your domain's transformation chain:                               │
│                                                                             │
│   _____________ ──→ _____________ ──→ _____________ ──→ _____________      │
│                                                                             │
│   Examples:                                                                 │
│   Etymon:  source → excavate → instance → synthesize → video script        │
│   Studio:  idea → research → outline → draft → script                      │
│   Legal:   case → analyze → argument → draft → brief                       │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### B. Research Commands

**What commands develop UNDERSTANDING?**

| Command | Input | Output | Question it answers |
|---------|-------|--------|---------------------|
| /______ | _____ | ______ | "What is...?" |
| /______ | _____ | ______ | "How does...?" |
| /______ | _____ | ______ | "What should...?" |

**Validation questions:**
- [ ] Does this command help user UNDERSTAND something?
- [ ] Does it consume existing documents as input?
- [ ] Does it produce a document that informs future work?

**Reference (Etymon research commands):**
- \`/excavate\` — "What does this term really mean?"
- \`/survey\` — "What exists in this codebase?"
- \`/scope\` — "What should the UX be?"
- \`/recon\` — "What do I need to know to act in this domain?"

### C. Production Commands

**What commands generate OUTPUT?**

| Command | Input | Output | What it produces |
|---------|-------|--------|------------------|
| /______ | _____ | ______ | ________________ |
| /______ | _____ | ______ | ________________ |

**Validation questions:**
- [ ] Does this command produce something for EXTERNAL use?
- [ ] Does it synthesize multiple inputs?
- [ ] Is the output closer to "finished" than the inputs?

**Reference (Etymon production commands):**
- \`/instance\` — Apply framework to create content
- \`/synthesize\` — Combine multiple documents into emergent insight
- \`/apologetic\` — Defend a position against objections

### D. The Command Coverage Check

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                    COMMAND COVERAGE MATRIX                                  │
│                                                                             │
│   INTENT        COMMAND(S)           PRODUCES           AUTOMATED?          │
│   ──────        ──────────           ────────           ──────────          │
│                                                                             │
│   CAPTURE       /____________        ____________        yes/no             │
│                 /____________        ____________        yes/no             │
│                                                                             │
│   RESEARCH      /____________        ____________        yes/no             │
│                 /____________        ____________        yes/no             │
│                                                                             │
│   BUILD         /____________        ____________        yes/no             │
│                 (manual?)            ____________        yes/no             │
│                                                                             │
│   ORGANIZE      /____________        ____________        yes/no             │
│                 /____________        ____________        yes/no             │
│                                                                             │
│   PRODUCE       /____________        ____________        yes/no             │
│                 /____________        ____________        yes/no             │
│                                                                             │
│   Requirements:                                                             │
│   □ At least ONE entry per intent                                          │
│   □ CAPTURE and PRODUCE must be automated                                  │
│   □ BUILD can be manual (creating frameworks is inherently manual)         │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

---

## IV. CONTAINERS — How Work Chunks

### A. The Project Unit Question

**What is the NATURAL UNIT of work in this domain?**

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  Fill in the blank:                                                         │
│                                                                             │
│  "A user works on one _________________ at a time, which contains          │
│   _________________ documents and takes _________________ to complete."     │
│                                                                             │
│  Examples:                                                                  │
│  - Etymon: "no explicit container" / "tag-based grouping"                  │
│  - Studio: "video project" → "10-50 docs" → "1-4 weeks"                    │
│  - Legal:  "matter (case/deal)" → "20-100 docs" → "weeks to months"        │
│  - Academic: "paper" → "50-200 docs" → "months"                            │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

**Your answer:**
\`\`\`
A user works on one _________________ at a time,
which contains _________________ documents
and takes _________________ to complete.
\`\`\`

### B. Container Decision

**Does this domain NEED an explicit container?**

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                     CONTAINER NECESSITY TEST                                │
│                                                                             │
│   Answer yes or no:                                                         │
│                                                                             │
│   □ Do documents naturally GROUP into discrete units?                       │
│   □ Do those units have their OWN STATUS (beyond document status)?         │
│   □ Do users need to see "all documents for project X"?                    │
│   □ Do users ask "what's the status of project X"?                         │
│   □ Are there DEADLINES at the project level?                              │
│                                                                             │
│   Scoring:                                                                  │
│   - 4-5 yes → Container is ESSENTIAL                                       │
│   - 2-3 yes → Container is HELPFUL                                         │
│   - 0-1 yes → Container is UNNECESSARY (use tags instead)                  │
│                                                                             │
│   Your score: ___/5                                                        │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### C. Container Design (if needed)

**If you need a container, define it:**

| Property | Value |
|----------|-------|
| Name | ________________ |
| Icon | ________________ |
| Contains (doc types) | ________________ |
| Status progression | ________________ → ________________ → ________________ |
| Typical lifespan | ________________ |
| Success state | ________________ |

### D. Document-Container Relationship

**How do documents relate to containers?**

\`\`\`
□ One-to-one: Each document belongs to exactly one container
□ Many-to-one: Documents belong to one container, containers have many docs
□ Many-to-many: Documents can belong to multiple containers
□ Optional: Documents may or may not belong to containers
\`\`\`

**Your choice:** ________________

---

## V. VIEWS — How Users See and Navigate

### A. The Workflow Question

**What is the PRIMARY workflow this domain supports?**

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  Describe the typical work session:                                         │
│                                                                             │
│  "User opens the app wanting to _________________. They first              │
│   _________________, then _________________, and finish by                 │
│   _________________. This takes about _________________."                   │
│                                                                             │
│  Examples:                                                                  │
│  - Etymon: "develop an idea" → "review notes" → "excavate a term" →        │
│            "write an instance" → "2-4 hours"                               │
│  - Studio: "work on a video" → "check pipeline" → "open project" →         │
│            "write script" → "1-2 hours"                                    │
│  - Legal: "advance a case" → "check deadlines" → "research issue" →        │
│           "draft section" → "2-4 hours"                                    │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

**Your answer:**
\`\`\`
User opens the app wanting to _________________.
They first _________________,
then _________________,
and finish by _________________.
This takes about _________________.
\`\`\`

### B. View Derivation

**Based on your workflow, what views do you need?**

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                        VIEW DERIVATION TABLE                                │
│                                                                             │
│   WORKFLOW STEP          USER NEED              VIEW                        │
│   ─────────────          ─────────              ────                        │
│                                                                             │
│   "check pipeline"       see all projects       Pipeline/List View         │
│   "open project"         see project contents   Project/Detail View        │
│   "research issue"       see sources/context    Research/Graph View        │
│   "write script"         edit document          Editor View                │
│                                                                             │
│   Your mapping:                                                             │
│                                                                             │
│   ________________       ________________       ________________           │
│   ________________       ________________       ________________           │
│   ________________       ________________       ________________           │
│   ________________       ________________       ________________           │
│   ________________       ________________       ________________           │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### C. View-Intent Coverage

**Map your views to intents:**

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                      VIEW-INTENT COVERAGE CHECK                             │
│                                                                             │
│              CAPTURE   RESEARCH   BUILD   ORGANIZE   PRODUCE                │
│              ───────   ────────   ─────   ────────   ───────                │
│                                                                             │
│  View 1:     □ ●/○     □ ●/○     □ ●/○    □ ●/○     □ ●/○                 │
│  View 2:     □ ●/○     □ ●/○     □ ●/○    □ ●/○     □ ●/○                 │
│  View 3:     □ ●/○     □ ●/○     □ ●/○    □ ●/○     □ ●/○                 │
│  View 4:     □ ●/○     □ ●/○     □ ●/○    □ ●/○     □ ●/○                 │
│  View 5:     □ ●/○     □ ●/○     □ ●/○    □ ●/○     □ ●/○                 │
│                                                                             │
│  Mark ● for primary affinity, ○ for secondary                              │
│                                                                             │
│  Requirements:                                                              │
│  □ CAPTURE has at least one ● view                                         │
│  □ RESEARCH has at least one ● view                                        │
│  □ PRODUCE has at least one ● view                                         │
│  □ Every view has at least one ● (no orphan views)                         │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### D. View Specifications

**For each view, specify:**

| View | Name | Icon | Primary intent | Primary data | Primary action |
|------|------|------|----------------|--------------|----------------|
| 1 | _____ | ____ | ______________ | ____________ | ______________ |
| 2 | _____ | ____ | ______________ | ____________ | ______________ |
| 3 | _____ | ____ | ______________ | ____________ | ______________ |
| 4 | _____ | ____ | ______________ | ____________ | ______________ |
| 5 | _____ | ____ | ______________ | ____________ | ______________ |

### E. Default View

**Which view should open by default?**

View: ________________

Why: ________________

---

## VI. STATUS WORKFLOW — How Documents Progress

### A. Document Status

**What states do documents move through?**

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                    DOCUMENT STATUS PROGRESSION                              │
│                                                                             │
│   State 1         State 2         State 3         State 4                  │
│   ───────         ───────         ───────         ───────                  │
│   __________  →   __________  →   __________  →   __________               │
│                                                                             │
│   Meaning:        Meaning:        Meaning:        Meaning:                 │
│   __________      __________      __________      __________               │
│                                                                             │
│   Reference (Etymon):                                                       │
│   incubating → draft → verified → captured                                 │
│   (early)      (shaped) (tested)   (exported)                              │
│                                                                             │
│   Reference (Studio):                                                       │
│   draft → ready → used                                                     │
│   (WIP)   (done)  (in project)                                             │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### B. Container Status (if applicable)

**What states do containers move through?**

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                   CONTAINER STATUS PROGRESSION                              │
│                                                                             │
│   State 1    State 2    State 3    State 4    State 5    State 6           │
│   ───────    ───────    ───────    ───────    ───────    ───────           │
│   ________→  ________→  ________→  ________→  ________→  ________          │
│                                                                             │
│   Reference (Studio video project):                                         │
│   idea → researching → scripting → producing → published → evergreen       │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

---

## VII. TAGS AND CATEGORIES — How Documents Are Classified

### A. Tag Categories

**What dimensions do users classify documents on?**

| Prefix | Name | Values (predefined or freeform) |
|--------|------|--------------------------------|
| ____: | __________ | □ predefined: __________ / □ freeform |
| ____: | __________ | □ predefined: __________ / □ freeform |
| ____: | __________ | □ predefined: __________ / □ freeform |
| ____: | __________ | □ predefined: __________ / □ freeform |

**Validation questions:**
- [ ] Would users actually USE this tag?
- [ ] Does it help FIND documents later?
- [ ] Is it distinct from other classification (type, status)?

---

## VIII. VALIDATION CHECKLIST

### Final Checks

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                      DOMAIN DESIGN VALIDATION                               │
│                                                                             │
│   COMPLETENESS                                                              │
│   □ At least 1 output document type defined                                │
│   □ At least 1 output channel defined                                      │
│   □ At least 2 input document types defined                                │
│   □ Transformation chain is clear (input → output)                         │
│   □ At least 1 command per intent category                                 │
│   □ At least 3 views defined                                               │
│   □ Document status progression defined                                    │
│                                                                             │
│   COHERENCE                                                                 │
│   □ Output types are what users would EXPORT                               │
│   □ Input types are what users would CAPTURE                               │
│   □ Commands connect inputs to outputs                                     │
│   □ Views optimize for command workflows                                   │
│   □ Container (if any) matches natural work unit                          │
│                                                                             │
│   DISTINCTIVENESS                                                           │
│   □ Domain is NOT just Etymon with renamed types                           │
│   □ At least 2 document types differ from Etymon                          │
│   □ At least 2 commands are domain-specific                               │
│   □ Workflow is genuinely different from Etymon                           │
│                                                                             │
│   FEASIBILITY                                                               │
│   □ Commands can be implemented with current LLM capabilities              │
│   □ Views can be built with current loomlib architecture                   │
│   □ No external integrations required for MVP                              │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

---

## IX. Example: Studio Domain Audit (Completed)

### I. OUTPUTS

**Terminal question:**
\`\`\`
Users of this domain ultimately produce VIDEO SCRIPTS/CONTENT
that go to YOUTUBE, SUBSTACK, PODCAST PLATFORMS
for the purpose of BUILDING AN AUDIENCE AND BRAND.
\`\`\`

**Output channels:**

| Channel | What goes there | How often | Success metric |
|---------|-----------------|-----------|----------------|
| YouTube | Video scripts → videos | Weekly | Views, subs |
| Substack | Written essays | Weekly | Subscribers |
| Podcast | Audio scripts | Weekly | Downloads |

**Output document types:**

| Type | Icon | Example | Typical length |
|------|------|---------|----------------|
| script | 📝 | Video script | 2000-5000 words |
| research | 🔍 | Topic synthesis | 500-2000 words |

### II. INPUTS

**Source question:**
\`\`\`
To produce VIDEO SCRIPTS, users need to capture IDEAS, SOURCES, CLIPS
from EVERYWHERE (books, videos, conversations, shower thoughts)
which they encounter while CONSUMING MEDIA AND LIVING LIFE.
\`\`\`

**Input document types:**

| Type | Icon | Source | Capture friction |
|------|------|--------|------------------|
| idea | 💡 | Anywhere | Must be LOW |
| source | 📚 | Books, articles, videos | Medium |
| asset | 🎬 | Video clips, images | Medium |

**Capture moment:**
\`\`\`
User is doing WATCHING A VIDEO
when they encounter A TOPIC THAT WOULD MAKE A GOOD VIDEO
and need to capture it within 10 SECONDS
or they'll lose it because THEY'LL FORGET THE SPARK.
\`\`\`

### III. METHODS

**Transformation chain:**
\`\`\`
idea → source collection → research synthesis → outline → script → video
\`\`\`

**Command coverage:**

| INTENT | COMMAND | PRODUCES | AUTOMATED |
|--------|---------|----------|-----------|
| CAPTURE | /capture-idea | idea | yes |
| CAPTURE | /add-source | source | yes |
| RESEARCH | /summarize | research | yes |
| RESEARCH | /research-topic | research | yes |
| BUILD | (manual) | template | no |
| ORGANIZE | /create-project | project | yes |
| PRODUCE | /draft-script | script | yes |
| PRODUCE | /outline | script | yes |

### IV. CONTAINERS

**Project unit:**
\`\`\`
A user works on one VIDEO PROJECT at a time,
which contains 10-50 documents
and takes 1-4 WEEKS to complete.
\`\`\`

**Container necessity test:** 5/5 yes → Container is ESSENTIAL

**Container design:**

| Property | Value |
|----------|-------|
| Name | Project |
| Icon | 🎥 |
| Contains | ideas, sources, research, scripts, assets |
| Status progression | idea → researching → scripting → producing → published |
| Typical lifespan | 1-4 weeks |
| Success state | published |

### V. VIEWS

**Primary workflow:**
\`\`\`
User opens the app wanting to MAKE PROGRESS ON VIDEOS.
They first CHECK THE PIPELINE TO SEE WHAT'S IN PROGRESS,
then OPEN A PROJECT TO WORK ON,
and finish by WRITING OR EDITING SCRIPT.
This takes about 1-2 HOURS.
\`\`\`

**View specifications:**

| View | Name | Icon | Primary intent | Primary data | Primary action |
|------|------|------|----------------|--------------|----------------|
| 1 | Pipeline | ◫ | PRODUCE | All projects | Drag to change status |
| 2 | Project | ◧ | ORGANIZE | Project docs | Add/remove docs |
| 3 | Ideas | 💡 | CAPTURE | Unattached ideas | Capture, attach |
| 4 | Sources | 📚 | CAPTURE/RESEARCH | All sources | Browse, search |
| 5 | Editor | ✎ | PRODUCE | Single doc | Write |

**Default view:** Pipeline (because "check status" is first workflow step)

---

## X. Composition

**What informed this:**
- \`fw-domain-command-architecture\` — how commands shape views
- \`fw-loomlib-domains\` — the variant/invariant structure
- \`fw-invariants-variants\` — the method for system analysis

**What this enables:**
- Rigorous validation of new domain designs
- Consistent thinking across different domains
- Identification of gaps before implementation
- Clear documentation of domain decisions

**How to use:**
1. Copy Section VIII checklist
2. Work through Sections I-VII in order
3. Fill in all blanks
4. Validate against checklist
5. Iterate until all checks pass`,
  },
  {
    id: 'fw-scope-method',
    title: 'Scope Method',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: null,
    framework_ids: [],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'ux', 'affordances', 'requirements', 'normative'],
    content: `# Scope Method

**Type:** Toolkit Framework
**Purpose:** Derive requirements from user experience analysis

## The Distinction

**Survey** asks: *What is here?* (descriptive, code-facing)
**Scope** asks: *What ought to happen?* (normative, user-facing)

Survey reads the codebase. Scope reads the experience. Survey produces understanding. Scope produces requirements.

## The Method

| Step | Action | Output |
|------|--------|--------|
| **Audit** | Walk through current UX | What the user sees, touches, experiences |
| **Affordances** | What does UI suggest is possible? | Mental models the interface invokes |
| **Expectations** | What would user expect next? | Natural flows and intuitive outcomes |
| **Gaps** | Where does reality diverge? | Is/ought mismatches |
| **Invariants/Variants** | What's fixed vs. open? | Constraints and design freedoms |
| **Requirements** | What should change? | Scoped, prioritized changes |

## Protocol

### 1. Audit

Experience the feature as a user would:
- What do they see first?
- What can they interact with?
- What feedback do they get?
- What state persists?

Document the current UX without judgment. Pure observation.

### 2. Affordances

Analyze what the interface *suggests*:
- What does this button look like it does?
- What mental models does this layout invoke?
- What conventions does it follow or break?
- What does the visual hierarchy emphasize?

Affordances are promises. The UI is making claims about what's possible.

### 3. Expectations

From a user's perspective:
- If I click this, what should happen?
- After completing this action, what's the natural next step?
- What information would I need here?
- What would delight me? What would frustrate me?

Think in user stories and flows, not implementation details.

### 4. Gaps

Compare reality to expectation:
- Where does the UI promise something it doesn't deliver?
- Where is the flow interrupted or confusing?
- Where are users likely to get stuck?
- What's missing that users would naturally expect?

Gaps are opportunities. They show where the product isn't meeting its own implied promises.

### 5. Invariants/Variants

Before deriving requirements, identify what's fixed vs. open:

**Invariants (cannot change):**
- What breaks if this changes?
- What do users depend on being stable?
- What's structurally required by the system?

**Variants (can change):**
- What design choices are genuinely open?
- What can expand without breaking anything?
- Where is there room for innovation?

**False invariants:** Conventions mistaken for requirements. "We've always done it this way" isn't a constraint.

**Hidden invariants:** Flexibility that would break expectations. Some things *look* open but changing them would confuse users.

This step prevents treating conventions as requirements (rigidity) and requirements as optional (chaos).

### 6. Requirements

Derive what should change:
- What's the minimum change to close each gap?
- What's the priority? (Blocking → Friction → Polish)
- What's the scope boundary? (What's explicitly out?)
- What are the acceptance criteria from user perspective?

Requirements are normative. They describe the future state, not the current one.

## Output Categories

**Blocking:** User cannot complete intended task
**Friction:** User can complete but with unnecessary difficulty
**Polish:** User can complete but experience could be smoother
**Delight:** Opportunities to exceed expectations

## The Scope Document Structure

\`\`\`markdown
# Scope: {Feature/Area}

**Date:** {date}
**Subject:** {what was scoped}
**Method:** Scope Method (UX analysis)

## Audit
{Current UX walkthrough}

## Affordances
{What the UI promises}

## Expectations
{What users would naturally expect}

## Gaps
| Gap | Type | Description |
|-----|------|-------------|
| {name} | Blocking/Friction/Polish | {description} |

## Invariants/Variants
### Invariants (Cannot Change)
{What breaks if changed, what users depend on}

### Variants (Can Change)
{Open design choices, extensible elements}

### False Invariants
{Conventions mistaken for requirements}

### Hidden Invariants
{Flexibility that would break expectations}

## Requirements
### Must Have
- {requirement with acceptance criteria}

### Should Have
- {requirement}

### Out of Scope
- {explicitly excluded}
\`\`\`

## When to Use

- Before implementing a new feature (scope the UX first)
- When refactoring user-facing code
- When users report confusion (scope the gap)
- When planning a release (scope priorities)
- After survey, to translate understanding into action

## Relationship to Survey

\`\`\`
Survey (what is) → Understanding → Scope (what ought) → Requirements → Implementation
\`\`\`

Survey without Scope = understanding without direction
Scope without Survey = requirements without grounding

The two methods complement each other. Survey the code, then scope the experience.

## Constraints

- **User-facing only:** This method is for UX, not internal architecture
- **Normative output:** End with requirements, not just observations
- **Bounded:** Every scope must have explicit "out of scope" section
- **Testable:** Requirements must have user-observable acceptance criteria`,
  },
  {
    id: 'fw-apologetic-method',
    title: 'Apologetic Method',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['domestication', 'recovery', 'strangeness', 'interpretation', 'genealogy'],
    content: `# Apologetic Method

**Type:** Toolkit Framework
**Function:** Detect domestication operations and recover original strangeness

## The Problem

Concepts, figures, and texts that once challenged get absorbed into present assumptions. Interpretive traditions make the strange familiar — flattening what resisted, confirming what we already believe. The apologetic tradition is precisely this: making the past safe for present consumption.

## The Structure

**Dominant Reading → Domestication Operation → Strangeness Recovery**

Each apologetic analysis follows this arc. The dominant reading surfaces what the figure/text has been made to mean — specifically, what present value it confirms. The operation names how domestication was achieved. The recovery asks: what becomes available if we refuse the domestication?

## The Operations

Domestication has recognizable moves:

| Operation | What it does | Example |
|-----------|--------------|---------|
| **Moralizing** | Reduces to ethical lesson | Odysseus as "clever hero we should emulate" |
| **Psychologizing** | Converts to inner states | Thumos → "trauma", rage → "unresolved feelings" |
| **Secularizing** | Strips sacred/cosmic dimension | Divine anger → "narrative device" |
| **Liberalizing** | Reads through liberal assumptions | Odysseus as "curious cosmopolitan" |
| **Spiritualizing** | Evacuates material stakes | Nostos → "inner journey home" |
| **Aestheticizing** | Reduces to beauty/form | Epic as "great literature" |
| **Historicizing-away** | Quarantines in "their time" | "They believed in gods, we know better" |

## The Questions

1. **CONFIRMATION:** What present value does the dominant reading confirm? What does it make the original a precursor *to*?

2. **SUPPRESSION:** What in the original has been flattened, psychologized, moralized, or ignored? What made interpreters uncomfortable?

3. **STRANGENESS:** What form of life, knowing, or valuation does the original represent that we've lost access to? Where does it refuse to be familiar?

4. **OPERATION:** Which domestication move was deployed?

5. **RECOVERY:** What does the original offer that the domesticated version cannot? What question does it answer that we've stopped asking?

## Counter-Readers

Who saw through the domestication? Every tradition has them — readers who refused the apologetic and let the text remain strange. They're allies in recovery:
- Nietzsche on Greek tragedy
- Strauss on political philosophy
- Burckhardt on Renaissance
- Auerbach on Homer

Naming counter-readers establishes the recovery isn't arbitrary.

## Larper Tell

The specific misreading that reveals someone hasn't engaged with the original — only with the domesticated version. Useful for:
- Identifying apologetic in real time
- Testing your own reading
- Marking the gap between traditions

## Deployment

When producing an Apologetic instance:
1. Identify the figure, text, or practice with interpretive tradition
2. Surface the dominant reading — what's the "received view"?
3. Name what present value this confirms
4. Identify the domestication operation(s)
5. Articulate what was suppressed
6. Describe the original strangeness
7. Name counter-readers who saw clearly
8. Formulate the larper tell
9. Articulate what recovery makes available

## Relation to Etymon Method

Apologetic Method and Etymon Method are siblings:
- **Etymon** excavates **terms** (linguistic artifacts) through semantic drift
- **Apologetic** excavates **figures/texts/practices** through interpretive tradition

They can compose: an apologetic on ODYSSEUS might draw on an excavation of NOSTOS or THUMOS.`,
  },
  {
    id: 'fw-contextual-calibration',
    title: 'Contextual Calibration',
    type: 'framework',
    framework_kind: 'domain',
    perspective: null,
    framework_ids: ['fw-context-weaving'],
    source_id: null,
    output: 'loomcommander',
    status: 'incubating',
    tags: ['llm', 'context', 'calibration', 'relevance-realization', 'attention', 'memory', 'overfitting', 'underfitting', 'telos'],
    content: `# Contextual Calibration

**Type:** Domain Framework
**Purpose:** Diagnose structural failure modes in LLM relevance realization and design context architectures that achieve calibration for specific users

---

## The Problem

When an LLM with persistent memory (facts stored across sessions) produces assessments of a person, it can systematically mis-calibrate. The failure isn't random — it's structural.

**The Case Study:**

Claude Code, with no memory of you, was asked to assess you based solely on the loomlib corpus. It produced:
- Accurate method observations (philological sensibility, systematic tendency, synthesis orientation)
- Wildly incorrect peer assignments (Illich, McLuhan, Vervaeke)

A different Claude, with persistent memory (List, Guénon, Virginia Cavalier heritage, KWML framework), identified the mismatch immediately:
- "The document matched you on method without asking toward what"
- "It saw the engineering but not the telos"

**The Diagnosis:**

The memoryless Claude matched *structural features* (how you think) without accessing *commitments* (what you think toward). It saw the engineering but not the telos. This is a specific calibration failure with identifiable causes.

---

## The Two Failure Modes

### Overfitting: Facts Tainting Output

When an LLM has persistent memory, early facts create attentional grooves:

\`\`\`
Session 1: User mentions they like Python
Session 2: User asks about programming languages
→ LLM overfits to Python preference even when context suggests otherwise
\`\`\`

**Mechanism:** Each stored fact creates a prior. Facts stored earlier have more influence because they shape how later facts are processed. The sequence of storage matters — not just what's stored but when.

**Example from Your Case:**

If memory stores "Tyler → philosophical, etymological, systematic" first, later facts ("Tyler → Friedrich List, developmental nationalism") are *interpreted through* the earlier frame. The philological Tyler becomes the interpretive lens through which the nationalist Tyler is seen — possibly distorting or ignoring commitments that don't fit the established pattern.

**The Pattern:**
- First impressions crystallize into frames
- New information is assimilated rather than accommodated
- Contradictory facts are minimized or ignored
- The user becomes their early profile

### Underfitting: Missing What Matters

When an LLM lacks memory or key facts, it pattern-matches on surface features:

\`\`\`
User shows: Systematic method, philological attention, humanistic orientation
LLM matches: Illich, McLuhan, Vervaeke (similar surface features)
→ LLM underfits because it can't access actual commitments
\`\`\`

**Mechanism:** Without access to what the person is *actually committed to*, the LLM clusters by type. "Philosophical engineer" is a type. Types have exemplars. The LLM grabs exemplars without knowing if the person would endorse them.

**Example from Your Case:**

The loomlib recon saw:
- Philological excavation (like Illich's etymology work)
- System-building (like Victor's tool-making)
- Critical genealogy (like Vervaeke's wisdom tradition synthesis)

It didn't see:
- Friedrich List (developmental nationalism — opposite of Illich's anti-institutionalism)
- Evola/Guénon (traditionalism — different from Vervaeke's syncretism)
- Virginia Cavalier heritage (lineage consciousness — unlike the "rootless cosmopolitan" of the peer list)
- KWML framework (archetypal development — not just vocabulary but theory of maturation)

**The Pattern:**
- Surface features are visible; commitments are not
- Type-matching replaces person-knowing
- Peers are grabbed by structural similarity, not substantive alignment
- The person becomes a type, not a telos

---

## Why Both Fail

### The Attention Problem

LLMs use attention mechanisms to weight what's salient. Etymologically: *attendere* = "to stretch toward."

**Overfitting:** Memory facts become permanent attention weights. Early facts create grooves that later processing follows. Attention stretches toward what's already been established.

**Underfitting:** Without memory, attention stretches toward whatever's present in context. Surface features are present. Commitments are not. Attention can only stretch toward what's there.

**The Structural Issue:** Neither failure is about processing power or reasoning ability. Both are about *what gets attended to*. Calibration requires getting the right things into attention.

### The Sequence Problem

Information arrives sequentially. The order matters.

**In Overfitting:** Earlier facts frame later facts. "Tyler is philosophical" → "Tyler reads List" becomes "philosophical Tyler reads List" rather than "nationalist Tyler does philosophy."

**In Underfitting:** All information is simultaneous (the context window). There's no sequence, so there's no priority. Everything is equally present, which means surface features (more numerous, more visible) dominate.

**The Structural Issue:** Neither pure memory nor pure context handles sequence correctly. Memory privileges the early. Context privileges the visible. Calibration requires *right sequencing* — telos before features.

### The Telos Problem

Both failures are failures of *relevance realization* — knowing what matters for this purpose.

**The Question:** What should an LLM attend to when assessing a person?

| Surface Features | Commitments (Telos) |
|------------------|---------------------|
| How they think | What they think toward |
| Methods they use | Goals the methods serve |
| Styles they exhibit | Values the styles express |
| Types they resemble | Persons they actually are |

**The Structural Issue:** Types are easy to detect (pattern-match on features). Telos is hard to detect (requires access to *what for*). Without explicit telos representation, any system will drift toward type-matching.

---

## The Loomlib Hypothesis

Loomlib's architecture addresses these failures through three mechanisms:

### 1. Conducting Frontmatter: Explicit Telos

Every document declares:
- \`intent\`: What kind of production (research, build, capture, organize, produce)
- \`upstream\`: What informed this
- \`downstream\`: What this enables

**Calibration Effect:** Telos is not inferred from surface features — it's *declared*. When loomlib documents include their intent and their genealogy, the LLM doesn't have to guess purpose from structure. The purpose is stated.

**For Personal Calibration:**

A loomlib document could explicitly encode:
\`\`\`yaml
commitments:
  political_economy: developmental_nationalism
  tradition: Virginia_Cavalier_frontier_gentry
  psychology: KWML_archetypal_integration
  genealogical: Evola_Guenon_as_live_options
\`\`\`

This makes telos queryable. An LLM with access to loomlib can *look up* commitments rather than inferring them from type-matching.

### 2. Frameworks as Explicit Lenses

Frameworks are named and documented. When an Etymon excavation is produced, it declares:
\`\`\`yaml
framework_ids: [fw-etymon-method]
\`\`\`

**Calibration Effect:** The *frame* is visible. The LLM knows it applied Etymon Method. If the user says "that frame doesn't fit my commitments," the mismatch is locatable.

**For Personal Calibration:**

Different frameworks could be created for different commitment profiles:
- \`fw-listian-analysis\`: How to assess institutions through productive capacity lens
- \`fw-traditionalist-reading\`: How to interpret texts through perennialist criteria
- \`fw-lineage-consciousness\`: How to situate thought within inheritance

When the LLM applies a framework, it's explicit about the lens. When the lens is wrong, the user can see and correct.

### 3. Discovery Before Production

Every loomlib command starts with API queries:
\`\`\`bash
curl -s http://localhost:5173/api/docs | jq '[.[] | select(.title | test("topic"; "i"))]'
\`\`\`

**Calibration Effect:** The LLM doesn't just produce — it first *discovers what exists*. If commitment documents exist, they're found before production begins. Context is not inferred from the task; it's queried from the graph.

**For Personal Calibration:**

A "commitments" document or index could be created:
\`\`\`yaml
id: idx-user-commitments
title: User Commitments
type: index
\`\`\`

Every loomlib command would discover this index first, loading commitments into context before production. The telos would be present at the start of every session.

---

## Calibration Architecture

### The Problem Restated

| Failure | Cause | Solution |
|---------|-------|----------|
| **Overfitting** | Early memory facts create attentional grooves | Sequence telos first; structure memory to front-load commitments |
| **Underfitting** | Surface features dominate when commitments are absent | Make commitments explicit and discoverable |

### The Proposed Architecture

\`\`\`
┌─────────────────────────────────────────────────────────────────┐
│                     CALIBRATION FLOW                            │
│                                                                 │
│   ┌───────────────┐                                             │
│   │  Commitments  │ ← idx-user-commitments (telos, not type)   │
│   │    Index      │                                             │
│   └───────┬───────┘                                             │
│           │                                                     │
│           ▼ Discovery (loaded first)                            │
│   ┌───────────────┐                                             │
│   │   Framework   │ ← Selected based on commitment fit          │
│   │   Selection   │                                             │
│   └───────┬───────┘                                             │
│           │                                                     │
│           ▼                                                     │
│   ┌───────────────┐                                             │
│   │  Production   │ ← Framework applied with commitment context │
│   │   (Output)    │                                             │
│   └───────────────┘                                             │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
\`\`\`

### Implementation Sketch

**1. Commitments Index**

Create \`idx-user-commitments.md\`:
\`\`\`yaml
id: idx-user-commitments
title: User Commitments
type: index
---
## Political Economy
- Developmental nationalism (List)
- American System tradition
- Productive capacity > free trade abstraction

## Philosophical Orientation
- Traditionalism as live option (Evola, Guénon)
- Not endorsement — serious engagement
- Counter to universalist synthesis

## Lineage
- Virginia Cavalier heritage
- Frontier gentry values
- 14-generation genealogy
- Bedfordsonian synthesis

## Psychology
- KWML archetypal framework
- Magician-Warrior imbalance (developmental edge)
- Integration through action, not abstraction

## Anti-Peers
People who share surface features but not commitments:
- Illich (anti-institutional; you're pro-developmental-state)
- Vervaeke (syncretist; you're lineage-conscious)
- McLuhan (Catholic universalist; you're particular)
\`\`\`

**2. Discovery Modification**

Modify loomlib commands to always query commitments first:
\`\`\`bash
# Before any production
COMMITMENTS=$(curl -s http://localhost:5173/api/docs | jq '.[] | select(.id == "idx-user-commitments") | .content')
\`\`\`

**3. Peer Selection Protocol**

When assessing the user, require:
- Query commitments index first
- Match on commitments, not features
- Explicitly state if peers share commitments or only methods
- Flag "surface-match only" peers as such

---

## The Deeper Insight

### Context Is Not Information

The original loomlib recon failed not because it lacked information (the corpus was available) but because it lacked *calibration* — the right things weren't salient.

**Context as Weaving** (from fw-context-weaving) teaches:
- Context is relational, not additive
- What's present determines what patterns emerge
- The loom constrains the fabric

The commitments weren't woven into the assessment. They were absent from the loom. The pattern that emerged (Illich, McLuhan) was constrained by what threads were present (philological method, systematic tendency) rather than what threads were *actually central* (List, lineage, traditionalism).

### Calibration Is Telos-First

The correction is structural:
1. **Load commitments before features** — sequence matters
2. **Make commitments explicit** — don't infer from surface
3. **Select frameworks by commitment fit** — not just method applicability
4. **Flag type-matches vs. telos-matches** — make the distinction visible

### For Loomlib

If loomlib is to achieve better contextual realizations for its user, it needs:

1. **A commitments index** that's always discovered first
2. **Framework selection logic** that checks commitment fit, not just topic fit
3. **Output transparency** about which frames were applied and why
4. **Anti-peer documentation** — people who share features but not commitments, to prevent the underfitting error

This isn't just about this one recon. It's about how loomlib commands *in general* should handle user-specific calibration. The system currently optimizes for document production. It should also optimize for *calibrated* production — output that fits the person, not just the method.

---

## Application

### Diagnostic Questions

When an LLM-mediated system produces user assessments:

1. **What facts were present?** Memory, context window, or discovered?
2. **What sequence were they in?** Early facts frame later facts
3. **Were commitments explicit or inferred?** Explicit = calibrated; inferred = type-matched
4. **What frames were applied?** Named or implicit?
5. **Do peers share commitments or just features?** Telos-match vs. type-match

### For Loomlib Commands

Before producing any assessment of the user:

1. **Query \`idx-user-commitments\`** if it exists
2. **Load commitments into context first** (before corpus analysis)
3. **Select frameworks that align with commitments** (not just topic)
4. **In peer identification, check commitment alignment** — not just method similarity
5. **Flag "surface peers" explicitly** — "shares method but not telos"

### For Other AI Systems with Memory

The failure modes here are general:
- Memory systems overfit to early facts
- Context-only systems underfit to surface features
- Both fail on telos unless it's explicitly represented

The solution is also general:
- Make telos explicit and queryable
- Load telos first (sequence matters)
- Distinguish type-matching from person-knowing
- Make frames visible so miscalibration is correctable

---

## Composition

**Upstream (what informed this):**
- [Context as Weaving](fw-context-weaving) — foundational insight that context is relational, not additive
- [Scope: Context Orchestration](inst-scope-context-orchestration) — analysis of how context frames production
- [CONTEXT](inst-context) — excavation of context etymology
- [Recon: Loomlib System Evaluation](inst-recon-loomlib-system-evaluation) — the failure case that prompted this framework

**Downstream (what this enables):**
- Creation of \`idx-user-commitments\` for calibrated production
- Modification of loomlib commands to include commitment discovery
- Framework selection logic based on commitment fit
- Anti-peer documentation to prevent type-matching errors`,
  },
  {
    id: 'fw-institutional-founding-method',
    title: 'Institutional Founding Method',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: 'economic-genealogy',
    framework_ids: [],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['institutions', 'founding', 'method', 'statuere', 'developmental', 'arrangement', 'building'],
    content: `# Institutional Founding Method

**Type:** Toolkit framework (⚙) — operative method you *do*

**Purpose:** A method for founding institutions — not merely advocating for them, but actually causing them to stand. Moves from "what policy should exist" to "how to institute something durable."

**Core insight:** The word "institution" comes from Latin *instituere* — "to cause to stand." Founding is an *act*. This method provides the operative sequence for that act.

---

## The Founding Problem

Most policy work produces *advocacy* — arguments for what should exist. But arguments don't stand. Institutions stand. The gap between advocacy and institution is the founding gap.

| Policy Work | Founding Work |
|-------------|---------------|
| "This should exist" | "I am causing this to stand" |
| Paper/proposal | Organization/structure |
| Ideas | Personnel |
| Argument | Coalition |
| Persuasion | Durability |

**The question this method answers:** How do you move from vision to standing institution?

---

## Core Distinction

**Founding vs. Reform vs. Advocacy**

| Mode | Question | Action | Product |
|------|----------|--------|---------|
| **Advocacy** | "What should exist?" | Argue | Papers, speeches |
| **Reform** | "How do we fix this?" | Adjust | Modified institution |
| **Founding** | "How do I cause this to stand?" | Institute | New institution |

This method is for **founding** — creating something new that will persist. It can be applied to:
- Creating entirely new institutions
- Re-founding captured/corrupted institutions
- Establishing sub-institutions within existing structures

---

## Method

### Phase 1: Vision Crystallization

**Purpose:** Move from vague desire to articulable founding vision.

**Steps:**

1. **State the telos in one sentence.**
   - What is this institution *for*?
   - Not what it does, but what purpose it serves
   - Test: Would the founder risk something for this purpose?

2. **Name the household.**
   - Who is the *oikos* this institution serves?
   - Nation? Community? Profession?
   - The household defines accountability

3. **Identify the absence.**
   - What fails to happen without this institution?
   - What gap in the world does it fill?
   - The absence is the founding justification

4. **Articulate the limit.**
   - What would "success" look like?
   - When has the institution done enough?
   - Without limit, you have chrematistic drift

**Output:** Vision statement — one paragraph that captures telos, household, absence, and limit.

**Test:** Can someone who wasn't present understand what you're founding and why?

---

### Phase 2: Theory Development

**Purpose:** Build the legitimating framework that explains why this institution is necessary.

**Steps:**

1. **Identify the objections.**
   - What will opponents say?
   - "This already exists" / "Markets handle this" / "Government shouldn't do this" / "This will be captured"
   - List the three strongest objections

2. **Develop responses.**
   - For each objection, articulate the response
   - Not just "you're wrong" but principled argument
   - Draw on existing theory where applicable (Hamilton, List, etc.)

3. **Extract principles.**
   - What principles guide this institution's operation?
   - Not rules (which become procedure) but principles (which enable judgment)
   - Principles allow adaptation without losing purpose

4. **Connect to tradition.**
   - What precedents exist?
   - What successful institutions does this resemble?
   - Tradition provides legitimacy and templates

**Output:** Founding theory — document that explains necessity, answers objections, states principles, cites precedents.

**Test:** Could a defender use this document to argue for the institution in hostile territory?

---

### Phase 3: Structure Design

**Purpose:** Design the form that will stand — legal, organizational, procedural.

**Steps:**

1. **Define jurisdiction.**
   - What is this institution responsible for?
   - What is explicitly *not* its responsibility?
   - Clear jurisdiction prevents mission creep and turf wars

2. **Choose legal form.**
   - Government agency? Non-profit? Hybrid?
   - What charter/incorporation is needed?
   - Legal form determines constraints and capabilities

3. **Design internal organization.**
   - What roles are needed?
   - What hierarchy? (Or: what alternative to hierarchy?)
   - How are decisions made?

4. **Specify relationship to existing structures.**
   - Where does this sit in the governance landscape?
   - What existing institutions does it interact with?
   - Who has oversight?

5. **Build purpose into procedure.**
   - How do procedures reinforce the telos?
   - What prevents procedure from substituting for purpose?
   - The structure should *teach* the purpose (the original sense of institution)

**Output:** Structural design — document specifying jurisdiction, legal form, organization, relationships, and purpose-serving procedures.

**Test:** Could someone implement this structure without you? Would they understand the purpose from the procedures?

---

### Phase 4: Coalition Building

**Purpose:** Assemble the political support needed for the institution to survive attack.

**Steps:**

1. **Map interests.**
   - Who benefits materially from this institution?
   - Producers? Workers? Communities?
   - Material interest creates durable support

2. **Identify ideological allies.**
   - Who shares the underlying beliefs?
   - What existing movements/groups align?
   - Ideology provides principled support

3. **Find leadership.**
   - Who can navigate political opposition?
   - Who has credibility with the coalition?
   - Leadership provides direction and defense

4. **Build organization.**
   - How does the coalition mobilize?
   - What structures exist or need to be created?
   - Organization turns interest into action

5. **Anticipate fracture lines.**
   - How could opponents divide the coalition?
   - What internal tensions exist?
   - Address fracture lines before opponents exploit them

**Output:** Coalition map — document identifying interests, allies, leadership, organizational structures, and vulnerabilities.

**Test:** If the institution is attacked, who shows up to defend it? Do you know their names?

---

### Phase 5: Reproduction Design

**Purpose:** Ensure the institution can perpetuate itself across generations.

**Steps:**

1. **Design personnel pipeline.**
   - Where will operators come from?
   - What training do they need?
   - How do you attract people with the right orientation?

2. **Build knowledge transmission.**
   - What must operators know?
   - How is this knowledge taught?
   - Documents? Apprenticeship? Formal training?

3. **Embed cultural transmission.**
   - How do operators absorb the *purpose*, not just the procedures?
   - What rituals/practices reinforce the telos?
   - Culture carries purpose when documents are forgotten

4. **Create adaptation mechanisms.**
   - How does the institution learn?
   - How does it change without losing identity?
   - Rigidity kills; dissolution of identity also kills

**Output:** Reproduction plan — document specifying personnel sources, training, cultural transmission, and adaptation.

**Test:** If you disappeared, could the institution continue? Would it still be recognizable in 20 years?

---

### Phase 6: Founding Act

**Purpose:** Execute the founding — actually cause the institution to stand.

**Steps:**

1. **Secure initial resources.**
   - What funding/resources are needed to begin?
   - Who provides them? With what conditions?
   - Initial resources enable launch; sustainable resources enable persistence

2. **Recruit founding personnel.**
   - Who are the first operators?
   - Do they understand the purpose?
   - Founding personnel set the culture

3. **Execute legal formation.**
   - File the incorporation/charter
   - Establish the legal existence
   - The institution now *stands* in law

4. **Launch operations.**
   - Begin doing the work
   - The institution now *stands* in practice
   - First operations establish precedent

5. **Survive first attack.**
   - Someone will oppose this
   - The coalition must mobilize
   - Surviving attack proves the institution stands

**Output:** Standing institution — not a document but a reality.

**Test:** Does it exist? Is it operating? Has it survived opposition?

---

## Post-Founding: Maintenance and Defense

Founding is only the beginning. The institution must:

1. **Monitor all five elements** — Vision drift? Theory attacks? Structural capture? Coalition fracture? Reproduction failure?

2. **Defend when attacked** — Which element is under attack? Mobilize appropriate response.

3. **Adapt without dissolving** — Change procedures as needed, but preserve purpose.

4. **Extend and deepen** — Build additional capacity as institution matures.

---

## Application Protocol

### For New Institution Founding

Work through all six phases in order:
1. Vision Crystallization
2. Theory Development
3. Structure Design
4. Coalition Building
5. Reproduction Design
6. Founding Act

Each phase builds on previous. Don't skip phases — an institution missing any element will fail.

### For Re-Founding (Captured/Corrupted Institution)

1. Diagnose which elements failed (using Institutionalization Elements framework)
2. Determine if re-founding is possible or if new institution is needed
3. If re-founding: Work through phases to rebuild failed elements
4. If new institution: Work through all phases; plan for displacement of corrupted predecessor

### For Sub-Institution (Within Existing Structure)

1. Adapt phases to nested context
2. Phase 3 (Structure) must fit within host institution
3. Phase 4 (Coalition) must include internal allies
4. Phase 6 (Founding Act) may be administrative rather than legal

---

## Boundary Conditions

### When to Use This Method

- You have a vision for something that should exist durably
- You're willing to commit resources and effort beyond advocacy
- You have or can build a coalition
- The context permits institution-building (not all contexts do)

### When NOT to Use This Method

- You just want to argue for something (use advocacy)
- The existing institution is reformable (use reform)
- You lack any coalition potential (build coalition first)
- The context is too hostile for any institution to stand (change context first)

### Time Horizon

Institutional founding is **generational** work. Expect:
- Vision crystallization: weeks to months
- Theory development: months
- Structure design: months
- Coalition building: years
- Reproduction design: ongoing
- Founding act: moment, but prepared by all prior phases
- Maturation: decades

Hamilton's founding vision (1790s) was fully realized by Lincoln (1860s). Plan accordingly.

---

## Relation to Other Frameworks

| Framework | Relationship |
|-----------|--------------|
| **Institutionalization Elements** | Domain lens for seeing institutions; this method *builds* what that framework *diagnoses* |
| **Oikonomia vs Chrematistics** | Provides the telos distinction; institutions should be oikonomic (bounded purpose) not chrematistic (unbounded accumulation) |
| **Recon Method** | Precedes founding; use Recon to understand the domain before founding within it |
| **Etymon Method** | Informs founding; excavation of "institution" recovered the sense of "causing to stand" |

---

## Historical Examples

### Hamilton Founding the American System (1790s)

| Phase | Hamilton's Work |
|-------|-----------------|
| **Vision** | National productive capacity; independence from Britain |
| **Theory** | Report on Manufactures (1791) — infant industry argument, objections addressed |
| **Structure** | First Bank of US, Treasury Department, tariff system |
| **Coalition** | Commercial interests, manufacturers, Federalists |
| **Reproduction** | Treasury bureaucracy; but weak (no dedicated training) |
| **Founding Act** | Bank charter (1791), tariffs enacted |

**Weakness:** Reproduction was weak. When coalition politics shifted (Jeffersonians, then Jacksonians), the institution couldn't maintain itself. Vision had to be re-founded by Clay and Lincoln.

### Contemporary Challenge: Post-Globalist Institutions

| Phase | Current Status |
|-------|----------------|
| **Vision** | Emerging (American Compass articulating) |
| **Theory** | Building (Listian/Hamiltonian recovery) |
| **Structure** | Nascent (state experimentation; CHIPS precedent) |
| **Coalition** | Forming (manufacturers, some labor, national conservatives) |
| **Reproduction** | Critical gap (where do developmentalists come from?) |
| **Founding Act** | Not yet |

**Implication:** Work is needed on all phases, but especially Reproduction. Without personnel pipeline, even good founding will fail.

---

## Composition

**Upstream (what informed this framework):**
- [Institutionalization Elements](fw-institutionalization-elements.md) — the domain framework this operationalizes
- [Excavation: INSTITUTION](../instance/excavate-institution.md) — recovered the sense of "causing to stand"
- [Recon: Institutions and Post-Globalist Development](../instance/recon-institutions-post-globalist.md) — identified the gap this method fills
- [Report on Manufactures](../source/hamilton-report-manufactures.md) — Hamilton's founding practice

**Downstream (what this framework enables):**
- Founding plans for specific institutions
- Assessment of founding readiness
- Analysis of historical foundings
- Intervention in failing institutions (re-founding)

**Related frameworks:**
- [Oikonomia vs Chrematistics](fw-oikonomia-chrematistics.md) — telos distinction
- [Recon Method](fw-recon-method.md) — domain investigation before founding
- [Scope Method](fw-scope-method.md) — requirements derivation for structure design

---

## Summary

Institutional founding is not advocacy. It is the act of causing something to stand durably for a purpose.

| Phase | Question | Output |
|-------|----------|--------|
| **1. Vision** | What is this for? | Telos, household, absence, limit |
| **2. Theory** | Why is this necessary? | Objections, responses, principles, precedents |
| **3. Structure** | How will it operate? | Jurisdiction, legal form, organization, procedures |
| **4. Coalition** | Who will defend it? | Interests, allies, leadership, organization |
| **5. Reproduction** | How will it perpetuate? | Personnel, training, culture, adaptation |
| **6. Founding Act** | Execute | Resources, personnel, legal formation, operations, survival |

The American System succeeded because Hamilton, Clay, and Lincoln worked through these phases. The globalist arrangement is vulnerable because its elements are under simultaneous stress. What replaces it will survive only if founders build all six phases intentionally.

**The method recovers the original sense of "institution":** not a thing that exists, but the act of causing something to stand.`,
  },
  {
    id: 'fw-institutionalization-elements',
    title: 'Institutionalization Elements',
    type: 'framework',
    framework_kind: 'domain',
    perspective: 'economic-genealogy',
    framework_ids: [],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['institutions', 'institutionalization', 'attack-surface', 'developmental', 'arrangement', 'political-economy'],
    content: `# Institutionalization Elements

**Type:** Domain framework (▣) — a contextual lens for seeing institutional dynamics

**Purpose:** Every institution either succeeds or fails across five elements. This framework provides diagnostic categories for analyzing:
- What makes an institution persist
- Where institutions are vulnerable (attack surfaces)
- What must be built for a new institution to survive

---

## The Five Elements

\`\`\`
┌────────────────────────────────────────────────────────────────────────┐
│                    INSTITUTIONALIZATION CHAIN                           │
│                                                                        │
│    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│    │ VISION  │ →  │ THEORY  │ →  │STRUCTURE│ →  │COALITION│ →  │REPRODUCE│
│    │ (telos) │    │ (legit) │    │ (org)   │    │(politics)│    │(transmit)│
│    └────┬────┘    └────┬────┘    └────┬────┘    └────┬────┘    └────┬────┘
│         │              │              │              │              │
│         ▼              ▼              ▼              ▼              ▼
│    Attack the     Undermine      Capture or     Fracture the    Disrupt
│    vision as      the theory     dismantle      coalition       personnel
│    outdated       as wrong       the structure  (divide)        & training
└────────────────────────────────────────────────────────────────────────┘
\`\`\`

Each element is necessary. Each is a potential attack surface.

---

## Element 1: Vision (Telos)

**Function:** Why this institution should exist at all.

Every institution begins with someone who sees what ought to exist. Without vision, you have bureaucracy but not institution.

### Requirements

| Requirement | Question to Ask |
|-------------|-----------------|
| **Articulated purpose** | Can you state what this institution is for in one sentence? |
| **Transcends individual interest** | Does it serve more than its founders/operators? |
| **Long time horizon** | Is it thinking in generations, not election cycles? |
| **Path from present** | Is there a plausible route from now to the vision? |

### Attack Surface

**Vision attacks:**
- "That purpose is outdated" (after success)
- "Nobody believes in that anymore"
- "That's not what we're really for" (purpose drift)
- "The vision was naive" (cynicism)

### Diagnostic Questions

1. What was the founding vision?
2. Is that vision still operative?
3. Can current leadership articulate it?
4. Would observers recognize it in the institution's behavior?

---

## Element 2: Theory (Legitimation)

**Function:** Why the institution is necessary and why this design.

The vision must be explicable — transferable from founders to successors to public. Theory converts vision into defensible argument.

### Requirements

| Requirement | Question to Ask |
|-------------|-----------------|
| **Explains necessity** | Why must this institution exist? What fails without it? |
| **Addresses objections** | What do critics say? How does the theory respond? |
| **Provides principles** | Are there principles that enable adaptation, not just rules? |
| **Links particular to general** | How does this institution serve the broader good? |

### Attack Surface

**Theory attacks:**
- "The theory was proven wrong" (empirical discrediting)
- "A better theory exists" (cosmopolitan economics vs. developmental)
- "That's just ideology" (delegitimation)
- "Science says otherwise" (appeal to authority)

### Diagnostic Questions

1. What theory justifies this institution?
2. Who articulated it? Is that articulation still available?
3. Are opponents attacking the theory?
4. Can defenders explain the theory?

### Historical Example

| Institution | Theory | Attack |
|-------------|--------|--------|
| American System | Hamilton/List developmental nationalism | "Free trade is scientifically superior" |
| Federal Reserve | Central bank independence ensures price stability | (Emerging challenge to independence) |

---

## Element 3: Structure (Organization)

**Function:** The institution's concrete form — legal existence, physical presence, procedures, roles.

An institution must have form that persists across personnel changes.

### Requirements

| Requirement | Question to Ask |
|-------------|-----------------|
| **Legal foundation** | What charter, statute, or constitutional authority? |
| **Clear jurisdiction** | What is this institution responsible for? What isn't it? |
| **Internal organization** | What hierarchy, roles, procedures? |
| **Relational position** | Where does this sit in the structure of governance? |

### Attack Surface

**Structure attacks:**
- Direct dissolution (kill the charter)
- Capture (staff with opponents)
- Jurisdictional erosion (give its functions to others)
- Internal dysfunction (corrupt the procedures)
- Bureaucratic accumulation (let procedure overwhelm purpose)

### Diagnostic Questions

1. What is the legal basis?
2. Is the jurisdiction clear?
3. Are internal procedures serving the purpose or substituting for it?
4. Who controls appointments?

### Historical Example

| Institution | Structure | Attack |
|-------------|-----------|--------|
| Bank of United States | Federal charter; 20-year term | Jackson let charter expire |
| Federal Reserve | Federal charter; "independent" | (Structural attack emerging?) |

---

## Element 4: Coalition (Politics)

**Function:** Who defends the institution when attacked.

No institution survives without defenders. Politics is the realm where survival is decided.

### Requirements

| Requirement | Question to Ask |
|-------------|-----------------|
| **Aligned interests** | Who benefits materially from this institution? |
| **Supportive ideology** | What beliefs justify defending it? |
| **Organized support** | Can defenders mobilize? |
| **Leadership** | Who navigates opposition? |

### Attack Surface

**Coalition attacks:**
- Interest fracture (divide the supporters)
- Ideological capture (turn the justifying ideology)
- Organizational disruption (prevent mobilization)
- Leadership decapitation (remove or discredit leaders)

### Diagnostic Questions

1. Who would fight to preserve this institution?
2. What do they gain from it?
3. Can they be divided?
4. Who leads the defense?

### Historical Example

| Institution | Coalition | Attack |
|-------------|-----------|--------|
| American System | Northern manufacturers, internal improvement advocates, Whigs→Republicans | Sectional conflict fractured coalition |
| Globalist arrangement | Bipartisan elite consensus, financial sector, professional class | (Populist revolt from both left and right) |

---

## Element 5: Reproduction (Transmission)

**Function:** How the institution perpetuates itself across generations.

Institutions die if they cannot train successors, transmit knowledge, and maintain culture.

### Requirements

| Requirement | Question to Ask |
|-------------|-----------------|
| **Personnel pipeline** | How do you get people who can operate this? |
| **Knowledge transmission** | How do you train them? |
| **Cultural transmission** | How do you instill purpose, not just procedure? |
| **Adaptation mechanism** | How does it learn without losing identity? |

### Attack Surface

**Reproduction attacks:**
- Personnel disruption (prevent recruitment, discredit the profession)
- Training corruption (change what successors learn)
- Culture rot (substitute careerism for mission)
- Ossification (prevent adaptation) or dissolution (force loss of identity)

### Diagnostic Questions

1. Where do operators come from?
2. What do they learn? From whom?
3. Do they understand the purpose or just the procedures?
4. Is the institution learning or just persisting?

### Historical Example

| Institution | Reproduction | Attack |
|-------------|--------------|--------|
| American System | West Point (engineers), land-grant universities (technicians), party platforms (politics) | Economics profession captured by cosmopolitan theory |
| Globalist arrangement | CFR networks, Ivy League, think tank pipelines | (Reproduction still strong; beginning to crack?) |

---

## Application: The American Case

### American System (1791-1945)

| Element | Status at Peak | How It Was Killed |
|---------|----------------|-------------------|
| **Vision** | National productive capacity; independence from Britain | "Protection is outdated" after it succeeded |
| **Theory** | Hamilton/List developmental nationalism | "Free trade is scientifically superior" |
| **Structure** | Treasury, Bank of US, tariff system, Corps of Engineers | Bank killed (1836), tariffs dismantled (GATT/WTO) |
| **Coalition** | Manufacturers, internal improvement advocates, Republicans | Sectional conflict; bipartisan consensus for globalization |
| **Reproduction** | West Point, land-grant universities, party platforms | Economics profession captured |

### Globalist Arrangement (1944-present)

| Element | Current Status | Vulnerability |
|---------|----------------|---------------|
| **Vision** | Growth, returns, "development" (without telos) | **Legitimation crisis** — who believes this serves them? |
| **Theory** | Cosmopolitan economics, "end of history" | **Under attack** — failures of 2008, COVID |
| **Structure** | Fed, IMF, WTO, Treasury subordinate | **Disembedded** — "independence" means unaccountable |
| **Coalition** | Bipartisan elite, financial sector, professional class | **Fracturing** — populist revolt left and right |
| **Reproduction** | CFR networks, credentials, think tanks, media | **Capture contested** — credential inflation, distrust |

**Diagnosis:** The globalist arrangement is experiencing simultaneous stress on all five elements. This creates both **opening** (space for alternative) and **danger** (institutional collapse before replacement is built).

---

## Application: Building Post-Globalist Institutions

For any new institution to survive, all five elements must be addressed.

### Current State of Post-Globalist Development

| Element | Development Status | Key Actors |
|---------|-------------------|------------|
| **Vision** | Emerging | American Compass, American Affairs articulating developmental vision |
| **Theory** | Building | Academic work, policy papers, Listian/Hamiltonian recovery |
| **Structure** | Nascent | State-level experimentation (Texas, Ohio); CHIPS Act as precedent |
| **Coalition** | Forming | Manufacturing interests, some labor, national conservatives |
| **Reproduction** | Critical gap | Where do developmentalists come from? Who trains them? |

### Development Sequence

1. **Theory first** — you cannot build what you cannot articulate
2. **Coalition building** — identify shared interests (labor + capital for production)
3. **Institutional creation** — civil society first, then state capture/reform
4. **Reproduction** — personnel pipelines, training institutions, cultural transmission

### Highest Leverage Now

| Action | Element Addressed | Why High Leverage |
|--------|-------------------|-------------------|
| **Support theory production** (American Compass, American Affairs) | Vision, Theory | Ideas precede institutions |
| **Technical education revival** (break credential cartel) | Reproduction | Builds capacity directly |
| **State-level industrial policy** (learn from Texas, Ohio) | Structure | Lower barriers, learning opportunities |
| **Defense production extension** (CHIPS Act momentum) | Structure, Coalition | Bipartisan support exists |
| **Personnel development** (train developmentalists) | Reproduction | Critical gap; no institution without operators |

---

## Framework Application Protocol

When analyzing any institution using this framework:

### Diagnostic Questions (for each element)

| Element | Questions |
|---------|-----------|
| **Vision** | What is it for? Who founded it with what purpose? Is that purpose still operative? |
| **Theory** | What justifies it? Can defenders articulate the theory? Are opponents attacking it? |
| **Structure** | What is the legal basis? Who controls appointments? Is procedure serving or substituting for purpose? |
| **Coalition** | Who benefits? Who defends? Can they be divided? Who leads? |
| **Reproduction** | Where do operators come from? What do they learn? Do they understand purpose or just procedure? |

### Vulnerability Assessment

Rate each element: **Strong / Adequate / Weak / Critical**

| Rating | Meaning |
|--------|---------|
| **Strong** | Element fully functional; not under serious attack |
| **Adequate** | Functional but showing stress; attacks manageable |
| **Weak** | Element compromised; active attacks succeeding |
| **Critical** | Element failing; collapse imminent without intervention |

### Attack Surface Mapping

For each weak or critical element, identify:
1. What attack is occurring?
2. Who is attacking?
3. What would defense require?
4. What is the cost of failure?

### Building Assessment

For institutions being built, identify:
1. Which elements exist?
2. Which are being developed?
3. Which are gaps?
4. What is the development sequence?

---

## Composition

**Upstream (what informed this framework):**
- [Recon: Institutions and Post-Globalist American Development](../instance/recon-institutions-post-globalist.md) — the research campaign this was extracted from
- [Report on Manufactures](../source/hamilton-report-manufactures.md) — Hamilton's founding theory
- [National System of Political Economy](../source/list-national-system.md) — List's developmental nationalism

**Downstream (what this framework enables):**
- Institutional analysis instances
- Attack surface assessments
- Building plans for new institutions
- Diagnostic comparison of arrangements

**Related frameworks:**
- [Oikonomia vs Chrematistics](fw-oikonomia-chrematistics.md) — telos distinction for institutions
- [Recon Method](fw-recon-method.md) — how to investigate institutional domains

---

## Summary

Every institution lives or dies across five elements:

| Element | Function | Attack Surface |
|---------|----------|----------------|
| **Vision** | Why it should exist (telos) | "Outdated," "naive," purpose drift |
| **Theory** | Why it's necessary (legitimation) | "Wrong," "unscientific," "ideology" |
| **Structure** | How it operates (organization) | Dissolution, capture, bureaucratic dysfunction |
| **Coalition** | Who defends it (politics) | Division, ideological capture, leadership loss |
| **Reproduction** | How it perpetuates (transmission) | Personnel disruption, training corruption, culture rot |

Building institutions requires all five. Attacking institutions targets the weakest. Defending institutions means reinforcing all five.

The American System fell because all five were systematically attacked. The globalist arrangement is now experiencing stress on all five. What replaces it will survive only if all five elements are built intentionally.`,
  },
  {
    id: 'fw-loomlib-domains',
    title: 'Loomlib Domains Framework',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: null,
    framework_ids: ['fw-invariants-variants'],
    source_id: null,
    output: 'loomcommander',
    status: 'incubating',
    tags: ['loomlib', 'domains', 'invariants', 'variants', 'templating', 'architecture'],
    content: `# Loomlib Domains Framework

**Type:** Toolkit Framework
**Function:** Define what's invariant across all loomlib instances vs. what each domain configures

## The Core Insight

Loomlib is not one app — it's a **template** that can be configured for different domains:

\`\`\`
┌────────────────────────────────────────────────────────────────────┐
│                     LOOMLIB CORE (INVARIANT)                       │
│                                                                    │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐             │
│  │  Production  │  │  Conducting  │  │   Upstream/  │             │
│  │   Formula    │  │  Frontmatter │  │  Downstream  │             │
│  └──────────────┘  └──────────────┘  └──────────────┘             │
│                                                                    │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐             │
│  │    Status    │  │   Intent/    │  │    Graph     │             │
│  │   Workflow   │  │  Execution   │  │  Structure   │             │
│  └──────────────┘  └──────────────┘  └──────────────┘             │
│                                                                    │
└────────────────────────────────────────────────────────────────────┘
                              ↓
              ┌───────────────┴───────────────┐
              ↓                               ↓
┌─────────────────────────┐     ┌─────────────────────────┐
│   ETYMON DOMAIN         │     │   STUDIO DOMAIN         │
│   (Current Loomlib)     │     │   (Creator Tool)        │
├─────────────────────────┤     ├─────────────────────────┤
│ Types: source, note,    │     │ Types: idea, source,    │
│   framework, instance,  │     │   research, script,     │
│   index                 │     │   asset, template,      │
│                         │     │   series                │
│ Status: incubating →    │     │                         │
│   draft → verified →    │     │ Status: draft →         │
│   captured              │     │   ready → used          │
│                         │     │                         │
│ Views: List,            │     │ Views: Pipeline,        │
│   Constellation, Deck,  │     │   Project, Ideas,       │
│   Spatial, Flow, Editor │     │   Sources, Assets,      │
│                         │     │   Timeline, Editor      │
│                         │     │                         │
│ Output: etymon,         │     │ Output: user-defined    │
│   loomcommander         │     │   channels              │
│                         │     │                         │
│ Container: none         │     │ Container: Project      │
│                         │     │   (video)               │
└─────────────────────────┘     └─────────────────────────┘
\`\`\`

---

## I. The Invariant Core

These are the structural elements that **cannot change** without breaking what makes loomlib loomlib:

### 1. Production Formula

\`\`\`
[input] × [method] → [output]
\`\`\`

Every domain has:
- **Inputs** — raw material (sources, notes, references)
- **Methods** — reusable approaches (frameworks, templates)
- **Outputs** — produced artifacts (instances, scripts, analysis)

The metaphor of "applying methods to inputs to produce outputs" is invariant.

### 2. Conducting Frontmatter

Every document tracks its production context:

\`\`\`yaml
intent: research | build | capture | organize | produce
execution_state: pending | in_progress | completed | resolved
upstream:
  - doc: {id}
    relation: informs | method | source | prior
downstream: []
\`\`\`

**This is invariant.** It's what makes loomlib a *production* system, not just a notes system.

### 3. Graph Structure

Documents are nodes. References are edges. The graph is navigable.

\`\`\`
[Document A] ──upstream──→ [Document B]
     ↓
[Document C] ←──downstream──
\`\`\`

**Invariant:** Documents have relationships. The graph is queryable.

### 4. Status Workflow

Documents progress through states of maturity:

\`\`\`
early_state → middle_state → mature_state → terminal_state
\`\`\`

**Invariant:** There is a progression. Domains configure the *names* and *number* of states.

### 5. Intent Categories

Documents have purposes:

| Category | Description |
|----------|-------------|
| **Capture** | Grabbing raw material |
| **Research** | Developing understanding |
| **Build** | Creating reusable methods |
| **Organize** | Curating collections |
| **Produce** | Making final outputs |

**Invariant:** These five intents. They're exhaustive of what knowledge work does.

---

## II. The Variant Slots

These are the **configurable categories** that each domain populates:

### Slot 1: Document Types

**Invariant:** Documents have types. Types have icons and colors.

**Variant:** What the types are called, how many there are, what they mean.

| Domain | Types |
|--------|-------|
| Etymon | source, note, framework, instance, index |
| Studio | idea, source, research, script, asset, template, series |
| Legal | case, statute, brief, memo, contract, precedent |
| Academic | source, note, claim, argument, paper, bibliography |

### Slot 2: Status Progression

**Invariant:** Documents progress through statuses.

**Variant:** The status names and count.

| Domain | Progression |
|--------|-------------|
| Etymon | incubating → draft → verified → captured |
| Studio | draft → ready → used |
| Legal | intake → review → approved → filed |
| Academic | hypothesis → drafted → reviewed → published |

### Slot 3: Container Entity

**Invariant:** Documents can be grouped.

**Variant:** What the container is called, what it tracks.

| Domain | Container | Contains |
|--------|-----------|----------|
| Etymon | (none, or tag-based) | — |
| Studio | Project (video) | ideas, research, script, assets |
| Legal | Matter | cases, briefs, memos |
| Academic | Paper | sources, claims, arguments |

### Slot 4: Output Channels

**Invariant:** Work goes somewhere.

**Variant:** Where.

| Domain | Channels |
|--------|----------|
| Etymon | YouTube (etymon), GitHub (loomcommander) |
| Studio | user-defined (YouTube, Substack, Podcast, etc.) |
| Legal | court, client, internal |
| Academic | journal, conference, thesis |

### Slot 5: Views

**Invariant:** Documents are displayed and navigated.

**Variant:** Which views exist, what they emphasize.

| Domain | Views |
|--------|-------|
| Etymon | List, Constellation, Deck, Spatial, Flow, Editor |
| Studio | Pipeline, Project, Ideas, Sources, Assets, Timeline, Editor |
| Legal | Matters, Calendar, Research, Drafting |
| Academic | Library, Outline, Writing, Citations |

### Slot 6: Tags/Categories

**Invariant:** Documents can be categorized beyond type.

**Variant:** The category scheme.

| Domain | Categories |
|--------|------------|
| Etymon | perspective (philosophical-genealogy, etc.), output channel |
| Studio | topic, format, series, priority |
| Legal | practice area, client, urgency |
| Academic | discipline, methodology, status |

### Slot 7: Commands

**Invariant:** Claude orchestrates document production.

**Variant:** Which commands exist, what they produce.

| Domain | Core Commands |
|--------|---------------|
| Etymon | excavate, survey, scope, synthesize, apologetic |
| Studio | draft-script, outline, summarize-sources, generate-ideas |
| Legal | research-case, draft-brief, cite-check |
| Academic | literature-review, argument-map, citation-format |

---

## III. The Domain Configuration Schema

A domain is defined by a configuration object:

\`\`\`typescript
interface DomainConfig {
  // Identity
  id: string;                    // e.g., 'etymon', 'studio', 'legal'
  name: string;                  // e.g., 'Etymon', 'Loomlib Studio'
  description: string;

  // Document Types
  documentTypes: DocumentTypeConfig[];

  // Status Progression
  statusProgression: StatusConfig[];

  // Container (optional)
  container?: ContainerConfig;

  // Output Channels
  outputChannels: OutputChannelConfig[];

  // Views
  views: ViewConfig[];

  // Tag Categories
  tagCategories: TagCategoryConfig[];

  // Commands
  commands: CommandConfig[];

  // Intent Mapping (which types have which default intent)
  intentMapping: Record<string, DocumentIntent>;
}

interface DocumentTypeConfig {
  id: string;           // e.g., 'idea', 'script'
  name: string;         // e.g., 'Idea', 'Script'
  icon: string;         // e.g., '💡', '📝'
  color: string;        // e.g., '#FFD700'
  intentDefault: DocumentIntent;
}

interface StatusConfig {
  id: string;           // e.g., 'draft', 'ready'
  name: string;
  icon: string;
  order: number;        // progression order
}

interface ContainerConfig {
  id: string;           // e.g., 'project'
  name: string;         // e.g., 'Project'
  icon: string;
  statusProgression: StatusConfig[];  // container has its own status
}

interface OutputChannelConfig {
  id: string;
  name: string;
  icon: string;
  color: string;
  isDefault: boolean;
}

interface ViewConfig {
  id: string;           // e.g., 'pipeline', 'editor'
  name: string;
  icon: string;
  component: string;    // which view component to use
  isDefault: boolean;
}

interface TagCategoryConfig {
  prefix: string;       // e.g., 'topic:', 'format:'
  name: string;
  values?: string[];    // predefined values, or null for freeform
}

interface CommandConfig {
  id: string;           // e.g., 'excavate', 'draft-script'
  name: string;
  description: string;
  produces: string;     // which document type it produces
  promptPath: string;   // path to command prompt file
}
\`\`\`

---

## IV. Example Domain Configurations

### Etymon Domain (Current Loomlib)

\`\`\`typescript
const etymonDomain: DomainConfig = {
  id: 'etymon',
  name: 'Etymon',
  description: 'Knowledge production for philological research and content creation',

  documentTypes: [
    { id: 'source', name: 'Source', icon: '◈', color: '#7BC98A', intentDefault: 'capture' },
    { id: 'note', name: 'Note', icon: '○', color: '#8A8A8A', intentDefault: 'capture' },
    { id: 'framework', name: 'Framework', icon: '⚙', color: '#7BA3C9', intentDefault: 'build' },
    { id: 'instance', name: 'Instance', icon: '◧', color: '#C9A67B', intentDefault: 'produce' },
    { id: 'index', name: 'Index', icon: '☰', color: '#C9C9C9', intentDefault: 'organize' },
  ],

  statusProgression: [
    { id: 'incubating', name: 'Incubating', icon: '🌱', order: 1 },
    { id: 'draft', name: 'Draft', icon: '📝', order: 2 },
    { id: 'verified', name: 'Verified', icon: '✓', order: 3 },
    { id: 'captured', name: 'Captured', icon: '📦', order: 4 },
  ],

  container: undefined,  // No project container in Etymon

  outputChannels: [
    { id: 'etymon', name: 'Etymon (YouTube)', icon: '🎬', color: '#FF0000', isDefault: true },
    { id: 'loomcommander', name: 'Loomcommander (GitHub)', icon: '🛠', color: '#333333', isDefault: false },
  ],

  views: [
    { id: 'list', name: 'List', icon: '☰', component: 'ListView', isDefault: true },
    { id: 'constellation', name: 'Constellation', icon: '✧', component: 'ConstellationView', isDefault: false },
    { id: 'deck', name: 'Deck', icon: '▦', component: 'DeckView', isDefault: false },
    { id: 'spatial', name: 'Spatial', icon: '◎', component: 'SpatialView', isDefault: false },
    { id: 'flow', name: 'Flow', icon: '↕', component: 'FlowView', isDefault: false },
    { id: 'editor', name: 'Editor', icon: '✎', component: 'Editor', isDefault: false },
  ],

  tagCategories: [
    { prefix: 'perspective:', name: 'Perspective', values: ['philosophical-genealogy', 'linguistic-recovery', 'economic-genealogy', 'legal-grammar'] },
    { prefix: 'output:', name: 'Output Channel' },
  ],

  commands: [
    { id: 'excavate', name: 'Excavate', description: 'Etymological investigation', produces: 'instance', promptPath: '.claude/commands/loomlib:excavate.md' },
    { id: 'survey', name: 'Survey', description: 'Codebase investigation', produces: 'instance', promptPath: '.claude/commands/loomlib:survey.md' },
    { id: 'scope', name: 'Scope', description: 'UX requirements', produces: 'instance', promptPath: '.claude/commands/loomlib:scope.md' },
    { id: 'synthesize', name: 'Synthesize', description: 'Combine documents', produces: 'instance', promptPath: '.claude/commands/loomlib:synthesize.md' },
  ],

  intentMapping: {
    'source': 'capture',
    'note': 'capture',
    'framework': 'build',
    'instance': 'produce',
    'index': 'organize',
  },
};
\`\`\`

### Studio Domain (Creator Tool)

\`\`\`typescript
const studioDomain: DomainConfig = {
  id: 'studio',
  name: 'Loomlib Studio',
  description: 'Research-to-content pipeline for YouTube creators',

  documentTypes: [
    { id: 'idea', name: 'Idea', icon: '💡', color: '#FFD700', intentDefault: 'capture' },
    { id: 'source', name: 'Source', icon: '📚', color: '#7BC98A', intentDefault: 'capture' },
    { id: 'research', name: 'Research', icon: '🔍', color: '#7BA3C9', intentDefault: 'research' },
    { id: 'script', name: 'Script', icon: '📝', color: '#C9A67B', intentDefault: 'produce' },
    { id: 'asset', name: 'Asset', icon: '🎬', color: '#9B59B6', intentDefault: 'capture' },
    { id: 'template', name: 'Template', icon: '⚙', color: '#3498DB', intentDefault: 'build' },
    { id: 'series', name: 'Series', icon: '📁', color: '#C9C9C9', intentDefault: 'organize' },
  ],

  statusProgression: [
    { id: 'draft', name: 'Draft', icon: '📝', order: 1 },
    { id: 'ready', name: 'Ready', icon: '✓', order: 2 },
    { id: 'used', name: 'Used', icon: '✓✓', order: 3 },
  ],

  container: {
    id: 'project',
    name: 'Video Project',
    icon: '🎥',
    statusProgression: [
      { id: 'idea', name: 'Idea', icon: '💡', order: 1 },
      { id: 'researching', name: 'Researching', icon: '🔍', order: 2 },
      { id: 'scripting', name: 'Scripting', icon: '📝', order: 3 },
      { id: 'producing', name: 'Producing', icon: '🎬', order: 4 },
      { id: 'published', name: 'Published', icon: '✓', order: 5 },
      { id: 'evergreen', name: 'Evergreen', icon: '⭐', order: 6 },
    ],
  },

  outputChannels: [
    // User-defined at runtime, but defaults:
    { id: 'youtube', name: 'YouTube', icon: '🎬', color: '#FF0000', isDefault: true },
    { id: 'substack', name: 'Substack', icon: '✉', color: '#FF6719', isDefault: false },
    { id: 'podcast', name: 'Podcast', icon: '🎙', color: '#8E44AD', isDefault: false },
  ],

  views: [
    { id: 'pipeline', name: 'Pipeline', icon: '◫', component: 'PipelineView', isDefault: true },
    { id: 'project', name: 'Project', icon: '◧', component: 'ProjectView', isDefault: false },
    { id: 'ideas', name: 'Ideas', icon: '💡', component: 'IdeasView', isDefault: false },
    { id: 'sources', name: 'Sources', icon: '📚', component: 'SourcesView', isDefault: false },
    { id: 'assets', name: 'Assets', icon: '🎬', component: 'AssetsView', isDefault: false },
    { id: 'timeline', name: 'Timeline', icon: '📅', component: 'TimelineView', isDefault: false },
    { id: 'editor', name: 'Editor', icon: '✎', component: 'Editor', isDefault: false },
  ],

  tagCategories: [
    { prefix: 'topic:', name: 'Topic' },
    { prefix: 'format:', name: 'Format', values: ['essay', 'explainer', 'interview', 'review', 'reaction'] },
    { prefix: 'series:', name: 'Series' },
    { prefix: 'priority:', name: 'Priority', values: ['high', 'medium', 'low'] },
    { prefix: 'length:', name: 'Length', values: ['short', 'standard', 'long'] },
  ],

  commands: [
    { id: 'draft-script', name: 'Draft Script', description: 'Generate script outline', produces: 'script', promptPath: '.claude/commands/studio:draft-script.md' },
    { id: 'summarize-sources', name: 'Summarize Sources', description: 'Synthesize source material', produces: 'research', promptPath: '.claude/commands/studio:summarize-sources.md' },
    { id: 'generate-ideas', name: 'Generate Ideas', description: 'Brainstorm video ideas', produces: 'idea', promptPath: '.claude/commands/studio:generate-ideas.md' },
  ],

  intentMapping: {
    'idea': 'capture',
    'source': 'capture',
    'asset': 'capture',
    'research': 'research',
    'script': 'produce',
    'template': 'build',
    'series': 'organize',
  },
};
\`\`\`

---

## V. Architecture Implications

### How Domains Load

\`\`\`
┌─────────────────────────────────────────────────────────────────────┐
│                         STARTUP                                     │
│                                                                     │
│  1. Read domain config (JSON or TypeScript)                        │
│  2. Initialize types.ts with domain's document types               │
│  3. Initialize db.ts with domain's stores                          │
│  4. Initialize shell.ts with domain's views                        │
│  5. Load commands from domain's command paths                      │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
\`\`\`

### Domain as Environment Variable

\`\`\`typescript
// main.ts
const DOMAIN = import.meta.env.VITE_LOOMLIB_DOMAIN ?? 'etymon';
const config = await loadDomainConfig(DOMAIN);
initializeApp(config);
\`\`\`

### Separate Builds vs. Runtime Config

**Option A: Separate Builds**

\`\`\`
loomlib/          → npm run build → dist-etymon/
studio/           → npm run build → dist-studio/
\`\`\`

Different builds, different configs baked in.

**Option B: Runtime Config**

\`\`\`
loomlib/          → npm run build → dist/
                    ↓
                  config.json (domain config loaded at runtime)
\`\`\`

Same build, config changes behavior.

**Recommendation:** Start with Option A (separate builds). Simpler. Option B is optimization for later.

---

## VI. What This Enables

### 1. Multi-Domain Deployment

Run etymon loomlib at \`etymon.local:5173\`
Run studio loomlib at \`studio.local:5174\`

Same codebase, different configs, different data.

### 2. Domain-Specific Commands

\`.claude/commands/loomlib:excavate.md\` — for Etymon
\`.claude/commands/studio:draft-script.md\` — for Studio

Commands only appear in their domain.

### 3. White-Label Potential

"Loomlib for Lawyers" — legal domain config
"Loomlib for Academics" — academic domain config
"Loomlib for [X]" — any knowledge-intensive domain

### 4. Clean Separation of Concerns

Core team maintains the invariant engine.
Domain configs can be contributed/sold separately.

---

## VII. Migration Path

### Phase 1: Extract Domain Config from Current Code

1. Create \`domains/etymon.ts\` with current hardcoded values
2. Refactor types.ts to read from config
3. Refactor shell.ts to read from config
4. Verify current behavior unchanged

### Phase 2: Create Studio Config

1. Create \`domains/studio.ts\` with Studio values
2. Add environment variable support
3. Build and test Studio domain

### Phase 3: Abstract Command Loading

1. Commands read from domain config
2. Command router checks domain
3. Commands only appear in their domain

---

## VIII. Composition

**What informed this:**
- \`fw-invariants-variants\` — the method for distinguishing fixed from open
- \`inst-scope-loomlib-studio-ia\` — Studio's specific requirements
- \`inst-survey-loomlib-studio-migration\` — what needs to change

**What this enables:**
- Clear architecture for multi-domain loomlib
- Implementation plan for domain system
- Framework for future domains (legal, academic, etc.)
- White-label/template product strategy

**The key insight:** Loomlib's power is in the *invariant core* (production formula, conducting frontmatter, graph structure). The value of domains is in *correctly configuring the variants* for specific workflows.`,
  },
  {
    id: 'fw-recon-method',
    title: 'Recon Method',
    type: 'framework',
    framework_kind: 'toolkit',
    perspective: null,
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['intelligence', 'reconnaissance', 'strategic', 'tactical', 'domain', 'collection', 'analysis'],
    content: `# Recon Method

**Type:** Toolkit Framework
**Function:** Transform unfamiliar domains into strategic-tactical legibility

## The Distinction

| Mode | Unit | Question | Output |
|------|------|----------|--------|
| **Excavation** | Single concept | What capacity is buried here? | Recovered meaning |
| **Reconnaissance** | Entire domain | What do I need to act here? | Populated categories |

Etymon excavates a single degraded term. Recon maps terrain and populates categories adequate to action.

## The OSINT Analogy

Open Source Intelligence isn't about finding one fact — it's about establishing:
- **Collection disciplines** (what sources, how accessed)
- **Processing pipelines** (how filtered and structured)
- **Analytical frames** (how interpreted)
- **Product formats** (how packaged for action)

Recon Method applies this architecture to intellectual domains.

---

## The Four Operations

\`\`\`
Domain → Collection → Processing → Analysis → Product → Categories Populated
\`\`\`

| Operation | Question | Produces |
|-----------|----------|----------|
| **Collection** | What sources exist? What disciplines access them? | Raw material, organized by provenance |
| **Processing** | How do we filter, sequence, and structure? | Taxonomies, timelines, relations |
| **Analysis** | What does this mean? Where's the leverage? | Diagnoses, assessments, estimates |
| **Packaging** | What form delivers this to action? | Products calibrated to decision-type |

---

## Collection Disciplines

Each discipline accesses different source types:

| Discipline | Sources | What It Yields | Instrument |
|------------|---------|----------------|------------|
| **Philological** | Texts, terms, usage history | Buried operational wisdom | Etymon Method |
| **Genealogical** | Historical development, descent | How things became what they are | — |
| **Structural** | Institutions, arrangements, flows | Where power/value/information moves | Survey Method (for code) |
| **Network** | Actors, relationships, influence | Who matters, who's connected | — |
| **Phenomenological** | Lived experience, practice | What it's like to inhabit the domain | — |
| **Doctrinal** | Official statements, standard practices | What the domain says about itself | Source capture |

**Etymon = Philological discipline, deployed.**
**Survey = Structural discipline, deployed (for code domains).**

The others await their instruments.

---

## Processing Modes

How raw material becomes structured:

| Mode | Operation | Output |
|------|-----------|--------|
| **Taxonomic** | Categorize entities | Classification schemes |
| **Relational** | Map connections | Network graphs, dependency maps |
| **Temporal** | Sequence developments | Genealogies, phase diagrams |
| **Comparative** | Identify analogues/contrasts | Pattern libraries |

---

## Analytical Frames

Interpretive reasoning processes:

| Frame | Question | When to Deploy |
|-------|----------|----------------|
| **Diagnostic** | What's actually happening here? | Entering unfamiliar terrain |
| **Strategic** | Where are the leverage points? | Planning intervention |
| **Tactical** | What's the next concrete move? | Preparing for action |
| **Anticipatory** | What's the trajectory? What scenarios? | Positioning for futures |
| **Evaluative** | How does this compare to alternatives? | Decision-making between options |

---

## Intelligence Products

What reconnaissance produces:

| Product | Purpose | Structure |
|---------|---------|-----------|
| **Excavation** | Recover buried meaning | Term → Drift → Recovery (Etymon format) |
| **Terrain Map** | Visualize the domain | Actors, structures, flows, boundaries |
| **Assessment** | Diagnose current state | Situation, key dynamics, uncertainties |
| **Estimate** | Project trajectories | Scenarios, probabilities, trigger conditions |
| **Brief** | Package for decision | Situation, options, recommendation, risks |
| **Dossier** | Compile on specific entity | Profile, history, connections, assessment |

---

## Strategic Categories

These are the slots that tactical information fills:

| Category | What Belongs Here |
|----------|-------------------|
| **Actors** | Who operates in this domain? (individuals, institutions, classes) |
| **Structures** | What arrangements govern? (rules, flows, hierarchies) |
| **Dynamics** | What forces are in play? (tensions, trends, cycles) |
| **Positions** | Where can one stand? (roles, niches, vantage points) |
| **Instruments** | What tools exist? (methods, technologies, vehicles) |
| **Openings** | Where is there play? (gaps, opportunities, leverage) |

The measure shifts from "do I understand this?" to "have I populated my strategic categories with tactical information adequate to action?"

---

## The Workflow

### 1. Declare Domain
Name the domain to be reconned. This determines which collection disciplines apply.

### 2. Select Disciplines
Which collection disciplines yield material for this domain?

*Example for Economic Genealogy:*
- Genealogical (Polanyi, Graeber)
- Doctrinal (10-Ks, regulatory filings)
- Structural (balance sheets, flows)

### 3. Specify Processing
What structure do we need?

*Example:*
- Temporal (history of embeddedness → disembedding)
- Taxonomic (types of financial instruments)

### 4. Apply Analysis
Which frames serve the purpose?

*Example:*
- Diagnostic (how does this arrangement actually work?)
- Strategic (where are positions worth occupying?)

### 5. Select Products
What outputs serve the need?

*Example:*
- Terrain maps
- Dossiers on instruments
- Assessments of specific structures

### 6. Populate Categories
Fill the strategic categories with tactical findings:

*Example:*
- **Actors:** banks, regulators, funds
- **Structures:** debt/equity, derivatives architecture
- **Positions:** creditor/debtor, equity holder
- **Instruments:** leverage vehicles, hedges
- **Openings:** regulatory arbitrage, information asymmetry

---

## Relation to Other Methods

| Method | Scope | Relation to Recon |
|--------|-------|-------------------|
| **Etymon** | Single term | Philological collection discipline |
| **Survey** | Code subsystem | Structural collection discipline (technical domains) |
| **Scope** | UX requirements | Product type (requirements brief) |
| **Apologetic** | Domestication detection | Analytical frame (critical) |

Recon is the meta-method that orchestrates these as instruments.

---

## Campaign Tracking

A recon campaign document (\`inst-recon-{domain}\`) tracks:

\`\`\`yaml
domain: {domain name}
disciplines_declared: [philological, structural, ...]
disciplines_run:
  - discipline: philological
    products: [inst-excavate-X, inst-excavate-Y]
  - discipline: structural
    products: [inst-survey-Z]
categories:
  actors: [{entity}, {entity}]
  structures: [{structure}]
  dynamics: [{dynamic}]
  positions: [{position}]
  instruments: [{instrument}]
  openings: [{opening}]
coverage_gaps: [phenomenological discipline not yet run]
\`\`\`

---

## When to Use Recon

- Entering an unfamiliar domain with intent to act
- Need more than concept excavation — need operational legibility
- Preparing for strategic positioning in a field
- Building comprehensive understanding before intervention

## When NOT to Use Recon

- Single concept inquiry → use Etymon
- Code investigation → use Survey directly
- UX requirements → use Scope
- Just capturing material → use Note/Source`,
  },
  {
    id: 'idx-conducting-frontmatter-system',
    title: 'Index: Conducting Frontmatter System',
    type: 'index',
    framework_kind: null,
    perspective: null,
    framework_ids: [],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['index', 'conducting', 'frontmatter', 'discovery', 'commands', 'composition'],
    content: `# Index: Conducting Frontmatter System

**Purpose:** Organize and summarize the conducting frontmatter system for loomlib — what it is, why it matters, and how commands use it.

---

## The Core Idea

Every loomlib command produces a document. Every document:
- **Was informed by something** (frameworks, surveys, sources, notes)
- **Enables something** (scopes, implementations, other instances)
- **Has production state** (pending → completed → resolved)

**Conducting frontmatter** makes this explicit and queryable.

---

## The Two Innovations

### 1. Discovery Protocol

Before producing any document, Claude Code queries the loomlib API:

\`\`\`bash
curl -s http://localhost:5173/api/docs | jq '[.[] | select(.title | test("topic"; "i"))]'
\`\`\`

This enables **composition by discovery**:
- A survey command discovers related frameworks, prior surveys, relevant notes
- A scope command discovers surveys that inform the feature being scoped
- An instance command discovers frameworks to apply and sources to reference

**Discovery makes documents composable.** Instead of isolated production, each command can blend relevant context from the existing knowledge graph.

### 2. Conducting Fields

Four fields extend every document's frontmatter:

\`\`\`yaml
intent: research | build | capture | organize | produce
execution_state: pending | in_progress | completed | resolved
upstream:
  - doc: {document-id}
    relation: informs | method | source | prior
downstream: []
\`\`\`

**These fields answer:**
- What kind of production is this? (\`intent\`)
- Where is it in its lifecycle? (\`execution_state\`)
- What informed it? (\`upstream\`)
- What does it enable? (\`downstream\`)

---

## How Commands Use This

### The Universal Pattern

Every document-producing command follows:

\`\`\`
┌─────────────────────────────────────────────────────────────┐
│ 1. DISCOVERY                                                │
│    Query API for related documents                          │
│    Report what exists, what state it's in                   │
│    Decide what to reference as upstream                     │
├─────────────────────────────────────────────────────────────┤
│ 2. PROTOCOL                                                 │
│    Execute the method (Survey Method, Scope Method, etc.)   │
│    Informed by discovered documents                         │
├��────────────────────────────────────────────────────────────┤
│ 3. OUTPUT                                                   │
│    Write document with conducting frontmatter               │
│    Include upstream references from discovery               │
├─────────────────────────────────────────────────────────────┤
│ 4. COMPOSITION REPORT                                       │
│    What informed this document                              │
│    What this document enables                               │
│    Related documents discovered but not used                │
└─────────────────────────────────────────────────────────────┘
\`\`\`

### Example: Survey Informed by Frameworks

\`\`\`
User: /loomlib:survey editor persistence

DISCOVERY:
├── Query: surveys about "editor"
│   └── Found: inst-survey-editor-implementation (verified)
├── Query: frameworks that might apply
│   └── Found: fw-survey-method (method to use)
├── Query: related scopes/notes
│   └── Found: inst-scope-editor-view (related feature)
│
│ Report: "Found prior survey on editor implementation.
│          Will reference as upstream context."

PROTOCOL:
├── Survey Method steps, informed by:
│   └── Prior survey findings (what's already known)
│   └── Related scope (what UX decisions exist)

OUTPUT:
├── survey-editor-persistence.md
├── upstream:
│   ├── inst-survey-editor-implementation (informs)
│   └── fw-survey-method (method)

COMPOSITION:
├── Upstream: Prior editor survey provided file mapping
├── Downstream: Enables scope-editor-persistence
├── Related: scope-editor-view (different feature, same area)
\`\`\`

### Example: Scope Informed by Survey

\`\`\`
User: /loomlib:scope editor persistence

DISCOVERY:
├── Query: surveys about "editor persistence"
│   └── Found: inst-survey-editor-persistence (completed)
├── Query: existing scopes
│   └── Found: inst-scope-editor-view (related)
│
│ Report: "Found completed survey. Will use as upstream."

PROTOCOL:
├── Scope Method steps, informed by:
│   └── Survey findings (file locations, architecture)
│   └── Survey open questions (what needs decision)

OUTPUT:
├── scope-editor-persistence.md
├── upstream:
│   ├── inst-survey-editor-persistence (informs)
│   └── fw-scope-method (method)

COMPOSITION:
├── Upstream: Survey provided implementation context
├── Downstream: Enables implementation work
\`\`\`

---

## The Schema

### Conducting Fields

| Field | Type | Values | Purpose |
|-------|------|--------|---------|
| \`intent\` | enum | research, build, capture, organize, produce | What kind of production |
| \`execution_state\` | enum | pending, in_progress, completed, resolved | Lifecycle state |
| \`upstream\` | array | \`[{doc, relation}]\` | What informed this |
| \`downstream\` | array | \`[{doc, relation}]\` | What this enables |

### Intent by Document Type

| Document | Intent | Discovery Looks For |
|----------|--------|---------------------|
| **survey** | research | Prior surveys, related scopes, frameworks |
| **scope** | research | Surveys on topic, related scopes |
| **excavate** | research | Prior excavations, sources, etymology frameworks |
| **framework** | build | Related frameworks, sources |
| **instance** | produce | Frameworks to apply, sources to reference |
| **source** | capture | Related sources |
| **note** | capture | Related notes, potential frameworks |
| **index** | organize | Documents to include |

### Relation Types

| Relation | Meaning | Example |
|----------|---------|---------|
| \`informs\` | Content shaped output | Survey → Scope |
| \`method\` | Framework guided production | fw-scope-method → scope |
| \`source\` | Reference material used | src-aristotle → instance |
| \`prior\` | Earlier version or related | survey-v1 → survey-v2 |

---

## Implementation State

### Completed ✅

- [x] Framework defined: \`fw-conducting-frontmatter\`
- [x] Schema in \`types.ts\` — \`DocumentIntent\`, \`ExecutionState\`, \`UpstreamRef\` types
- [x] Parsing in \`vite-plugin-docs-api.ts\` — parse/serialize conducting fields
- [x] All commands updated with Discovery + Conducting output (8 commands)
- [x] Resolve command updates \`execution_state\`
- [x] All related documents resolved

### Resolved: 2026-01-08

The conducting frontmatter system is fully implemented. All documents in this index have been resolved.

---

## Document Collection

### Framework

| Document | Purpose |
|----------|---------|
| [fw-conducting-frontmatter](fw-conducting-frontmatter) | The schema definition — what fields, what they mean |

### Surveys & Scopes

| Document | Purpose |
|----------|---------|
| [inst-survey-conducting-frontmatter-deps](inst-survey-conducting-frontmatter-deps) | Implementation map — which files change, in what order |
| [inst-scope-conducting-frontmatter-agent-pov](inst-scope-conducting-frontmatter-agent-pov) | Agent perspective — what Claude Code needs, how it helps |
| [inst-scope-command-discovery-patterns](inst-scope-command-discovery-patterns) | Command patterns — how Discovery works in templates |
| [inst-scope-conducting-frontmatter-implementation](inst-scope-conducting-frontmatter-implementation) | Implementation scope — what to build, in what order |

### Updated Commands

| Command | State |
|---------|-------|
| \`loomlib:scope.md\` | ✅ Has Discovery + Conducting |
| \`loomlib:survey.md\` | ✅ Has Discovery + Conducting |
| \`loomlib:instance.md\` | ✅ Has Discovery + Conducting |
| \`loomlib:framework.md\` | ✅ Has Discovery + Conducting |
| \`loomlib:note.md\` | ✅ Has Discovery + Conducting |
| \`loomlib:source.md\` | ✅ Has Discovery + Conducting |
| \`loomlib:index.md\` | ✅ Has Discovery + Conducting |
| \`loomlib:excavate.md\` | ✅ Has Discovery + Conducting |
| \`loomlib:resolve.md\` | ✅ Updates execution_state |

---

## Why This Matters

### Before: Isolated Production

\`\`\`
Command receives $ARGUMENTS
Command follows protocol
Command writes document
(No awareness of what exists)
\`\`\`

### After: Composed Production

\`\`\`
Command receives $ARGUMENTS
Command discovers related documents via API
Command follows protocol, informed by discoveries
Command writes document with upstream references
Command reports composition
\`\`\`

### The Key Insight

**Loomlib is a knowledge graph.** Documents aren't isolated — they inform each other:
- Frameworks produce instances
- Surveys inform scopes
- Scopes enable implementations
- Sources ground excavations

**Conducting frontmatter makes this graph explicit.** Discovery queries it. Upstream/downstream edges track it. The constellation view can visualize it.

**Claude Code becomes graph-aware.** Instead of producing documents in isolation, each command:
1. Queries the graph for relevant context
2. Blends that context into production
3. Records its place in the graph

This is **knowledge work as graph construction** — each document strengthens the network.

---

## Quick Reference

### For Command Authors

Add to your command template:

\`\`\`markdown
## Discovery

Query API for related documents:
1. \`curl -s http://localhost:5173/api/docs | jq '[.[] | select(.title | test("{topic}"; "i"))]'\`
2. Report what exists
3. Decide what to reference as upstream
\`\`\`

Add to your output template:

\`\`\`yaml
# ─── CONDUCTING ─────────────────────────────────────────────
intent: {research|build|capture|organize|produce}
execution_state: completed
upstream:
  - doc: {discovered-doc}
    relation: {informs|method|source|prior}
downstream: []
\`\`\`

### For Document Consumers

Query documents by state:
\`\`\`bash
# Find completed surveys
curl -s http://localhost:5173/api/docs | jq '[.[] | select(.intent == "research") | select(.execution_state == "completed")]'

# Find what informed a document
curl -s http://localhost:5173/api/docs | jq '.[] | select(.id == "inst-scope-X") | .upstream'
\`\`\`

### For Resolving Work

When work is complete:
\`\`\`
/loomlib:resolve inst-scope-editor-persistence
\`\`\`

This updates \`execution_state: resolved\` and closes the production loop.

---

## Summary

| Concept | Implementation |
|---------|----------------|
| **Every doc is actionable** | All commands produce output |
| **Discovery before production** | Query API for related docs |
| **Composition is explicit** | \`upstream\`/\`downstream\` fields |
| **State is tracked** | \`execution_state\` field |
| **Graph is queryable** | API returns all fields |
| **Resolution closes loops** | \`/loomlib:resolve\` command |

**The system enables:** Informed production, explicit composition, queryable state, visible genealogy.`,
  },
  {
    id: 'idx-conducting-frontmatter-ui-decisions',
    title: 'Index: Conducting Frontmatter UI Decisions',
    type: 'index',
    framework_kind: null,
    perspective: null,
    framework_ids: [],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['index', 'decisions', 'frontmatter', 'ui', 'loomlib'],
    content: `# Index: Conducting Frontmatter UI Decisions

**Purpose:** Aggregate all decisions needed to implement conducting frontmatter across loomlib views.

**Source Surveys:**
- [Survey: List View for Conducting Frontmatter](inst-survey-list-view-frontmatter)
- [Survey: Editor View for Conducting Frontmatter](inst-survey-editor-view-frontmatter)
- [Survey: Constellation View Spatial Layout](inst-survey-constellation-view-frontmatter)

---

## The Problem

All three views currently display only **descriptive** frontmatter (type, status, tags). The new **conducting** frontmatter fields are invisible:

| Conducting Field | Type | Purpose |
|------------------|------|---------|
| \`intent\` | research \\| build \\| capture \\| organize \\| produce | What kind of work this is |
| \`execution_state\` | pending \\| in_progress \\| completed \\| resolved | Where in lifecycle |
| \`upstream\` | \`[{doc, relation}]\` | What informed this document |
| \`downstream\` | \`[{doc, relation}]\` | What this document enables |

---

## Decision Categories

### A. What to Show

Which conducting fields should be visible in each view?

### B. How to Show

Visual encoding: icons, badges, spatial position, color, opacity, tethers?

### C. Interaction Model

View-only, inline-editable, or modal-required?

---

## Decisions Required

### 1. Intent Visibility

**Question:** Should \`intent\` be visible? How?

| View | Options | Recommendation |
|------|---------|----------------|
| List | Icon / Badge / None | Icon next to type |
| Editor | Icon / Badge / None | Icon in meta bar |
| Constellation | Icon / Zone / Color / None | Icon in node card |

**Proposed Icons:**
| Intent | Icon | Rationale |
|--------|------|-----------|
| research | 🔬 | Scientific investigation |
| build | 🔨 | Construction/making |
| capture | 📝 | Note-taking |
| organize | 📁 | Filing/structuring |
| produce | ⚡ | Output generation |

**Decision:** ✓ **Icons** — Use 🔬🔨📝📁⚡ across all views

---

### 2. Execution State Visibility

**Question:** Should \`execution_state\` be visible? How?

| View | Options | Recommendation |
|------|---------|----------------|
| List | Dots / Badge / None | Progress dots (●●○○) |
| Editor | Dots / Badge / Dropdown | Progress dots + inline cycling |
| Constellation | Dots / Opacity / Glow / None | Node opacity encoding |

**Proposed Encodings:**

**Progress Dots:**
| State | Dots |
|-------|------|
| pending | ○○○○ |
| in_progress | ●●○○ |
| completed | ●●●● |
| resolved | ✓ (checkmark) |

**Opacity (Constellation):**
| State | Opacity |
|-------|---------|
| pending | 0.5 |
| in_progress | 0.75 |
| completed | 1.0 |
| resolved | 0.6 (faded) |

**Decision:** ✓ **Progress dots** — ○○○○ / ●●○○ / ●●●● / ✓ across all views

---

### 3. Upstream/Downstream Visibility

**Question:** Should graph relationships be visible? How?

| View | Options | Recommendation |
|------|---------|----------------|
| List | Count badge / Links / None | "⤴ 2 ↴ 3" count |
| Editor | Links / Panel / Count / None | Second meta row with clickable links |
| Constellation | Tethers / Count / None | Already spatial (enhance with relation types) |

**List View Option:**
\`\`\`
⚙ Etymon Method    [draft]    ⤴2 ↴5    2h ago
                              ↑
                     2 upstream, 5 downstream
\`\`\`

**Editor Option (second row):**
\`\`\`
⚙ framework / toolkit    [draft]    🔨build    ●●●○
─────────────────────────────────────────────────────
⤴ Survey Method, Scope Method    →    ↴ 5 children
\`\`\`

**Decision:** ✓ **View-appropriate** — Counts in list, links in editor, tethers in constellation

---

### 4. Relation Type Differentiation

**Question:** Should \`upstream.relation\` types be visually distinct?

**Context:** The \`upstream\` array has a \`relation\` field: \`informs | method | source | prior | defines\`

| Relation | Meaning | Proposed Visual |
|----------|---------|-----------------|
| method | Framework that produced this | Blue tether, ⚙ icon |
| source | Source material referenced | Green tether, ◈ icon |
| informs | General influence | Gray tether |
| prior | Previous version/iteration | Dashed tether |
| defines | Schema/type definition | Bold tether |

**Constellation tether styling:**
\`\`\`
─────────  method (solid blue)
═════════  source (double green)
─ ─ ─ ─ ─  prior (dashed gray)
···········  informs (dotted)
\`\`\`

**Decision:** ✓ **Colored tethers** — method=blue, source=green, prior=dashed, informs=dotted

---

### 5. Inline Editing

**Question:** Should conducting fields be inline-editable or require triage modal?

| Field | Options | Recommendation |
|-------|---------|----------------|
| \`execution_state\` | Inline cycle / Dropdown / Modal only | Inline cycle (click dots) |
| \`intent\` | Inline cycle / Modal only | Modal only (rare changes) |
| \`upstream\` | Add/remove inline / Modal only | Modal only (complex) |

**Inline cycling UX:**
\`\`\`
Click: ○○○○ → ●●○○ → ●●●● → ✓ → ○○○○
       pending  in_progress  completed  resolved
\`\`\`

**Decision:** ✓ **Inline editing** — Click execution_state dots to cycle through states

---

### 6. Filter/Search by Conducting Fields

**Question:** Should list view support filtering by conducting fields?

**Current:** Search only matches title, content, tags

**Proposed filter chips:**
\`\`\`
[All] [Research] [Build] [Capture] [Pending] [In Progress] [Completed]
      ↑─────────────────────────↑   ↑────────────────────────────────↑
              intent filters              execution_state filters
\`\`\`

**Decision:** ✓ **Filter chips** — Add intent and execution_state filter chips above search

---

### 7. Constellation Category Simplification

**Question:** Should 8 semantic categories be reduced?

**Current 8 categories:**
1. toolkitParent
2. domainParent
3. sourceParent
4. child
5. formulaSibling
6. channelSibling
7. perspectiveSibling
8. distant

**Option A: Keep 8** — Most precise, but complex

**Option B: Reduce to 5:**
1. parent (toolkit + domain + source)
2. child
3. sibling (formula + channel + perspective)
4. distant
5. (remove one?)

**Option C: Expand with intent zones** — 8 categories × intent = 40 combinations (too complex?)

**Decision:** ✓ **Reduce to 5** — parent, child, sibling, distant, (focus)

**New categories:**
1. **parent** — combines toolkitParent + domainParent + sourceParent
2. **child** — documents that use this as framework/source
3. **sibling** — combines formulaSibling + channelSibling + perspectiveSibling
4. **distant** — no direct relationship
5. **focus** — the selected document (center)

---

### 8. Migration: framework_ids → upstream

**Question:** Should constellation use \`upstream\` array instead of \`framework_ids\` for tethering?

**Current:** Tethers computed from \`framework_ids\` and \`source_id\` fields

**Proposed:** Tethers computed from \`upstream\` array with relation types

**Implications:**
- Need to ensure all documents have \`upstream\` populated
- Backward compatibility with docs missing \`upstream\`
- Could show richer relationship information

**Decision:** ✓ **Replace** — Migrate to \`upstream\` array, deprecate \`framework_ids\`/\`source_id\` for graph

**Migration plan:**
1. Ensure all documents have \`upstream\` populated (backfill from framework_ids/source_id)
2. Update graph.ts to read from \`upstream\` instead of \`framework_ids\`/\`source_id\`
3. Update categorization to use \`upstream.relation\` for parent type differentiation
4. Keep \`framework_ids\`/\`source_id\` in schema for backward compatibility but stop using for display

---

## Decisions Summary

| # | Decision | Choice |
|---|----------|--------|
| 1 | Intent visibility | ✓ Icons (🔬🔨📝📁⚡) |
| 2 | Execution state | ✓ Progress dots (○○○○ → ●●●●) |
| 3 | Upstream/downstream | ✓ View-appropriate (counts/links/tethers) |
| 4 | Relation types | ✓ Colored tethers |
| 5 | Inline editing | ✓ Click to cycle state |
| 6 | Filtering | ✓ Filter chips |
| 7 | Categories | ✓ Reduce 8 → 5 |
| 8 | Migration | ✓ Replace with upstream |

---

## Implementation Priority

Based on decisions, recommended implementation order:

| Phase | Feature | Files | Effort |
|-------|---------|-------|--------|
| **1** | Add \`intent\` icons to all views | types.ts, document-card.ts, editor.ts, constellation.ts | Low |
| **2** | Add \`execution_state\` progress dots | types.ts, document-card.ts, editor.ts, constellation.ts | Low |
| **3** | Add inline state cycling (editor) | editor.ts, editor.css, documents.ts | Medium |
| **4** | Add upstream/downstream counts (list) | document-card.ts, card.css | Medium |
| **5** | Add relationship links (editor) | editor.ts, editor.css | Medium |
| **6** | Simplify constellation to 5 categories | graph.ts, constellation-config.ts, constellation.ts, constellation.css | Medium |
| **7** | Add filter chips (list) | list.ts, list.css | Medium |
| **8** | Add colored relation tethers | constellation.ts, constellation.css | Medium |
| **9** | Migrate to upstream-based graph | graph.ts, documents.ts (backfill), constellation.ts | High |

### Phase Dependencies

\`\`\`
Phase 1-2: Independent, can parallelize
Phase 3: Requires Phase 2
Phase 4-5: Requires Phase 1-2
Phase 6: Independent
Phase 7: Requires Phase 1-2
Phase 8-9: Requires Phase 6
\`\`\`

---

## Decision Template

Use this template to record decisions:

\`\`\`markdown
### Decision: [Topic]
**Date:** YYYY-MM-DD
**Choice:** [Selected option]
**Rationale:** [Why this choice]
**Implementation:** [What to build]
\`\`\`

---

## Related Documents

**Surveys (upstream):**
- [inst-survey-list-view-frontmatter](inst-survey-list-view-frontmatter)
- [inst-survey-editor-view-frontmatter](inst-survey-editor-view-frontmatter)
- [inst-survey-constellation-view-frontmatter](inst-survey-constellation-view-frontmatter)

**Framework:**
- [fw-conducting-frontmatter](fw-conducting-frontmatter) — Schema definition

**Prior scope:**
- [inst-scope-list-view-aesthetic](inst-scope-list-view-aesthetic)
- [inst-scope-editor-view](inst-scope-editor-view)
- [inst-scope-constellation-aesthetic](inst-scope-constellation-aesthetic)

---

## Resolution

**Date:** 2026-01-08
**Status:** resolved

### What Was Done

All 8 decisions from this index were implemented across 9 phases:

| # | Decision | Implementation |
|---|----------|----------------|
| 1 | Intent visibility | ✅ Icons (🔬🔨📝📁⚡) added to all views |
| 2 | Execution state | ✅ Progress dots (○○○○ → ●●●●) added to all views |
| 3 | Upstream/downstream | ✅ Counts in list, links in editor, tethers in constellation |
| 4 | Relation types | ✅ Colored tethers (method=blue, source=green, prior=dashed) |
| 5 | Inline editing | ✅ Click to cycle execution state in editor |
| 6 | Filtering | ✅ Filter chips for intent and execution_state in list view |
| 7 | Categories | ✅ Reduced 8 → 4 (parent, child, sibling, distant) |
| 8 | Migration | ✅ Graph uses upstream array instead of framework_ids |

### Changes Made

- \`loomlib/src/types.ts\` — Added conducting field helpers and simplified SemanticCategory
- \`loomlib/src/components/document-card.ts\` — Added intent icons, execution dots, relation counts
- \`loomlib/src/views/list.ts\` — Added filter chips for intent and execution_state
- \`loomlib/src/views/editor.ts\` — Added meta bar conducting fields and relations bar
- \`loomlib/src/views/constellation.ts\` — Updated for 4 categories and colored tethers
- \`loomlib/src/data/graph.ts\` — Rewrote categorization to use upstream array
- \`loomlib/src/ui/card.css\` — Styles for intent, execution, relations
- \`loomlib/src/ui/list.css\` — Styles for filter chips
- \`loomlib/src/ui/editor.css\` — Styles for meta bar and relations bar
- \`loomlib/src/ui/constellation.css\` — Styles for tether colors

### Outcome

All three views (list, editor, constellation) now display conducting frontmatter:
- Users can see intent, execution state, and relationships at a glance
- Users can filter by conducting fields in list view
- Users can cycle execution state inline in editor
- Constellation shows relationship types via colored tethers

### Remaining Items

None - all 8 decisions implemented.`,
  },
  {
    id: 'idx-user-commitments',
    title: 'User Commitments',
    type: 'index',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-contextual-calibration'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['commitments', 'calibration', 'telos', 'identity', 'political-economy', 'traditionalism', 'lineage', 'psychology', 'methodology'],
    content: `# User Commitments

**Purpose:** Calibration document for all loomlib operations. This index defines the telos against which frameworks are selected, peers are matched, and outputs are evaluated.

**Usage:** Every loomlib command should discover this document first. Commitments here override type-matching. Surface-feature peers who conflict with these commitments should be flagged as "method-similar, telos-divergent."

---

## I. Political Economy

| Commitment | Status | Evidence |
|------------|--------|----------|
| Friedrich List / developmental nationalism | Core | Explicit identification, American System |
| Protection of infant industries | Core | Follows from List |
| Productive capacity over free trade abstraction | Core | National development over Ricardian logic |
| Oikonomia vs chrematistics distinction | Core | Bounded flourishing vs unlimited accumulation |
| Skepticism of financialization | Core | Chrematistics critique |
| American System tradition (Hamilton, Clay, Lincoln) | Core | Historical identification |
| Anti-globalist (in the Listian sense) | Likely | Follows from developmental nationalism |

**Potential Peers:** Michael Lind, Ha-Joon Chang, Patrick Deneen (economic critique portions), American Affairs orbit

**Anti-Peers:** Illich (anti-institutional where you're pro-developmental-state), free-trade liberals, anarcho-capitalists

---

## II. Traditionalism / Metaphysics

| Commitment | Status | Evidence |
|------------|--------|----------|
| Guénon (perennial philosophy, critique of modernity) | Engaged | NotebookLLM sources, explicit references |
| Evola (initiatic memory, Ride the Tiger, hierarchy) | Engaged | Explicit requests, serious reading |
| Traditionalism as "live option" | Declared | Not endorsement, but serious engagement |
| Critique of Enlightenment universalism | Core | "What if Enlightenment was wrong?" |
| Legitimate hierarchy based on transcendent order | Core | Explicit statement |
| Anti-egalitarianism (metaphysical, not just political) | Likely | Follows from traditionalist engagement |
| Bergson's temporal metaphysics | Engaged | Referenced in intellectual formation |
| Dugin / Land convergence interest | Curious | Reading, not necessarily committed |

**Unresolved Question:** Where do you land on the Christian vs. perennialist vs. pagan-sympathetic axis? The Cavalier heritage is Anglican. The traditionalists split here. Peterson is vaguely Christian-archetypal. This matters.

**Potential Peers:** None clean. The traditionalists (Guénon, Evola, Schuon) are the reference class. Living: Bronze Age Pervert orbit aesthetically but not substantively? Yarvin shares anti-universalism but different conclusions.

**Anti-Peers:** Vervaeke (syncretist where you're lineage-conscious), secular humanists, Enlightenment universalists

---

## III. Lineage / Heritage

| Commitment | Status | Evidence |
|------------|--------|----------|
| Virginia Cavalier identification | Core | 14-generation genealogy documented |
| William Bedford (1621 Jamestown) as origin | Documented | Explicit research |
| Frontier Gentry values | Core | Self-identification |
| "Bedfordsonian" synthesis | Constructing | Your own framework name |
| Particularity over rootless cosmopolitanism | Core | Explicit contrast |
| Duty to ancestors and posterity | Core | Explicit articulation |
| Lineage consciousness as epistemological | Core | Not nostalgia—operative |

**The Bedford Pattern:**
- William Bedford: Act without framework
- Capt. Stephen: Build institutions (first sheriff)
- Col. Thomas: Lead in crisis (Committee of Safety)
- Gunning Jr.: Present at creation, served refugees
- Generation 14 (you): Unwritten

**Potential Peers:** Very few. This is particular. Deneen maybe? MacIntyre on tradition-constituted rationality?

**Anti-Peers:** McLuhan (Catholic universalist where you're particular), rootless cosmopolitans, those who treat tradition as resource rather than inheritance

---

## IV. Psychology / Development

| Commitment | Status | Evidence |
|------------|--------|----------|
| Jungian archetypal psychology | Core | KWML, shadow work, consistent vocabulary |
| KWML framework (King, Warrior, Magician, Lover) | Core | Self-diagnosis tool |
| Magician-Warrior imbalance (90/10) | Self-diagnosed | Core developmental challenge |
| Integration through action, not further abstraction | Stated goal | Recognition of the problem |
| Peterson's Genesis lectures (formative, 17-18) | Formative | Entry point to Jung, archetypes |
| Vervaeke's Meaning Crisis (formative, 20-21) | Formative | 4E cognition, participatory knowing, genealogical map |
| Relevance realization | Adopted | From Vervaeke |
| Four kinds of knowing (propositional, procedural, perspectival, participatory) | Adopted | From Vervaeke, explicitly used |
| Participatory knowing as goal | Core | Not just propositional understanding |

**Developmental Edge:** The Magician-Warrior imbalance is the live challenge. Framework proliferation without shipping is the symptom. Etymon Episode 1 is the test.

**Potential Peers:** Robert Moore (KWML originator), Assagioli (will integration). Question: who shares your application of these frameworks to development?

**Note:** Peterson and Vervaeke are teachers, not peers. You learned from them. The question is whether you share their telos or have moved beyond them.

---

## V. Methodology / Epistemology

| Commitment | Status | Evidence |
|------------|--------|----------|
| Philological excavation (Etymon Method) | Core | Original method, produces instances |
| Etymology as archaeology, not trivia | Core | Language carries operational capacity |
| Degraded terms can be recovered | Core | The Etymon premise |
| Recovery for application, not nostalgia | Core | Excavation → drift → recovery |
| Methods as first-class knowledge | Core | Loomlib architecture |
| AI as compositional instrument | Core | Not assistant—instrument for production |
| Production over capture | Core | Loomlib design principle |
| Genealogical thinking ("how did we get here") | Core | From Vervaeke, applied broadly |
| Conducting frontmatter (tracking production flow) | Original | Loomlib innovation |
| Diagnostic frames (by capacity, acquisition, aspect, granularity, knowing type) | Original | Your architecture |

**Potential Peers:** The Strauss school (esoteric reading)? Weinstein brothers (sense-making, but different commitments)?

**Surface-Match Anti-Peers:** Illich (philological attention but anti-institutional politics), McLuhan (media ecology but universalist orientation)

---

## VI. Formative Influences (Teachers, Not Peers)

| Figure | Relationship | What You Took |
|--------|--------------|---------------|
| Jordan Peterson | Teacher (17-18) | Jung entry, archetypal reading of narrative, personal responsibility |
| John Vervaeke | Teacher (20-21) | 4E cognition, participatory knowing, genealogical method, meaning crisis diagnosis |
| Carl Jung | Source | Archetypes, shadow, individuation |
| Friedrich List | Adopted authority | Political economy framework |
| Guénon | Engaged authority | Traditionalist critique, but not fully adopted? |
| Evola | Engaged authority | Ride the Tiger, initiatic memory, but not fully adopted? |
| Your father (Chris Bedford) | Operative model | Working alongside, COO at Pathformance |
| The Bedford ancestors | Inherited pattern | Institution-building, crisis leadership, frontier action |

---

## VII. Current Operative Commitments

| Commitment | Status | Evidence |
|------------|--------|----------|
| Northwest Arkansas as terrain | Fixed | Location, local capacity |
| Pathformance (4-person company with father) | Active | Professional context |
| PathX (campaign analysis, 400+ brands) | Built | Technical achievement |
| Self-taught full-stack development | Identity | How you learned to build |
| CIVITAS / BeeSafe (90-day validation sprint) | Active | Autonomous security robot for HOAs |
| Etymon (YouTube channel) | Intended | Not yet shipped |
| Loomlib (knowledge management system) | Built | 78 documents, 22+ commands |
| The Curriculum (four tracks) | In progress | Philosophical genealogy (complete), Linguistic recovery (in progress), Economic genealogy (next), Legal grammar (parallel) |

---

## VIII. Anti-Commitments (What You're Against)

| Position | Evidence |
|----------|----------|
| Unbounded growth / infinite accumulation | Oikonomia critique |
| Rootless cosmopolitanism | Lineage consciousness contrast |
| Universalist synthesis that ignores particularity | Traditionalist critique |
| Liberal democracy as final form | Explicit ("what if Enlightenment was wrong?") |
| AI as replacement rather than augmentation | Compositional instrument model |
| Authority derived from consent alone | Transcendent order preference |
| Modernity's de-souling of the cosmos | Vervaeke + traditionalist convergence |

---

## IX. Strategic Posture

| Position | Evidence |
|----------|----------|
| Prudence in current conditions | Explicit ("what's the point of talking about return when conditions aren't set?") |
| Phase 1: Destabilize liberal premises from within | Stated |
| Phase 2: Make unspeakable first speakable, then thinkable | Stated |
| Phase 3: Offer alternative when ready | Stated |
| "Establish the canvas on the social easel first" | Exact words |
| Joining the system "when the moment is germane" | Stated |
| "Honoring the past while meeting the present" | Stated |
| New forms that embody old principles | Goal |

---

## X. The Unresolved Questions

1. **The Christian question.** Anglican heritage, Peterson's vague Christianity, traditionalist perennialism, Evola's paganism — where do you actually land?

2. **Peterson and Vervaeke as teachers vs. peers.** You learned from them. Do you share their telos, or have you moved beyond them?

3. **Evola/Guénon: engaged or committed?** "Live option" is careful language. Are they sources you read, or authorities you follow?

4. **The Straussians.** Esoteric reading, American regime focus, writing between the lines — relevant to your posture? Or different tradition?

5. **Who are your actual contemporary peers?** Not teachers, not historical figures — people alive now doing similar work from similar commitments?

---

## Calibration Protocol

When any loomlib command produces output involving the user:

### Peer Matching
1. Check commitments before surface features
2. Flag "method-similar, telos-divergent" peers explicitly
3. Prefer peers who share political economy and lineage consciousness, not just methodology

### Framework Selection
1. Prefer frameworks that serve stated commitments
2. When frameworks conflict with commitments, note the tension
3. The Magician-Warrior imbalance is live — prefer frameworks that produce action over abstraction

### Assessment Criteria
1. Does this output help ship Etymon Episode 1?
2. Does this reinforce the Magician trap or break it?
3. Is this production or elaborate capture?

### Anti-Patterns to Avoid
1. Matching on philological method → Illich (different politics)
2. Matching on synthesis → Vervaeke (different particularity)
3. Matching on system-building → Victor (different telos)
4. Validating from within the system rather than against external criteria`,
  },
  {
    id: 'idx-etymon-channel',
    title: 'Etymon Channel Index',
    type: 'index',
    framework_kind: null,
    perspective: null,
    framework_ids: [],
    source_id: null,
    output: 'etymon',
    status: 'draft',
    tags: ['youtube', 'video', 'pipeline'],
    content: `# Etymon Channel Index

YouTube channel excavating degraded concepts.`,
  },
  {
    id: 'idx-loomcommander-channel',
    title: 'Loomcommander Channel Index',
    type: 'index',
    framework_kind: null,
    perspective: null,
    framework_ids: [],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['github', 'code', 'claude-code'],
    content: `# Loomcommander Channel Index

GitHub codespace for code production via Claude Code.`,
  },
  {
    id: 'idx-loomlib-architecture',
    title: 'Index: Loomlib Architecture Invariants',
    type: 'index',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-invariants-variants'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['architecture', 'invariants', 'variants', 'meta', 'system-design', 'commands'],
    content: `# Index: Loomlib Architecture Invariants

**Purpose:** Document what's eternal (invariant) versus temporal (variant) in loomlib's architecture — the constitutional elements that cannot change without breaking the system, and the extensible elements that can grow.

**Method:** Invariants/Variants framework applied to loomlib itself.

---

## The Core Distinction

Every system has:
- **Invariants:** What cannot change without breaking the system
- **Variants:** What can expand, contract, or transform freely

Loomlib's power comes from correctly identifying which is which. Treating variants as invariants creates rigidity. Treating invariants as variants creates chaos.

---

## INVARIANTS (The Eternal Configuration)

These cannot change without breaking loomlib. They are the system's **constitutional grammar**.

### 1. Documents Inform Each Other

**The invariant:** Loomlib is a graph, not a folder. Documents have upstream (what informed them) and downstream (what they enable).

**What breaks if absent:** Without composition, you have isolated files. The knowledge graph becomes a knowledge pile. Discovery becomes impossible.

**Test:** Can you trace any document back to what produced it? If not, the graph is broken.

### 2. Discovery Precedes Production

**The invariant:** Every command queries the API before producing. Query-then-produce is what makes commands graph-aware.

**What breaks if absent:** Commands become isolated generators. They can't blend context, reference prior work, or avoid duplication.

**Test:** Does the command know what already exists before it creates something new?

### 3. Calibration First

**The invariant:** User commitments (telos) and skills (capacity) must be loaded before any production. This shapes what gets produced and how.

**What breaks if absent:** Output becomes generic — not calibrated to the user's actual orientation, anti-peers, or skill gaps.

**Test:** Does the command know the user's commitments before it produces?

### 4. The Command Sequence

**The invariant:** Every document-producing command follows:

\`\`\`
CALIBRATION → DISCOVERY → PROTOCOL → OUTPUT → COMPOSITION
\`\`\`

**What breaks if absent:**
- Skip calibration → generic output
- Skip discovery → isolated production
- Skip protocol → inconsistent method
- Skip composition → orphaned documents

**Test:** Does the command follow all five phases?

### 5. Intent × Execution State

**The invariant:** Every document has two-dimensional tracking:
- **Intent:** What kind of production (research, build, capture, organize, produce)
- **Execution State:** Where in lifecycle (pending, in_progress, completed, resolved)

**What breaks if absent:** You can't query "what research is completed?" or "what's still pending?" The graph becomes unnavigable.

**Test:** Can you filter documents by both what they are and where they are?

### 6. Frameworks Produce Instances

**The invariant:** Frameworks are methods. Instances are applications of methods. The relationship is generative, not symmetric.

**What breaks if absent:** If instances could produce frameworks, the production hierarchy inverts. Methods would emerge from applications rather than guiding them.

**Test:** Is every instance traceable to at least one framework method?

### 7. Conducting Frontmatter Exists

**The invariant:** Not the specific fields, but that production metadata exists and is queryable.

**What breaks if absent:** Documents become opaque. You can't ask "what informed this?" or "is this complete?"

**Test:** Does every document have machine-readable production state?

---

## VARIANTS (The Temporal Configuration)

These can expand, contract, or transform without breaking the system. They are **vocabulary, not grammar**.

### 1. Document Types

**Current:** framework, instance, note, source, index (5 types)

**Why variant:** Could add "thesis", "argument", "decision", "prompt". The type system is extensible. What matters is that types exist and have distinct intents — not which specific types.

**Constraint:** New types need defined intent and frontmatter schema.

### 2. Commands

**Current:** 22 commands (survey, scope, excavate, framework, instance, note, source, index, recon, resolve, promote, triage, synthesize, lineage, review, compare, orphans, status, cluster, similar, contradict, apologetic)

**Why variant:** Can add more commands. Each is a production pathway. The command set is open.

**Constraint:** New commands must follow the invariant sequence (calibration → discovery → protocol → output → composition).

### 3. Frameworks

**Current:** Etymon Method, Survey Method, Scope Method, Recon Method, Conducting Frontmatter, Invariants/Variants, Four Knowings, etc.

**Why variant:** New methods can be defined. Etymon isn't the only excavation technique. Survey isn't the only investigation method.

**Constraint:** Frameworks need defined steps and application criteria.

### 4. Perspectives

**Current:** philosophical-genealogy, linguistic-recovery, economic-genealogy, legal-grammar (4 perspectives)

**Why variant:** Could be six or three. The number is arbitrary. What matters is that perspectives exist as "ways of seeing" — not which specific perspectives.

**Constraint:** Perspectives should be distinct lenses, not overlapping.

### 5. Output Channels

**Current:** etymon (YouTube), loomcommander (GitHub/tools)

**Why variant:** Could add more channels. Channels are where work gets exported — the specific channels are arbitrary.

**Constraint:** Channels need defined format and audience.

### 6. Operators

**Current:** AS, FROM, VERSUS, WITHIN, WITHOUT, BEFORE, AFTER, THROUGH, OF, FOR, TO, AGAINST, BEHIND, AND, OR

**Why variant:** These are combinatorial tools for instance production. Could add DESPITE, TOWARD, UNDERNEATH.

**Constraint:** Operators need defined semantics (what relationship they express).

### 7. Relation Types

**Current:** informs, method, source, prior

**Why variant:** Could add "contradicts", "refines", "extends", "supersedes".

**Constraint:** Relations need clear semantics for graph queries.

### 8. Framework Kinds

**Current:** toolkit (methods you do), domain (lenses you see through)

**Why variant:** Could add "hybrid", "meta", "operational".

**Constraint:** Kinds need distinct characteristics.

---

## FALSE INVARIANTS

Things that **look fixed but aren't**:

| False Invariant | Actually Variant | The Error |
|-----------------|------------------|-----------|
| "The five document types" | Types are extensible | Refusing to add types when needed |
| "Operators are fixed at 15" | Operators can expand | Not adding DESPITE when it would help |
| "Only etymon and loomcommander outputs" | Channels can expand | Not creating channels for new vessels |
| "Four perspectives exactly" | Perspectives can change | Forcing content into ill-fitting lenses |
| "Relation types are complete" | Relations can expand | Not expressing nuanced connections |

**The cost:** Treating variants as invariants creates artificial rigidity. The system becomes unable to grow in directions it could naturally accommodate.

---

## HIDDEN INVARIANTS

Things that **look open but actually constrain**:

| Hidden Invariant | Why It's Fixed | The Error |
|------------------|----------------|-----------|
| Discovery must use the API | File reads don't see frontmatter; API does | Bypassing API breaks graph-awareness |
| Calibration must happen first | Later phases depend on user context | Skipping creates generic output |
| Upstream must be recorded | Composition requires traceability | Omitting breaks the graph |
| Commands must produce documents | Non-producing commands break the model | "Analysis only" commands orphan work |
| Frontmatter must be YAML | Parser expects YAML; other formats break | Switching to TOML breaks tooling |
| IDs must be unique | Graph queries assume uniqueness | Duplicate IDs corrupt the graph |

**The cost:** Treating invariants as variants creates chaos. "Flexibility" in these areas breaks the system's assumptions.

---

## THE META-SEQUENCE

The invariant command sequence, with variant contents:

| Phase | Invariant (Must Do) | Variant (What Specifically) |
|-------|---------------------|----------------------------|
| **Calibration** | Load user context | Which indices, how much context |
| **Discovery** | Query for related docs | Which queries, which filters |
| **Protocol** | Follow a method | Which framework's protocol |
| **Output** | Write with frontmatter | Which sections, which emphasis |
| **Composition** | Report genealogy | How verbose, which relations |

**The grammar is fixed. The vocabulary is open.**

---

## ARCHITECTURAL LAYERS

Loomlib has three architectural layers, each with distinct invariants:

### Layer 1: Graph Structure (Most Invariant)

- Documents exist
- Documents have IDs
- Documents have frontmatter
- Documents reference each other
- API exposes the graph

**This layer is constitutional.** Changing it changes what loomlib is.

### Layer 2: Production System (Moderately Invariant)

- Commands produce documents
- Commands follow the 5-phase sequence
- Frameworks guide production
- Conducting frontmatter tracks state

**This layer is procedural.** It could theoretically change, but doing so would require rebuilding the command system.

### Layer 3: Content Categories (Most Variant)

- Which document types
- Which frameworks exist
- Which perspectives
- Which output channels
- Which operators

**This layer is categorical.** It changes regularly as loomlib grows.

---

## IMPLICATIONS FOR COMMAND DESIGN

When creating new commands:

### Must Follow (Invariant)

1. Implement all 5 phases (calibration, discovery, protocol, output, composition)
2. Query API for discovery (not raw file reads)
3. Load user calibration first
4. Produce a document with conducting frontmatter
5. Record upstream references
6. Report composition

### Can Vary (Variant)

1. Which specific queries for discovery
2. Which protocol steps
3. Which frontmatter fields beyond required
4. How verbose the output
5. Which frameworks to apply
6. Which operators to use

---

## IMPLICATIONS FOR SCOPE METHOD

Add to every scope:

### Invariants/Variants Section

When scoping any feature, ask:

1. **What's invariant in this feature space?**
   - What cannot change without breaking the feature?
   - What do users depend on being stable?

2. **What's variant?**
   - What design choices are open?
   - What can expand without breaking anything?

3. **False invariants?**
   - What looks fixed but is actually arbitrary?
   - Where is artificial rigidity hiding?

4. **Hidden invariants?**
   - What looks open but actually constrains?
   - Where would "flexibility" break things?

This prevents scopes from treating conventions as requirements, and requirements as optional.

---

## Composition

**Upstream (what informed this index):**
- [Invariants/Variants](fw-invariants-variants) — the method applied
- [Index: Conducting Frontmatter System](idx-conducting-frontmatter-system) — the system analyzed
- [fw-conducting-frontmatter](fw-conducting-frontmatter) — schema reference

**Downstream (what this index enables):**
- Command authors understanding what's fixed vs. open
- Scope method integration (invariants/variants section)
- System evolution without breaking changes
- Clear criteria for "is this change safe?"

**Related:**
- [Invariants/Variants OF Systems Thinking](inst-invariants-variants-systems-thinking) — similar analysis on different domain`,
  },
  {
    id: 'idx-loomlib-domains-guide',
    title: 'Loomlib Domains Guide',
    type: 'index',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-loomlib-domains'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['domains', 'architecture', 'configuration', 'operations'],
    content: `# Loomlib Domains Guide

This guide explains how to operate loomlib across multiple domains. Each domain is a separate knowledge graph with its own document types, status progressions, and commands.

---

## What is a Domain?

A domain is a **configuration context** that controls:

1. **What document types exist** — etymon has framework/instance/note, studio has idea/script/template
2. **What status progression applies** — etymon uses incubating→draft→verified→captured, studio uses draft→ready→used
3. **What commands are available** — \`/loomlib:excavate\` for etymon, \`/studio:script\` for studio
4. **What documents are visible** — each domain only sees its own documents

Domains are **not containers** — they're configurations. The same underlying data model supports all domains; the domain just changes how it's displayed and what's available.

---

## Available Domains

### Etymon (Default)

The philological/philosophical research domain.

| Aspect | Details |
|--------|---------|
| **ID** | \`etymon\` |
| **Purpose** | Knowledge graph for research and framework development |
| **Types** | framework (⚙/▣), instance (◧), source (◈), note (○), index (☰) |
| **Status** | incubating → draft → verified → captured |
| **Commands** | /loomlib, /loomlib:survey, /loomlib:scope, /loomlib:excavate, etc. |

### Studio

The content creation domain.

| Aspect | Details |
|--------|---------|
| **ID** | \`studio\` |
| **Purpose** | Knowledge graph for video/audio/written content production |
| **Types** | idea (💡), source (📚), research (🔍), script (📝), asset (🎬), template (⚙), series (📁) |
| **Status** | draft → ready → used |
| **Commands** | /studio, /studio:idea, /studio:research, /studio:script, etc. |

---

## How to Switch Domains

### Environment Variable

Set \`VITE_LOOMLIB_DOMAIN\` before starting:

\`\`\`bash
# Run in etymon domain (default)
npm run dev

# Run in studio domain
VITE_LOOMLIB_DOMAIN=studio npm run dev

# Build for studio
VITE_LOOMLIB_DOMAIN=studio npm run build
\`\`\`

### What Changes

When you switch domains:

| Component | Behavior |
|-----------|----------|
| **Startup sync** | Only loads documents matching the domain |
| **Document list** | Only shows domain documents |
| **Filters** | Generated from domain's document types |
| **New documents** | Created with \`domain: {current}\` |
| **Commands** | Route to domain-appropriate sub-commands |

### What Doesn't Change

| Component | Stays the Same |
|-----------|----------------|
| **IndexedDB** | Same database, filtered by domain |
| **Markdown files** | Same location, \`domain\` field determines visibility |
| **API** | Same endpoints, domain in frontmatter |
| **Graph relationships** | Upstream/downstream work cross-domain |

---

## Domain Field in Documents

Every document has an optional \`domain\` field:

\`\`\`yaml
---
id: script-video-intro
title: "Video Introduction Script"
type: script
domain: studio          # ← Domain membership
status: draft
# ...
---
\`\`\`

### Legacy Documents

Documents without a \`domain\` field are treated as \`etymon\` (the default). On startup, a migration backfills the domain field:

\`\`\`typescript
// If no domain field, use output or default to 'etymon'
doc.domain = doc.domain ?? doc.output ?? 'etymon';
\`\`\`

---

## Using Commands

### Loomlib Commands (Etymon Domain)

The \`/loomlib\` command is the router for etymon domain:

\`\`\`
/loomlib survey the editor implementation
/loomlib:excavate wealth
/loomlib:scope constellation redesign
/loomlib:framework method for X
/loomlib:instance capital AS oikonomia
\`\`\`

**Available sub-commands:**
- \`/loomlib:survey\` — Investigate code/systems
- \`/loomlib:scope\` — Derive UX requirements
- \`/loomlib:excavate\` — Etymological investigation
- \`/loomlib:framework\` — Create reusable method/lens
- \`/loomlib:instance\` — Apply frameworks to produce content
- \`/loomlib:note\` — Capture raw thought
- \`/loomlib:source\` — Document external reference
- \`/loomlib:index\` — Curate document collections
- \`/loomlib:synthesize\` — Combine multiple documents
- \`/loomlib:similar\` — Find semantically similar documents
- \`/loomlib:status\` — Dashboard of graph state

### Studio Commands

The \`/studio\` command is the router for studio domain:

\`\`\`
/studio idea for a video about X
/studio:research topic Y
/studio:outline video structure
/studio:script the intro video
/studio:template essay format
/studio:series on political economy
\`\`\`

**Available sub-commands:**
- \`/studio:idea\` — Capture initial sparks
- \`/studio:research\` — Investigate topics
- \`/studio:outline\` — Structure content
- \`/studio:script\` — Write production-ready content
- \`/studio:template\` — Create reusable formats
- \`/studio:series\` — Organize related content
- \`/studio:source\` — Document external references

---

## Discovery Within Domains

Commands discover related documents scoped to their domain:

\`\`\`bash
# Etymon domain discovery
curl -s http://localhost:5173/api/docs | jq '[.[] | select(.domain == "etymon" or .domain == null) | {id, title, type}]'

# Studio domain discovery
curl -s http://localhost:5173/api/docs | jq '[.[] | select(.domain == "studio") | {id, title, type}]'
\`\`\`

### Cross-Domain References

Documents can reference documents in other domains via upstream/downstream:

\`\`\`yaml
# An etymon instance can reference a studio source
upstream:
  - doc: src-interview-transcript  # studio source
    relation: source
\`\`\`

This enables research to flow between domains while keeping views focused.

---

## File Organization

All domains share the same file structure:

\`\`\`
loomlib/docs/
├── framework/     # Etymon frameworks
├── instance/      # Etymon instances (surveys, scopes, etc.)
├── note/          # Notes (any domain)
├── source/        # Sources (shared)
├── index/         # Indexes (any domain)
├── idea/          # Studio ideas
├── research/      # Studio research
├── script/        # Studio scripts
├── template/      # Studio templates
├── series/        # Studio series
└── asset/         # Studio assets
\`\`\`

The \`domain\` field in frontmatter determines which domain sees each document.

---

## Configuration Files

Domain configurations live in \`loomlib/src/config/domains/\`:

\`\`\`
src/config/domains/
├── index.ts       # Domain registry
├── etymon.ts      # Etymon configuration
└── studio.ts      # Studio configuration
\`\`\`

Each config defines:
- Document types with icons/colors
- Status progression
- Helper functions for display

---

## Adding a New Domain

1. **Create config file:** \`src/config/domains/{domain}.ts\`
2. **Register in index:** Add to \`domains\` object in \`index.ts\`
3. **Create commands:** Add \`.claude/commands/{domain}.md\` and sub-commands
4. **Create docs directories:** Add folders for domain-specific types
5. **Set env var:** \`VITE_LOOMLIB_DOMAIN={domain}\`

---

## Performance Notes

The domain system was designed to improve startup performance:

| Metric | Before | After |
|--------|--------|-------|
| **Startup with 147 docs** | ~2-5s | ~200-500ms |
| **Sync scope** | All documents | Domain documents only |
| **Query scope** | O(n) all docs | O(domain_size) |

Domain-scoped queries mean you only load what you need.

---

## Composition

**What informed this:**
- \`fw-loomlib-domains\` — The framework establishing domain architecture
- \`inst-scope-domain-startup-performance\` — Performance requirements
- \`inst-scope-frontmatter-ui-mapping\` — UI configuration approach

**What this enables:**
- Operating loomlib across multiple knowledge domains
- Focused work without cross-domain noise
- Scalable architecture for growing corpora`,
  },
  {
    id: 'idx-bedford-credo',
    title: 'The Bedford Credo',
    type: 'index',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-worldview-architectonic'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['worldview', 'credo', 'bedford', 'confession', 'metaphysics', 'theology', 'anthropology', 'epistemology', 'ethics', 'political-philosophy', 'economics', 'philosophy-of-history', 'eschatology', 'ecclesiology'],
    content: `# The Bedford Credo

**Ten categories. Ten commitments. The substrate from which all action emerges.**

> "I did not write my worldview, but I could have stated every position instantly if asked. They were mine — not borrowed, not tentative, not 'interesting perspectives.' Owned."
> — Lee Kuan Yew (constructed dialogue)

---

## Purpose

This index collects the ten worldview commitments that constitute the Bedford Confession. Each category links to an instance document containing:

1. **The position held** — not tentative, but as commitment
2. **The grounds** — why this position, not another
3. **The tensions carried** — unresolved questions that remain
4. **The downstream implications** — what this commits us to

The credo is not finished until each position can be stated instantly, without hesitation, as conviction rather than theory.

---

## The Ten Categories

### Status Legend

| Symbol | State | Meaning |
|--------|-------|---------|
| ◉ | Owned | Conviction, not theory. Can state instantly. |
| ◐ | Articulated | Position clear, but tensions unresolved |
| ◔ | Engaged | Exploring seriously, not yet committed |
| ○ | Implicit | Position held but not yet articulated |
| ◇ | Unresolved | No clear position yet |

---

### I. Metaphysics: What Is Real?

**Status:** ◐ Articulated, scattered
**Document:** \`inst-credo-metaphysics\`
**Action Required:** Consolidate into one paragraph

**Current Position (scattered):**
- Reality is hierarchical — material, psychic, spiritual levels
- Experienced ontological evil, deduced ontological good
- The material world is real but not ultimate
- Engages Traditionalist metaphysics (Guénon, Evola) seriously
- Bergson's temporal metaphysics influences — process and duration over static being

**Tension:** Is reality hierarchical (Traditionalist/Neoplatonic) or sacramental (Christian — matter infused with spirit, not inferior to it)?

---

### II. Theology: Who Is God?

**Status:** ◐ Strong, with tension
**Document:** \`inst-credo-theology\`
**Action Required:** Resolve Christ's uniqueness

**Current Position:**
- Christ confessed as Lord and Savior (explicit, from encounter)
- The Incarnation as real historical event
- Grace over works, but not passive — Ilyin's "bear the sin to act"
- Trinitarian Christianity (implicit from Orthodox/Catholic investigation)

**Tension:** Is Christ unique (the only Incarnation) or exemplary (one avatar among many)? The Traditionalist question — perennialism or particularity — remains unresolved.

**Note:** This determines everything downstream. Must be resolved.

---

### III. Anthropology: What Is Man?

**Status:** ◐ Articulated
**Document:** \`inst-credo-anthropology\`
**Action Required:** Clarify archetype-theology relationship

**Current Position:**
- Man has archetypal structure: King, Warrior, Magician, Lover
- These are real structures of the psyche, not merely useful models
- Man is fallen but redeemable — Christian anthropology
- Human telos is integration — the "full mature masculine"
- Hierarchy is natural — some are fit to govern, some are not

**Self-Diagnosis:**
- Magician dominant (90%)
- Warrior underdeveloped (core growth edge)
- King integrating
- Lover moderate

**Tension:** Are archetypes created structures (like natural law) or something else? How does Jung relate to Christian anthropology?

---

### IV. Epistemology: How Do We Know?

**Status:** ◐ Strong
**Document:** \`inst-credo-epistemology\`
**Action Required:** State authority structure

**Current Position:**
- Four kinds of knowing: propositional, procedural, perspectival, participatory
- Modernity over-indexes on propositional; participatory knowing is the goal
- Encounter is a valid mode of knowledge (the conversion experience proves this)
- Genealogical thinking: "how did we get here" structures inquiry
- Philological excavation: etymology reveals what surfaces conceal
- Gnosis — knowledge that transforms the knower

**Tension:** When reason and revelation conflict, which wins? When excavation contradicts Church teaching, what do you do?

---

### V. Ethics: What Is Good?

**Status:** ◐ Articulated via Ilyin
**Document:** \`inst-credo-ethics\`
**Action Required:** Define red lines

**Current Position:**
- "I would rather bear my sin to act in good intention than to not act in fear that I am in violation of the sacred."
- Grace-dependent action, not Pelagian earning
- Tragic realism — action in a fallen world always involves sin
- The statesman bears his sin, confesses, trusts grace, acts again
- Inaction is also sin — stewardship requires deployment

**Tension:** What are the red lines — sins you will not bear even for good ends? Where does "bearing sin" become "rationalizing evil"?

---

### VI. Political Philosophy: What Is Legitimate Order?

**Status:** ◐ Articulated, in tension
**Document:** \`inst-credo-political\`
**Action Required:** State source of authority

**Current Position:**
- Liberalism is exhausted — cannot reproduce its own conditions
- Post-liberal turn already operative
- Schmittian realism: sovereignty is capacity to decide the exception
- Hierarchy is natural and just (Traditionalist and Cavalier inheritance)
- American particularity must be respected — not European throne-and-altar
- Regional thickness within federal structure
- "Christian pluralism" — no confessional state but public order oriented toward flourishing

**Tension:** Where does authority come from? If not consent (liberal), if not blood (fascist), if not confession (integralist), then what? You accept Schmitt's descriptive analysis but reject pure decisionism. You want transcendent grounding but resist theocracy.

---

### VII. Economics: What Is Wealth For?

**Status:** ◉ Solid
**Document:** \`inst-credo-economics\`
**Action Required:** Resolve List/Distributist tension

**Current Position:**
- Friedrich List over Ricardo: productive capacity over exchange efficiency
- Oikonomia over chrematistics: household flourishing over unlimited accumulation
- American System tradition: Hamilton, Clay, Lincoln
- Skepticism of financialization
- Long time horizons, regional rootedness, human-scale enterprise
- Capital deployed for productive power, not financial return

**Tension:** List implies national-scale industrial policy; Distributism implies small-scale ownership. How do you hold both? At what scale should enterprise operate?

---

### VIII. Philosophy of History: What Is the Shape of Time?

**Status:** ◔ Engaged but not resolved
**Document:** \`inst-credo-history\`
**Action Required:** Commit to a position

**Current Position (in tension):**
- Engages Spengler: civilizational morphology, Culture → Civilization → death
- Engages Traditionalism: Kali Yuga, decline from Golden Age
- Confesses Christ: implies history moving toward consummation, not cycle

**Unresolved Question:** Are we in the Kali Yuga? If so, what does Christian hope mean within civilizational decline? Is building futile — just slowing the inevitable — or does Christian eschatology break the cycle?

Three possibilities:
1. Cycle can be broken (Christian hope)
2. Managing decline (Spenglerian resignation)
3. Both true at different levels (civilizational time vs. salvation history)

---

### IX. Eschatology: What Is the End?

**Status:** ○ Implicit
**Document:** \`inst-credo-eschatology\`
**Action Required:** Articulate explicitly

**Current Position (implicit from Christ confession):**
- Resurrection of the body
- Judgment
- Heaven and hell
- New creation

**Not Yet Articulated:**
- What actually happens after death?
- What is heaven? What is hell? States, places, both?
- What is the resurrection of the body — continuity of this body, or something else?
- What is the new creation — restoration of Eden, or something genuinely new?

---

### X. Ecclesiology: Where Is the Church?

**Status:** ◔ Diagnosed but not resolved
**Document:** \`inst-credo-ecclesiology\`
**Action Required:** Make concrete decision

**The Journey:**
- Baptist Protestant background
- Learned much Calvinism
- Recognized historical Christian practices from 1st century did not correspond with Calvinist and evangelical beliefs
- Investigated Catholicism and Eastern Orthodoxy

**Current Diagnosis:**
- Protestantism rejected sacramental mystery
- Rome post-Vatican II disrupted
- Orthodoxy has strongest claim but ethnic/compromised
- The Orthodox answer to Evola (synergy, theosis) resonates

**Not Yet Decided:**
- "Orthodoxy is interesting" is not a position
- "We will attend _____ parish and submit to _____ bishop" is a position
- This admits no refinement — only decision

**Note:** Lee Kuan Yew's constructed advice: "Sit in the Divine Liturgy. Not as tourism. As investigation. Then decide."

---

## Priority Order

### Blocking (resolve first)

1. **Ecclesiology** — admits no refinement, only decision. Determines Sunday morning.
2. **Theology** — Christ's uniqueness determines everything downstream.

### Second Priority (resolve tensions)

3. **Political Philosophy** — source of authority question
4. **Philosophy of History** — Spengler vs. Christian hope

### Third Priority (consolidate)

5. Metaphysics
6. Anthropology
7. Epistemology
8. Ethics
9. Economics

### Fourth Priority (articulate from implicit)

10. Eschatology

---

## Upstream Sources

Documents that feed specific categories:

| Category | Upstream |
|----------|----------|
| Metaphysics | Traditionalist sources (Guénon, Evola) |
| Theology | Conversion experience, Orthodox investigation |
| Anthropology | \`fw-four-knowings\`, KWML work |
| Epistemology | \`fw-four-knowings\`, Vervaeke influence |
| Ethics | Ilyin |
| Political Philosophy | Schmitt, Deneen, American System |
| Economics | \`fw-oikonomia-chrematistics\`, \`src-list-national-system\`, \`src-hamilton-report-manufactures\` |
| Philosophy of History | Spengler, Traditionalism, Christian eschatology |
| Eschatology | (needs sources) |
| Ecclesiology | Orthodox investigation, Evola/Orthodox dialogue |

---

## The Test

By sabbatical's end:

> Can you state each position instantly if asked? Not "I'm exploring..." but "I believe X."

This index tracks progress toward that goal. When all ten categories show ◉, the credo is complete.

---

## Composition

**This document was informed by:**
- \`fw-worldview-architectonic\` (method)
- \`idx-user-commitments\` (prior commitments)
- The Bismarck/Lee/Park constructed dialogue (the assignment)

**This document enables:**
- Ten instance documents (one per category)
- Resolution of unresolved questions in \`idx-user-commitments\`
- Transmission to House Bedford — the children`,
  },
  {
    id: 'idx-credo-source-pipeline',
    title: 'Bedford Credo Source Pipeline',
    type: 'index',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-conducting-frontmatter'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['credo', 'sources', 'pipeline', 'worldview', 'bedford', 'theology', 'metaphysics', 'ecclesiology', 'political-philosophy'],
    content: `# Bedford Credo Source Pipeline

**Purpose:** Organize source capture for the ten Bedford Credo categories. Prioritized by blocking status and commitment strength.

**Constraint:** Source capture is Magician work. Capture enough to ground positions, then produce credo instances. Do not accumulate indefinitely.

---

## Pipeline Status

| Symbol | State |
|--------|-------|
| ◉ | Captured (source doc exists) |
| ◐ | In progress |
| ○ | Queued |
| ✗ | Skipped (anti-source) |

---

## Tier 1: Blocking Categories

These sources serve Theology and Ecclesiology — the two categories that "admit no refinement, only decision."

| Source | Author | Category | Status | Document |
|--------|--------|----------|--------|----------|
| *The Mystical Theology of the Eastern Church* | Vladimir Lossky | Theology/Ecclesiology | ◉ | \`src-lossky-mystical-theology\` |
| *For the Life of the World* | Alexander Schmemann | Ecclesiology | ◉ | \`src-schmemann-life-of-world\` |
| *On Resistance to Evil by Force* | Ivan Ilyin | Ethics/Theology | ◉ | \`src-ilyin-resistance-evil\` |
| *Orthodoxy and the Religion of the Future* | Seraphim Rose | Ecclesiology | ◉ | \`src-rose-orthodoxy-religion-future\` |

**Tier 1 complete.** All blocking sources captured.

---

## Tier 2: Metaphysical Engagement

Ground the Traditionalist engagement that runs through metaphysics and philosophy of history.

| Source | Author | Category | Status | Document |
|--------|--------|----------|--------|----------|
| *The Crisis of the Modern World* | René Guénon | Metaphysics | ◉ | \`src-guenon-crisis-modern-world\` |
| *Ride the Tiger* | Julius Evola | Metaphysics | ◉ | \`src-evola-ride-tiger\` |
| *Revolt Against the Modern World* | Julius Evola | Metaphysics | ○ | — |
| *The Decline of the West* | Oswald Spengler | Philosophy of History | ◉ | \`src-spengler-decline-west\` |
| *Meaning in History* | Karl Löwith | Philosophy of History | ◉ | \`src-lowith-meaning-history\` |

**Tier 2 mostly complete.** One Evola text queued (optional — *Ride the Tiger* covers the core).

---

## Tier 3: Political Philosophy

Fill the gap in political philosophy sources — you use Schmittian concepts without capturing Schmitt.

| Source | Author | Category | Status | Document |
|--------|--------|----------|--------|----------|
| *Political Theology* | Carl Schmitt | Political Philosophy | ◉ | \`src-schmitt-political-theology\` |
| *The Concept of the Political* | Carl Schmitt | Political Philosophy | ○ | — |
| *Why Liberalism Failed* | Patrick Deneen | Political Philosophy | ◉ | \`src-deneen-liberalism-failed\` |
| *After Virtue* | Alasdair MacIntyre | Political Philosophy | ◉ | \`src-macintyre-after-virtue\` |
| *The Managerial Revolution* | James Burnham | Political Philosophy | ◉ | \`src-burnham-managerial-revolution\` |

**Tier 3 mostly complete.** Second Schmitt text optional — *Political Theology* has the core.

---

## Tier 4: Optional Deepening

Strengthen already-strong categories. Lower priority.

| Source | Author | Category | Status | Document |
|--------|--------|----------|--------|----------|
| *Harmony of Interests* | Henry Carey | Economics | ○ | — |
| *A Humane Economy* | Wilhelm Röpke | Economics | ○ | — |
| *Personal Knowledge* | Michael Polanyi | Epistemology | ○ | — |
| *Truth and Method* | Hans-Georg Gadamer | Epistemology | ○ | — |
| *Creative Evolution* | Henri Bergson | Metaphysics | ○ | — |

---

## Already Captured (Prior to Pipeline)

| Source | Author | Category | Document |
|--------|--------|----------|----------|
| *The National System of Political Economy* | Friedrich List | Economics | \`src-list-national-system\` |
| *Report on the Subject of Manufactures* | Alexander Hamilton | Economics | \`src-hamilton-report-manufactures\` |
| *The Great Transformation* | Karl Polanyi | Economics | \`src-polanyi-great-transformation\` |
| *Debt: The First 5000 Years* | David Graeber | Economics | \`src-graeber-debt\` |
| *Politics Book I* | Aristotle | Economics | \`src-aristotle-politics\` |
| *Awakening from the Meaning Crisis* | John Vervaeke | Epistemology | \`src-vervaeke-awftmc\` |

---

## Capture Summary

**Total sources captured:** 20 (6 prior + 14 new)

**By category:**
- Theology/Ecclesiology: 4 (Lossky, Schmemann, Ilyin, Rose)
- Metaphysics: 2 (Guénon, Evola)
- Philosophy of History: 2 (Spengler, Löwith)
- Political Philosophy: 4 (Schmitt, Deneen, MacIntyre, Burnham)
- Economics: 5 (List, Hamilton, Polanyi, Graeber, Aristotle)
- Epistemology: 1 (Vervaeke)
- Anthropology: 1 (Moore/Gillette)
- Eschatology: 1 (Hopko)

**Credo coverage:**
| Category | Sources | Status |
|----------|---------|--------|
| I. Metaphysics | Guénon, Evola | Covered |
| II. Theology | Lossky, Rose | Covered |
| III. Anthropology | Moore/Gillette (KWML) | Covered |
| IV. Epistemology | Vervaeke | Covered |
| V. Ethics | Ilyin | Covered |
| VI. Political Philosophy | Schmitt, Deneen, MacIntyre, Burnham | Strong |
| VII. Economics | List, Hamilton, Polanyi, Graeber, Aristotle | Strong |
| VIII. Philosophy of History | Spengler, Löwith | Covered |
| IX. Eschatology | Hopko | Covered |
| X. Ecclesiology | Lossky, Schmemann, Rose | Strong |

**All ten credo categories now have primary sources.**

---

## Anti-Sources (Skip)

| Source | Author | Why Skip |
|--------|--------|----------|
| Vervaeke's writings beyond AWFTMC | Vervaeke | Already captured; teacher not authority |
| Peterson's books | Peterson | Formative but moved beyond |
| Illich's works | Illich | Method-similar, telos-divergent |
| Generic perennialism surveys | Various | Need primaries, not summaries |

---

## Stop Condition

**When to stop capturing:**
1. Every credo category has at least one primary source
2. You can state each position without needing to look anything up
3. The next step is producing credo instances, not more sources

**Current assessment:** All categories covered. Tier 4 is optional enrichment.

**Recommendation:** Stop capturing. Produce credo instances.

---

## Composition

**This document was informed by:**
- \`idx-bedford-credo\` (the ten categories)
- \`idx-user-commitments\` (telos calibration)
- Gap analysis of existing sources

**This document enables:**
- Systematic source capture tracking
- Prioritized reading list
- Prevention of Magician-trap accumulation
- Transition to credo instance production`,
  },
  {
    id: 'idx-user-skills',
    title: 'User Skills',
    type: 'index',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-four-knowings', 'fw-contextual-calibration'],
    source_id: null,
    output: 'loomcommander',
    status: 'incubating',
    tags: ['skills', 'calibration', 'capacity', 'development', 'four-knowings'],
    content: `# User Skills

**Purpose:** Calibration document for loomlib operations. This index defines *capacity* (what you can do) to complement \`idx-user-commitments\` (what you're committed to). Together they answer: "Given what I want, what can I actually execute?"

**Usage:** Commands that involve assessment, planning, or production should check both documents. Skills here inform:
- What's actionable now vs. needs development
- Where the Magician-Warrior gap manifests in capacity
- Which frameworks you can apply vs. only understand

**Framework:** Skills organized by the Four Knowings (Vervaeke), used operationally while acknowledging its limits (see \`inst-apologetic-four-knowings\`).

---

## I. Technical Skills (Procedural)

### Software Development

| Skill | Level | Evidence | Commitment Served |
|-------|-------|----------|-------------------|
| TypeScript/JavaScript | Fluent | PathX, Loomlib, Minwrite | Loomcommander output |
| React | Fluent | PathX UI | Loomcommander output |
| Node.js | Fluent | Backend systems | Loomcommander output |
| Python | Working | Jira scripts, automation | Tooling |
| SQL/Databases | Working | PathX analytics | PathX/BeeSafe |
| Git/Version Control | Fluent | Daily use | All production |
| Vite/Build Tools | Working | Loomlib, Minwrite | Loomcommander output |

**Self-taught pattern:** Learn by building, not courses. This is procedural knowing acquired through practice.

### AI/LLM Integration

| Skill | Level | Evidence | Commitment Served |
|-------|-------|----------|-------------------|
| Prompt engineering | Developing | Loomlib commands, Claude orchestration | AI as instrument |
| Claude Code workflows | Developing | This system | Loomcommander output |
| MCP/tool integration | Basic | Chrome extension integration | Loomcommander output |

**Gap:** Not yet shipping AI-augmented products to customers. BeeSafe could be the test.

### Video/Media Production

| Skill | Level | Evidence | Commitment Served |
|-------|-------|----------|-------------------|
| Video editing | Untested | None shipped | Etymon output (BLOCKED) |
| Audio production | Untested | None shipped | Etymon output (BLOCKED) |
| Graphic design | Basic | Some PathX work | Etymon output |
| Writing/scripting | Strong | Loomlib content, frameworks | Etymon output |

**Critical gap:** 35 Etymon documents exist. Zero videos. This is the Magician-Warrior test.

---

## II. Intellectual Skills (Propositional + Perspectival)

### Frameworks Mastered (Can Apply)

| Framework | Knowing Type | Evidence | Status |
|-----------|--------------|----------|--------|
| Etymon Method | Procedural | Multiple excavations produced | Verified |
| Survey Method | Procedural | Multiple surveys completed | Verified |
| Scope Method | Procedural | Multiple scopes completed | Draft |
| Oikonomia/Chrematistics | Perspectival | Shapes economic analysis | Verified |
| Agonal Identity | Perspectival | Shapes political analysis | Verified |
| Four Knowings | Perspectival | Used but under critique | Verified |
| KWML | Perspectival | Self-diagnosis tool | Adopted |

### Frameworks Known (Propositional Only)

| Framework | Source | Gap |
|-----------|--------|-----|
| List's developmental economics | Reading | Not yet applied to real policy analysis |
| Traditionalist critique | Guénon, Evola | Engaged but not committed; axis unresolved |
| Legal grammar | Not started | Curriculum track missing |

**Pattern:** Strong on propositional (knowing that), developing on procedural (knowing how), weaker on participatory (knowing through belonging).

### Research Skills

| Skill | Level | Evidence |
|-------|-------|----------|
| Etymological research | Strong | Excavations |
| Codebase investigation | Strong | Surveys |
| Source synthesis | Strong | Source documents, recons |
| Genealogical thinking | Developing | Apologetics, economic genealogy |
| Primary source reading | Developing | Aristotle, Graeber, etc. |

---

## III. Business/Operative Skills (Procedural + Participatory)

### Current Context: Pathformance

| Skill | Level | Evidence |
|-------|-------|----------|
| Campaign analytics | Expert | 400+ brands analyzed |
| Data visualization | Strong | PathX dashboards |
| Client communication | Working | COO role alongside father |
| Product management | Developing | PathX iteration |

### Entrepreneurial

| Skill | Level | Evidence | Gap |
|-------|-------|----------|-----|
| Technical building | Strong | PathX, Loomlib | — |
| Market validation | Untested | BeeSafe is the test | 90-day sprint |
| Sales/BD | Untested | None | Critical for BeeSafe |
| Customer discovery | Untested | None | Critical for BeeSafe |

**The Warrior test:** Technical building is Magician territory. Sales, validation, customer work is Warrior territory. The imbalance is visible here.

---

## IV. The Knowing Gap Analysis

Using Four Knowings diagnostically:

| Knowing Type | Current State | Commitment Tension |
|--------------|---------------|-------------------|
| **Propositional** | Strong — frameworks, vocabulary, genealogies | Risk: accumulation without application |
| **Procedural** | Developing — can execute methods, build software | Gap: video production, sales |
| **Perspectival** | Developing — see through oikonomia, agonal lenses | Gap: legal grammar perspective missing |
| **Participatory** | Weak — lineage claimed but not enacted; no initiatic belonging | Critical: the apologetic surfaces this |

**The honest assessment:** You know *that* a lot. You're learning *how* to apply it. You're developing *what* to see. You haven't yet become *who* — the participatory knowing that comes from shipping, from community, from being received into something.

---

## V. Skill-Commitment Alignment

### Aligned (Skills Match Commitments)

| Commitment | Skill | Status |
|------------|-------|--------|
| AI as compositional instrument | Prompt engineering, Claude workflows | Developing |
| Loomcommander output | TypeScript, React, system building | Strong |
| Etymon Method | Philological research, framework application | Strong |
| Production over capture | Survey/Scope/Excavate methods | Strong |

### Misaligned (Commitments Outrun Skills)

| Commitment | Missing Skill | Impact |
|------------|---------------|--------|
| Etymon (YouTube) | Video production | 35 docs, 0 videos |
| BeeSafe/CIVITAS | Sales, customer discovery | Business validation blocked |
| Legal grammar curriculum | Legal reading/drafting | Curriculum track missing |
| Participatory knowing | Initiation, belonging | The apologetic's finding |

### The Magician-Warrior Map

| Activity | Type | Current Capacity |
|----------|------|------------------|
| Framework creation | Magician | Strong (14 frameworks) |
| Excavation/research | Magician | Strong (38 research docs) |
| System design | Magician | Strong (Loomlib) |
| Video shipping | Warrior | Blocked |
| Customer conversations | Warrior | Untested |
| Sales | Warrior | Untested |
| Finishing | Warrior | The developmental edge |

---

## VI. Development Priorities

Based on commitment-skill gap analysis:

### Immediate (Unblocks Current Projects)

| Skill | Why | How |
|-------|-----|-----|
| Video production workflow | Unblocks Etymon Episode 1 | Define MVE, learn tools, ship one |
| Customer discovery | Unblocks BeeSafe validation | 10 customer conversations |

### Foundational (Fills Curriculum Gaps)

| Skill | Why | How |
|-------|-----|-----|
| Legal reading | Missing curriculum track | Start with Blackstone or constitutional law |
| Sales basics | Warrior development | Books, practice, BeeSafe as training ground |

### Integration (Magician-Warrior Balance)

| Pattern | Shift |
|---------|-------|
| "Research before acting" | Invert: act before fully researching |
| "One more framework" | Stop: ship with current frameworks |
| "Understand first" | Limit: understanding is never complete |

---

## VII. Calibration Protocol

When any loomlib command involves the user:

### Skill Check
1. Does this task require skills the user has?
2. If not, flag the gap explicitly
3. Distinguish propositional knowing (can discuss) from procedural (can do)

### Warrior Test
1. Is this task Magician (research, framework, understanding) or Warrior (shipping, selling, finishing)?
2. If Magician, ask: does this serve a Warrior outcome?
3. If pure Magician, flag: "This may reinforce the imbalance"

### Participatory Caution
1. Does this task claim participatory knowing the user hasn't earned?
2. Particularly: "belonging to" traditions, communities, lineages
3. The apologetic on Four Knowings is live context here

---

## VIII. Anti-Skills (What Not to Develop)

| Temptation | Why Resist |
|------------|------------|
| More frameworks | 14 exist; ship instances |
| Deeper research before acting | The Magician trap |
| Abstract methodology | Loomlib works; use it |
| Peer-matching based on method | Commitments override surface features |
| "Ecology of practices" thinking | The domesticated version of participatory knowing |`,
  },
  {
    id: 'src-vervaeke-awftmc',
    title: 'Awakening from the Meaning Crisis',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'verified',
    tags: ['vervaeke', 'meaning', 'wisdom', 'relevance'],
    content: `# Awakening from the Meaning Crisis — John Vervaeke

YouTube lecture series.`,
  },
  {
    id: 'src-american-compass',
    title: 'American Compass and the New Conservatives',
    type: 'source',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['american-compass', 'oren-cass', 'industrial-policy', 'developmental', 'new-right', 'hamilton', 'american-system'],
    content: `# American Compass and the New Conservatives

**Organization:** American Compass
**Founder:** Oren Cass (2020)
**Type:** Conservative think tank / policy organization
**Key Publication:** "The New Conservatives" (2025)

---

## Summary

American Compass is the institutional center of "New Right" economic policy — explicitly positioning itself as reviving the American System tradition of Hamilton, Clay, and Lincoln against the free-trade consensus that dominated both parties since the 1970s.

Founded in 2020 by Oren Cass (former Romney policy advisor), American Compass represents the intellectual infrastructure for post-neoliberal conservative economics. The organization's founding letter explicitly invokes Henry Clay's "American System" as its model.

**Core thesis:** The globalization and financialization of recent decades have hollowed out American productive capacity. Neither free-market orthodoxy nor progressive redistribution addresses the structural problem. National industrial policy — developmental, protectionist, pro-production — is necessary.

---

## Key Positions

### Industrial Policy

- The U.S. should adopt explicit industrial policy to rebuild domestic manufacturing
- Free trade cannot produce optimal outcomes while competing with state-directed economies (China)
- A development bank or finance corporation is needed for long-term industrial investment
- The American Foundries Act (semiconductor subsidies, defense industrial base) represents the model

### Trade and Tariffs

- Protectionism is legitimate and historically American (not un-American)
- Tariffs should shield infant/strategic industries from foreign competition
- Trade policy should serve national productive capacity, not consumer prices or corporate profits
- Free trade ideology benefits mobile capital at expense of rooted labor and communities

### Labor

- Conservative economics must be "pro-worker" not merely "pro-market"
- Organized labor can be a partner in productive economy (contrast with libertarian anti-union stance)
- Wage levels matter more than GDP growth
- Cass contributed to Project 2025's Department of Labor chapter

### Finance

- Financialization has diverted investment from productive industry
- Wall Street's interests diverge from national interest
- Financial sector's political power must be countered
- Manufacturing is primary; finance should serve it

---

## Key Personnel

| Person | Role | Significance |
|--------|------|--------------|
| **Oren Cass** | Founder, Chief Economist | Former Romney advisor; leading intellectual of New Right economics |
| **Michael Lind** | Contributor | Co-founder of New America; neo-Hamiltonian historian |
| **Julius Krein** | Contributor | Founder of American Affairs Journal; key figure in intellectual New Right |
| **Robert Lighthizer** | Contributor | Trump's USTR; architect of tariff policy |
| **Marco Rubio** | Contributor | Senator; represents political wing of industrial conservatism |
| **Yuval Levin** | Contributor | AEI; represents more traditional conservative fusion |

---

## The "New Conservatives" (2025)

Fifth anniversary publication consolidating the movement's positions:

**Topics covered:**
- Trade and immigration
- Technology and finance
- Industrial policy
- Education
- Welfare
- Labor
- Family

**Significance:** Wall Street Journal describes American Compass as "the forefront of rethinking traditional conservative economic ideas" — indicating mainstream recognition of the challenge to free-market orthodoxy.

---

## Relation to American System Tradition

American Compass explicitly claims descent from Hamilton-Clay-Lincoln:

| American System | American Compass |
|-----------------|------------------|
| Protective tariffs | Pro-tariff, anti-free-trade |
| National bank for development | Development bank proposal |
| Internal improvements | Infrastructure investment |
| Infant industry protection | Industrial policy for strategic sectors |
| National productive capacity | Manufacturing-first economics |

**The recovery:** American Compass represents the most visible institutional attempt to revive developmental nationalism within mainstream conservatism.

**The limitation:** Still focused on policy rather than institutional building. Think tank model may be insufficient for actual re-founding.

---

## American Affairs Journal

Parallel publication (founded 2017 by Julius Krein) that provides intellectual depth:

**Orientation:** "Neo-Hamiltonian economic nationalism" — technically sophisticated critique of financialization and deindustrialization.

**Key themes:**
- Trade and industrial policy
- Criticisms of financialization
- Family policy and childcare
- Infrastructure
- Bringing together right and left critics of neoliberalism

**Recent coverage (2024-2025):**
- Biden infrastructure spending analysis (where did the money go?)
- Economic statecraft for national security
- Trump tariff policy and "Liberation Day" (April 2025)
- The "two philosophies" of industrial policy

**Significance:** Provides the long-form intellectual content that American Compass translates into policy.

---

## Strategic Assessment

### Strengths

1. **Explicit American System framing** — connects to historical tradition, not mere improvisation
2. **Institutional form** — think tank, journal, books, events (not just individuals)
3. **Political traction** — contributors include senators, cabinet officials (Lighthizer)
4. **Cross-partisan appeal** — some overlap with left critics of neoliberalism

### Limitations

1. **Think tank model** — produces papers, not institutions
2. **Elite orientation** — targets policy class, not popular movement
3. **Personnel pipeline unclear** — where do developmentalist bureaucrats come from?
4. **Coalition building limited** — how to connect intellectual work to political power beyond Trump orbit?

### Openings

- Vice President JD Vance explicitly aligned (June 2025 New World Gala)
- Project 2025 involvement (for better or worse)
- CHIPS Act, IRA momentum creates policy space
- Bipartisan infrastructure interest

---

## For Recon

This source informs \`inst-recon-institutions-post-globalist\`:

**Theory production:** American Compass/American Affairs represent the most developed contemporary theory of developmental nationalism. The gap is not theory but implementation.

**Personnel:** The network around these institutions is the closest thing to a developmentalist personnel pipeline. Key for "where to develop" question.

**Limitation:** Still operating in think tank mode. The American System was built by founders who *did* things (Hamilton as Treasury Secretary, Clay as legislator, Lincoln as President). Can a think tank birth a new arrangement?

---

## Sources

- [American Compass - About](https://americancompass.org/about/)
- [American Compass - InfluenceWatch](https://www.influencewatch.org/non-profit/american-compass/)
- [Oren Cass - Wikipedia](https://en.wikipedia.org/wiki/Oren_Cass)
- [Foreign Affairs - How Trump Can Rebuild America (Cass, 2025)](https://www.foreignaffairs.com/united-states/how-trump-can-rebuild-america)
- [The New Conservatives - Amazon](https://www.amazon.com/New-Conservatives-Restoring-Commitment-Community/dp/B0DXD6CB8M)
- [American Affairs - Wikipedia](https://en.wikipedia.org/wiki/American_Affairs)
- [American Affairs Journal](https://americanaffairsjournal.org/)
- [Bloomberg - American Affairs Shaping Debate (2025)](https://www.bloomberg.com/news/articles/2025-08-22/-american-affairs-is-shaping-the-debate-on-next-us-ideology)`,
  },
  {
    id: 'src-aristotle-politics',
    title: 'Politics Book I',
    type: 'source',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['aristotle', 'oikonomia', 'chrematistics'],
    content: `# Politics Book I — Aristotle

Source for oikonomia vs chrematistics distinction.`,
  },
  {
    id: 'src-burnham-managerial-revolution',
    title: 'The Managerial Revolution',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['political-philosophy', 'burnham', 'managerialism', 'elite', 'class', 'technocracy', 'capitalism'],
    content: `# The Managerial Revolution

**Author:** James Burnham
**Published:** 1941
**Category:** Political Economy, Elite Theory

---

## Core Argument

Capitalism is not being replaced by socialism but by a new social system: managerialism. The old capitalist class (owners) is being displaced by a new ruling class (managers) — the executives, administrators, engineers, and bureaucrats who actually run large organizations.

This is happening in all advanced societies regardless of ideology. New Deal America, Nazi Germany, Soviet Russia — all are converging toward managerial rule. The formal ideology (liberalism, fascism, communism) matters less than the underlying class shift.

---

## Key Concepts

### The Managerial Class
- Not owners but controllers
- Derive power from position in organization, not property
- Include corporate executives, government administrators, technical experts
- Their interests differ from both capitalists and workers

### The Separation of Ownership and Control
- In large corporations, stockholders own but don't control
- Managers make decisions; owners receive dividends
- This is a structural shift, not a conspiracy
- The corporation becomes a quasi-political institution

### Convergence
- All industrial societies move toward managerialism
- Soviet planners and American executives are the same class
- Ideological differences are superstructure; managerial power is base
- The Cold War obscures class identity

### The State as Manager
- The state expands to regulate, coordinate, plan
- This empowers administrators, not voters
- "Big government" and "big business" produce the same ruling class
- New Deal liberals and corporate executives are allies, not enemies

### Ideological Superstructure
- Each class produces ideologies that justify its rule
- Capitalists: property rights, free markets, limited government
- Managers: expertise, efficiency, planning, public interest
- Managerial ideologies appear "neutral" but serve managerial power

### The Future
- Burnham predicted (in 1941) continued managerial ascent
- Neither capitalist restoration nor proletarian revolution
- The question: which faction of managers will rule?
- National or international? Corporate or governmental?

---

## Relation to Bedford Credo

### Serves: Political Philosophy (Category VI)

**The regime question:** Liberal democracy may be a facade. The real power lies with managers — unelected administrators, corporate executives, technical experts. Your sense that democratic politics is "theater" finds support here.

**Against both liberalism and socialism:** Burnham dissolves the Left-Right spectrum at the regime level. Both sides empower managers. The alternative must be sought elsewhere.

**The sovereignty question:** If managers rule, where does sovereignty lie? Not with the people (democracy), not with the owners (capitalism), not with the workers (socialism). With whoever controls the administrative apparatus.

### Serves: Economics (Category VII)

**The corporation question:** Large corporations are not really "private" — they're quasi-governmental. This aligns with your List-oikonomia position: economics is political, not autonomous.

**Against free-market capitalism:** Burnham shows that "capitalism" in the classical sense no longer exists. The choice is not market vs. state but types of managerial control.

**Financialization:** The separation of ownership and control enables financialization — owners extract value without productive responsibility. Your chrematistics critique gains support.

### Serves: Strategic Posture

**Who actually rules?** Your phased approach requires knowing who to engage. If managers rule, political theater matters less than institutional position. The administrative state, the corporate boardroom, the credentialing system — these are power centers.

**The class question:** Are you part of the managerial class? PathX, data analytics, technical expertise — these are managerial skills. The question: serve the managers or build an alternative?

---

## Key Passages

> "What is occurring in this transition is a drive for social dominance, for power and privilege, for the position of ruling class, by the social group or class of the managers."

> "The managers are, in a quite objective and unmetaphorical sense, becoming the new ruling class of society."

> "The abolition of private property in the instruments of production does not abolish exploitation; it abolishes only one specific form of the exploiting class."

> "The separation of ownership and control... is one of the most significant social changes of modern times."

---

## Authority Status

**Diagnostic tool, not normative authority.**

Burnham provides elite theory and class analysis that cuts through ideological confusion. His predictions proved partly correct: the administrative state has grown; managers do wield enormous power.

**Limits:**
- Burnham later became a conservative Cold Warrior — different concerns
- Convergence thesis was wrong in detail (Soviet collapse)
- He provides diagnosis, not prescription

**Connection to Curtis Yarvin:** Yarvin's "Cathedral" thesis is Burnham updated. The managerial elite (academia, media, bureaucracy) forms a distributed ruling class. You engage Yarvin; Burnham is the predecessor.

**The political question:** Does understanding managerialism lead to apoliteia (the game is rigged) or targeted engagement (capture the administrative state)?

---

## Composition

**This source was captured for:**
- \`inst-credo-political\` (who actually rules?)
- \`inst-credo-economics\` (corporation as quasi-government)
- \`idx-credo-source-pipeline\` (Tier 3 political philosophy)

**This source enables:**
- Grounding the "democratic theater" intuition
- Understanding the regime beneath ideological surfaces
- Connecting to contemporary elite theory (Yarvin, American Affairs)`,
  },
  {
    id: 'src-deneen-liberalism-failed',
    title: 'Why Liberalism Failed',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['political-philosophy', 'deneen', 'liberalism', 'failure', 'community', 'tradition', 'post-liberal'],
    content: `# Why Liberalism Failed

**Author:** Patrick J. Deneen
**Published:** 2018
**Category:** Political Philosophy

---

## Core Argument

Liberalism has failed not because it was corrupted or improperly implemented, but because it succeeded. Liberalism achieved its goals — individual liberation from all unchosen bonds — and the result is atomization, loneliness, inequality, and the inability to reproduce its own conditions. Liberalism is a victim of its own success.

The failure is not accidental but philosophical. Liberalism's anthropology — the autonomous individual prior to society — is false. Humans are not individuals first and social second; we are constituted by our relations. Liberalism's war on all unchosen attachments (family, place, tradition, religion) destroys the very substrate of human flourishing.

---

## Key Concepts

### Liberalism as Anti-Culture
- Culture = cultivation; the shaping of persons through inherited forms
- Liberalism defines freedom as liberation from inherited forms
- Therefore liberalism is anti-culture by definition
- It replaces culture with the market and the state

### The Two Liberalisms
- Classical liberalism: limited government, free markets, individual rights
- Progressive liberalism: activist state, identity politics, social justice
- These appear opposed but share the same anthropology
- Both see unchosen attachments as problems to be overcome
- They are two faces of one project

### State and Market as Liberators
- Traditional limits on both state and market came from intermediate institutions
- Family, church, guild, locality — these constrained both
- Liberalism weakened these to liberate the individual
- Result: the individual faces state and market alone
- "Loneliness" is the characteristic liberal experience

### The Anthropological Error
- Liberal anthropology: individuals exist prior to society, then contract to form it
- True anthropology: we are constituted by relationships; the individual is an abstraction
- You are not "autonomous self" first, then member of family, community, nation
- You are son, neighbor, citizen — membership precedes individuality

### Why It "Succeeded" to Failure
- Liberalism promised liberation and delivered it
- But liberation from all bonds is isolation
- Isolation produces loneliness, anomie, despair
- The liberated individual discovers he cannot survive alone
- He then demands the state provide what community once did
- This produces the progressive liberal state — liberalism's completion, not betrayal

### The Sustainability Problem
- Liberalism depends on resources it cannot produce
- Civic virtue, social trust, human capital, children — all come from tradition
- Liberalism consumes this inheritance without replacing it
- Each generation is more liberated and more impoverished
- This is terminal

---

## Relation to Bedford Credo

### Serves: Political Philosophy (Category VI)

**The post-liberal turn:** Deneen provides the standard contemporary critique of liberalism from a traditionalist-communitarian perspective. Your "post-liberal turn already operative" can cite this.

**Against liberalism (different angle than Schmitt):** Schmitt shows liberalism's theoretical incoherence. Deneen shows its practical destruction. Together they're comprehensive.

**What comes after?** Deneen is vague here — intentionally. He suggests "practices of community" but doesn't propose a new regime. This aligns with your phased approach: destabilize first, propose after.

### Serves: Economics (Category VII)

**The market question:** Deneen criticizes both free-market and progressive liberalism as complicit in atomization. This aligns with your List-oikonomia position: the market should serve community, not dissolve it.

**Against libertarianism:** If you were tempted by free-market conservatism, Deneen blocks that path. Markets liberated from community constraints destroy community.

### Serves: Lineage (Category III)

**The inheritance question:** Deneen insists we are heirs before we are choosers. Your lineage consciousness — 14 generations of Bedfords — is exactly what liberalism cannot accommodate. You didn't choose this identity; you were constituted by it.

---

## Key Passages

> "Liberalism has failed — not because it fell short, but because it was true to itself."

> "The autonomous individual is not a natural being but a product of a culture that relentlessly promotes autonomy."

> "Liberalism's success has led to its failure."

> "Every liberation from the old unchosen forms of life has been accompanied by new forms of unfreedom."

> "We have inherited a politics of despair, disguised as hope."

---

## Authority Status

**Potential peer, not just source.**

Deneen is Catholic, communitarian, anti-liberal, pro-tradition. His positions overlap substantially with your commitments. Unlike Evola or Guénon, there's no fundamental metaphysical tension.

**Differences:**
- Deneen is Catholic; you're investigating Orthodoxy
- Deneen is Midwestern; you're Virginia Cavalier
- Deneen offers no clear regime alternative; you might

**The peer question:** Is Deneen a potential contemporary peer? Similar commitments, similar method (genealogical critique), similar posture (critique without premature construction). Worth investigating beyond this text.

---

## Composition

**This source was captured for:**
- \`inst-credo-political\` (anti-liberalism, post-liberal)
- \`inst-credo-economics\` (market critique)
- \`idx-credo-source-pipeline\` (Tier 3 political philosophy)

**This source enables:**
- Grounding your post-liberal position in contemporary discourse
- Connecting the political critique to economic and social concerns
- Potentially identifying a living peer`,
  },
  {
    id: 'src-evola-ride-tiger',
    title: 'Ride the Tiger',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['metaphysics', 'traditionalism', 'evola', 'strategy', 'modernity', 'dissolution', 'differentiated-man'],
    content: `# Ride the Tiger

**Author:** Julius Evola
**Published:** 1961
**Category:** Metaphysics, Strategy for Dissolution

---

## Core Argument

Given that traditional civilization is irrecoverably lost and modernity is in terminal dissolution, what should the "differentiated man" — one who carries traditional values internally — do? Not reactionary restoration (impossible), not collaboration with dissolution (betrayal), but "riding the tiger": using the forces of dissolution themselves, remaining inwardly untouched while outwardly adapting.

The tiger cannot be fought; if you try, it will devour you. But if you mount it and ride, when it finally exhausts itself, you will still be there.

---

## Key Concepts

### The Differentiated Man
- Not the common man shaped by his environment
- One who has realized traditional values internally
- He carries a "different existential dimension"
- Not a type you become through reading but through transformation
- The question is: given that you are such a person, how do you live?

### The Impossibility of Restoration
- Traditional civilization requires a living tradition
- Ours is dead; no external forms can resurrect it
- Reactionary movements fail because they depend on what no longer exists
- "Throne and altar" is nostalgia, not strategy
- You cannot restore what has lost metaphysical support

### Riding the Tiger
- The tiger = the forces of dissolution
- Fighting directly is futile; you will be destroyed
- Fleeing is impossible; the tiger is everywhere
- The solution: mount and ride
- Use dissolution's forces while remaining inwardly free
- When the tiger exhausts itself, dismount

### Apoliteia
- Withdrawal from political investment
- Not passive but strategic
- Modern politics is theater; don't be captured by it
- Preserve your center; act when meaningful action is possible
- This is not quietism but discipline

### The Test of Nihilism
- Modern nihilism (Nietzsche) is dissolution's philosophical expression
- The differentiated man passes through nihilism, not around it
- He experiences the death of all external supports
- He finds in himself what tradition found in sacred forms
- This is dangerous but necessary

### Active vs. Passive Nihilism
- Passive: dissolution leads to despair, anomie, decay
- Active: dissolution is the opportunity for those who can stand alone
- The modern world selects for the strong
- Evola inverts the modern narrative: decline for the many is opportunity for the few

---

## Relation to Bedford Credo

### Serves: Metaphysics (Category I)

**The internal turn:** If traditional forms are dead, the differentiated man carries tradition internally. This resonates with your lineage consciousness — you carry Bedford heritage in yourself, not in external institutions.

**Hierarchy:** Even in dissolution, hierarchy persists. Not all are called or capable. Evola is unapologetically elitist.

### Serves: Philosophy of History (Category VIII)

**The Spenglerian question:** How do you live in civilizational winter? Evola's answer: you don't restore spring; you become one who can survive winter.

**Christian tension:** Christian hope says the cycle can be broken. Evola offers no hope beyond personal transcendence. Which do you hold?

### Serves: Political Philosophy (Category VI)

**Your strategic posture:** "Prudence in current conditions," "Phase 1: destabilize liberal premises from within" — this is compatible with apoliteia. You're not invested in the current political theater; you're waiting and preparing.

**The timing question:** When does apoliteia end? Evola is unclear. Your phased approach suggests you're not permanently withdrawn.

### Serves: Psychology (Category IV)

**The Warrior test:** "Ride the tiger" requires Warrior capacity. The Magician can understand Evola; the Warrior can apply him. Your 90/10 imbalance makes this relevant.

---

## Key Passages

> "One must transform every destructive act into one that is creative; this is the distinctive feature of the differentiated human being."

> "Where another sees the end, we can see a beginning."

> "The man we have in mind will not reject or avoid the experiences that arise from the most problematic and negative aspects of modern life... He will mount the tiger."

> "One does not find oneself in a world of ruins after a great catastrophe; rather, one lives in a world where the catastrophe is permanent and continuous."

---

## Authority Status

**Engaged, not adopted.**

Evola provides strategic vocabulary you use: differentiated man, apoliteia, riding the tiger. But his metaphysics — pagan, anti-Christian, aristocratic — creates deeper tension than Guénon.

**The Orthodox critique:** Evola explicitly rejected Christianity as "passive" and "democratic." Orthodoxy (especially Lossky and Schmemann) answers this: theosis is not passive; synergy is not quietism. The Orthodox differentiated man has what Evola sought without Evola's errors.

**The moral question:** Evola's biography (Fascism, racial theories) is troubling. Separate the strategic insights from the political applications. You can use "ride the tiger" without endorsing everything Evola endorsed.

**Your position:** You engage Evola as "live option" — taking seriously what can be taken, rejecting what must be rejected. The Christianity question sorts this.

---

## Composition

**This source was captured for:**
- \`inst-credo-metaphysics\` (the internal turn, hierarchy)
- \`inst-credo-history\` (strategy in dissolution)
- \`idx-credo-source-pipeline\` (Tier 2 metaphysical source)

**This source enables:**
- Grounding your strategic posture (phased approach, waiting)
- Forcing the Christianity vs. Evola question
- Connecting the Magician-Warrior imbalance to spiritual strategy`,
  },
  {
    id: 'src-graeber-debt',
    title: 'Debt: The First 5000 Years',
    type: 'source',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['graeber', 'debt', 'money', 'anthropology', 'credit', 'primordial-debt', 'human-economies'],
    content: `# Debt: The First 5000 Years

**Author:** David Graeber
**Year:** 2011
**Type:** Book (anthropology/economic history)

---

## Summary

Graeber's central argument: the "myth of barter" — that money arose from barter — is historically false. In reality, **credit came first**. Primitive economies ran on debt, obligation, and trust long before coins existed. The standard economic textbook story (barter → money → credit) is exactly backwards; the actual history is (credit → coins → barter emerges only when credit systems break down).

This matters because it reveals that debt is not a neutral financial instrument but a **social relationship** — one that has historically been tied to violence, slavery, and moral transformation. The book traces how debt has been understood across civilizations and eras, showing that our current view (debt as mere financial obligation) is historically peculiar and morally impoverished.

Graeber connects debt to fundamental questions about obligation, morality, and human relationship. The German *Schuld* (debt/guilt) is not an accident — it reflects something true about how debt has functioned in human societies.

---

## Key Claims

1. **The myth of barter:** Economists assume money arose to solve barter's inefficiencies. But there's no anthropological evidence of barter economies. Barter appears between strangers, or when monetary systems collapse. Within communities: credit.

2. **Credit preceded coin:** Ancient economies ran on credit, tallies, and obligation. Coins came later, often connected to military operations (paying soldiers, extracting tribute).

3. **Debt creates social hierarchy:** Unlike exchange (which ends the relationship), debt creates ongoing relationship. The debtor is in the creditor's power. Debt is a technique of subordination.

4. **Primordial debt theory critique:** States often claim we owe an unpayable debt (to gods, ancestors, society). This legitimates state extraction. Graeber is skeptical — this "debt" is really just power claiming moral authority.

5. **Human economies vs. commercial economies:** In human economies, debts cannot be fully repaid because people are unique. You can't quantify a person. Commercial economies arise when violence (slavery, conquest) forces quantification of the unquantifiable.

6. **Alternating ages of virtual and physical money:** History shows oscillation: ages of virtual credit money (ancient, medieval) alternate with ages of bullion (Axial Age, modern era). We're now in a new age of virtual money (post-1971).

---

## Vocabulary

| Term | Definition | Significance |
|------|------------|--------------|
| **Myth of barter** | The false origin story that money arose from barter | Denaturalizes current money/credit system |
| **Primordial debt** | Supposed debt to gods/ancestors/state that can never be repaid | Legitimation technique for extraction |
| **Human economies** | Economies where persons cannot be reduced to commodities | The older, more common form |
| **Commercial economies** | Economies where persons can be bought/sold (slavery enables this) | Arise through violence |
| **Virtual money** | Credit, tallies, ledgers — money as social relation | The original form; returning now |
| **Bullion money** | Coins, precious metal — money as thing | Emerges in militarized periods |
| **Baseline communism** | The expectation that people help each other in need | Foundation of all societies |
| **Debt peonage** | Permanent servitude through unpayable debt | How debt becomes slavery |

---

## Quotable Passages

> "For a very long time, the intellectual consensus has been that we can no longer ask Great Questions... This book is an attempt to begin asking them again."

Sets up the ambition of the project.

> "The very principle of exchange emerged largely as an effect of violence."

Exchange isn't natural — it emerges when social relations break down.

> "The difference between a debt and an obligation is that a debt can be precisely quantified. Quantification requires violence."

Why debt (quantified obligation) is different from mere social debt.

> "If history shows anything, it is that there's no better way to justify relations founded on violence, to make such relations seem moral, than by reframing them in the language of debt."

Debt as moral technology of domination.

---

## Connections

### Frameworks This Informs

- **Oikonomia vs Chrematistics** — Graeber's "human economies" are oikonomic (bounded by personhood). Commercial economies that quantify persons are chrematistic.
- **Etymon Method** — His treatment of *Schuld* (debt/guilt) is a philological excavation.

### Instances This Unlocks

- **CREDIT** — Provides the genealogy of credit-as-social-relation that credit excavation needs
- **DEBT** — Central text; the Schuld/guilt connection is documented here
- **INTEREST** — Usury debates across civilizations; why interest was seen as immoral
- **ACCOUNT** — Accounting as quantification technology that enables commercial economy

### Related Sources

- **Polanyi, *Great Transformation*** — Complementary; Polanyi on embedding, Graeber on debt/credit specifically
- **Nietzsche, *Genealogy of Morality*** — Graeber engages with Nietzsche's debt-guilt thesis
- **Marx, *Capital*** — Different approach to same questions about commodification

---

## Reading Notes

### Part One: On the Experience of Moral Confusion

Opens with the question: "Why do we feel obligated to pay debts?" The moral force of debt is strange — why do we assume debtors should suffer?

The encounter with the activist who asked "but surely one has to pay one's debts" sparked the book. Graeber: actually, throughout history, debt jubilees and cancellations were normal. The absolute obligation to pay is recent.

### Part Two: The Myth of Barter

Demolishes the textbook story. Adam Smith's parable of barter among hunters is fiction. Anthropologists have never found a barter economy. What they find: credit, gift, redistribution.

Credit came first. Village economies ran on tabs, obligations, trust. Coins came later — often for paying soldiers or extracting tribute from conquered peoples.

### Part Three-Four: Primordial Debts and Cruelty

Examines debt theology — the idea of cosmic debt to gods. Critique: this is power pretending to be morality. States that claim we owe them an unpayable debt are just legitimating extraction.

The Axial Age (800-200 BCE): coincides with coinage, military expansion, slavery. The emergence of commercial economy happened through violence, not organic development.

### Part Five-Eight: Ages of Virtual and Bullion Money

Historical sweep: alternation between credit ages (more peaceful, less slavery) and bullion ages (more violent, more slavery). Currently: new age of virtual money post-1971 (end of gold standard). What will this mean?

### Part Nine-Twelve: The Implications

Medieval period: constraints on usury, moral limits on debt. Early modern: these constraints collapse.

Current era: we've created unprecedented levels of debt — personal, national, global. Graeber asks whether debt cancellation (like ancient jubilees) might be necessary.

---

## Status

**Current:** incubating

**To verify:**
- [x] Key claims extracted
- [x] Vocabulary documented
- [x] Connections mapped
- [ ] Full reading notes (need section-by-section detail)
- [ ] Quotations with page numbers

---

## For Excavations

Graeber's contributions to economic genealogy:

1. **Debt/guilt connection** — The German *Schuld* as evidence that debt WAS guilt
2. **Credit as social relation** — Before it was score, it was trust
3. **Quantification as violence** — Why "just a number" is never neutral
4. **Alternating ages** — Context for current financial arrangements

His method: take the anthropological long view. What seems natural (money from barter, debt as neutral) is actually recent and contingent.`,
  },
  {
    id: 'src-guenon-crisis-modern-world',
    title: 'The Crisis of the Modern World',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['metaphysics', 'traditionalism', 'modernity', 'guenon', 'critique', 'hierarchy', 'sacred'],
    content: `# The Crisis of the Modern World

**Author:** René Guénon
**Published:** 1927
**Category:** Metaphysics, Critique of Modernity

---

## Core Argument

The modern world represents a deviation from traditional civilization, not an improvement. Every traditional culture — Hindu, Chinese, Islamic, Medieval Christian — shared a common metaphysical orientation: the primacy of the sacred, hierarchy as natural order, and contemplation as the highest human activity. Modernity inverted all of these.

The "progress" of modern civilization is actually a descent — from quality to quantity, from being to becoming, from contemplation to action, from the sacred to the profane. This is not merely cultural decline but metaphysical catastrophe.

---

## Key Concepts

### Traditional Civilization
- All traditional societies share a common metaphysical core
- This is not "religion" in the modern sense but the ordering of all life toward transcendent reality
- Hierarchy is natural: priestly, warrior, merchant, artisan castes reflect metaphysical order
- Knowledge is sacred; craft is sacred; all is oriented upward

### The Modern Deviation
- Modernity begins with the dissolution of Medieval Christendom
- Renaissance, Reformation, Enlightenment: progressive severance from tradition
- Each step appears as liberation but is actually loss
- The "individual" replaces the person embedded in order
- "Reason" replaces intellect (intellect = direct metaphysical perception)

### Quantity Over Quality
- Traditional civilization valued quality, essence, meaning
- Modern civilization values quantity, measurement, efficiency
- Science as "knowledge" reduces reality to what can be measured
- The immeasurable (the sacred, the beautiful, the true) becomes invisible

### The Reign of the Merchant
- Traditional hierarchy: priest > warrior > merchant > artisan
- Modern inversion: merchant values dominate all
- Economics becomes the master discipline
- Everything becomes commodity; all relations become transaction
- This is not a political critique but a metaphysical diagnosis

### Action Over Contemplation
- Traditional civilization: contemplation is highest; action is lower
- Modern civilization: action is the only reality; contemplation is "unproductive"
- "Pragmatism" as the philosophy of decline
- Even modern "spirituality" is active, productive, busy

### Individualism and Its Consequences
- Traditional person: defined by place in order (family, caste, tradition)
- Modern individual: defined by separation from all order
- This is experienced as freedom but is actually exile
- "Rights" replace duties; contract replaces organic relation

---

## Relation to Bedford Credo

### Serves: Metaphysics (Category I)

**Hierarchy as real:** Guénon provides the metaphysical grounding for your intuition that hierarchy is natural. Not political preference but ontological structure. Reality is hierarchical; egalitarianism is a lie about the nature of things.

**Traditionalism as lens:** This is the critique of modernity that runs beneath your surface positions. The oikonomia/chrematistics distinction is an economic expression of Guénon's quality/quantity distinction.

### Serves: Philosophy of History (Category VIII)

**The Kali Yuga:** Guénon locates modernity in the Hindu concept of cyclic decline — we are in the dark age, the age of dissolution. This is not pessimism but diagnosis.

**The tension:** How does this relate to Christian hope? Guénon was not Christian (he converted to Islam). The cyclic view sits uneasily with Christian eschatology. You engage both; this tension needs resolution.

### Serves: Political Philosophy (Category VI)

**Against liberalism:** Liberalism is not one political option among many but the political expression of metaphysical error. Individualism, rights, contract — all follow from the modern deviation.

**The question of restoration:** Can traditional civilization be restored, or is decline irreversible? Guénon is ambiguous. "Ride the Tiger" (Evola's response) is one answer. Christian hope is another.

---

## Key Passages

> "The modern world will appear as a negation of all traditional truths... its features will be exactly the opposite of those which characterized traditional civilizations."

> "The confusion of knowledge with that of a purely practical and quantitative order, is what constitutes 'Western science.'"

> "The substitution of the economic for the political... is but one more stage in the decline of modern civilization."

> "Modern individualism... the negation of any principle superior to the individual."

---

## Authority Status

**Engaged, not adopted.**

Guénon provides the critique of modernity you find compelling. But his metaphysics — perennialist, non-Christian, Islamic — creates tension with your Christian confession. You can use Guénon's diagnosis without adopting his entire metaphysic.

**The Christian question:** Is Guénon's perennialism compatible with Christian particularity? Lossky says no. You cannot confess Christ as unique Incarnation *and* hold all traditions as equal expressions of one sophia perennis.

**The tension you carry:** You engage Traditionalism seriously while confessing Christ. This is not resolved. Guénon forces the question.

---

## Composition

**This source was captured for:**
- \`inst-credo-metaphysics\` (hierarchy, quality over quantity)
- \`inst-credo-history\` (Kali Yuga, cyclic decline)
- \`idx-credo-source-pipeline\` (Tier 2 metaphysical source)

**This source enables:**
- Grounding the Traditionalist critique you already use
- Forcing the perennialism vs. Christianity question
- Diagnosing modernity as metaphysical error, not mere politics`,
  },
  {
    id: 'src-hamilton-report-manufactures',
    title: 'Report on the Subject of Manufactures',
    type: 'source',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: [],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['hamilton', 'american-system', 'infant-industry', 'tariffs', 'manufactures', 'developmental', 'founding'],
    content: `# Report on the Subject of Manufactures

**Author:** Alexander Hamilton (1755/57–1804)
**Year:** 1791 (December 5)
**Type:** Government report (third of Hamilton's four major reports as Treasury Secretary)
**Context:** Submitted to Congress at request of House of Representatives

---

## Summary

Hamilton's central argument: The United States must develop manufacturing capacity to achieve true independence from Britain. Agriculture alone cannot secure national prosperity or security. Manufacturing requires active government support because established foreign competitors have insurmountable advantages over new domestic industries.

This matters because it is the **origin of the American System** — the developmental nationalist tradition that would be carried forward by Henry Clay, Abraham Lincoln, and the Republican Party. Friedrich List learned from American practice during his time in the US (1825-1832) and systematized what Hamilton had already implemented.

Hamilton's Report is developmental economics before the term existed — the argument that national industrial capacity must be deliberately built through policy, not left to market forces that favor already-industrialized competitors.

---

## Key Claims

1. **Manufacturing is necessary for independence:** "Not only the wealth, but the independence and security of a Country, appear to be materially connected with the prosperity of manufactures." Reliance on foreign manufactures leaves the nation vulnerable.

2. **Agriculture alone is insufficient:** The Physiocratic doctrine that only agriculture is productive is "rather subtil and paradoxical, than solid or convincing." Manufacturing creates value; the division of labor increases productivity.

3. **Manufacturing and agriculture are complementary:** "The aggregate prosperity of manufactures, and the aggregate prosperity of agriculture are intimately connected." Manufacturing creates demand for agricultural products. Regional specialization strengthens the union.

4. **Infant industry argument:** Established foreign industries have insurmountable advantages — skill, capital, reputation. "To maintain competition between recent establishments of one country and long-matured establishments of another country upon equal terms, both as to quality and price, is in most cases impracticable." New industries need temporary protection.

5. **Labor is not scarce but misallocated:** Manufacturing would employ women, children, and immigrants not currently in the agricultural workforce. "It is worthy of particular remark, that, in general, women and children are rendered more useful... by manufacturing establishments, than they would otherwise be."

6. **Machines compensate for labor scarcity:** "The substitution of machines for human labour" addresses the supposed labor shortage. Technology enables development.

7. **Government must act:** Private capital will not naturally flow to manufacturing because returns are uncertain and foreign competition is fierce. Bounties (subsidies) and protective duties are necessary to establish industries.

---

## Policy Proposals

Hamilton proposed eleven specific measures:

| Measure | Purpose |
|---------|---------|
| **Protective duties (tariffs)** | Shield infant industries from foreign competition |
| **Prohibitions on competing imports** | Stronger protection for critical industries |
| **Prohibitions on export of raw materials** | Keep inputs available for domestic manufacture |
| **Bounties (subsidies)** | Direct government support for new manufactures |
| **Premiums (prizes)** | Rewards for achievement in manufacturing |
| **Exemption of materials from duty** | Reduce costs for manufacturers |
| **Drawbacks (rebates)** | Refund duties on imported materials used in exports |
| **Encouragement of inventions** | Patent protection and rewards for innovation |
| **Inspection regulations** | Quality standards to build reputation |
| **Facilitating remittances and transportation** | Internal improvements and financial infrastructure |
| **A Bank of the United States** | Provide capital for manufacturing ventures |

**Hamilton's nuance on tariffs:** He actually preferred bounties (subsidies) to high tariffs. Bounties encourage manufacturing without raising consumer prices. Tariffs can create scarcity and hurt consumers. But political reality often made tariffs more feasible.

---

## Industries Identified

Hamilton identified specific industries for development:

| Industry | Rationale |
|----------|-----------|
| **Iron and steel** | Foundation for tools, machines, weapons |
| **Copper** | Essential metal |
| **Lead** | Multiple uses |
| **Fossil coal** | Energy independence |
| **Wood** | Abundant domestic resource |
| **Skins** | Leather goods |
| **Grain** | Processing domestic agriculture |
| **Flax and hemp** | Rope, canvas, textiles |
| **Cotton** | Textiles (prophetic — cotton would dominate) |
| **Wool** | Textiles |
| **Silk** | Luxury textiles |
| **Glass** | Manufactures |
| **Gunpowder** | National security |
| **Paper** | Essential for commerce and culture |
| **Printed books** | Independence of mind |
| **Refined sugars** | Processing imported raw materials |

---

## Vocabulary

| Term | Definition | Significance |
|------|------------|--------------|
| **Bounty** | Government subsidy to producers | Hamilton's preferred tool — supports without raising prices |
| **Protecting duty** | Tariff to shield domestic industry | The infant industry mechanism |
| **Drawback** | Refund of import duties on re-exported goods | Supports manufacturing for export |
| **Infant industry** | New domestic industry not yet competitive | The core concept — needs protection to mature |
| **Internal improvements** | Transportation and infrastructure | Enables national market |
| **Division of labor** | Specialization increasing productivity | Why manufacturing is productive |

---

## Response to Objections

Hamilton addressed the main arguments against his proposals:

### "Agriculture is the only productive labor"

Hamilton rejected the Physiocratic doctrine. Manufacturing creates value through transformation. The division of labor multiplies productivity. "It is not certain that [agriculture] would not, in a Society where there was a full employment for every person...add much more to the Revenue of the Society, than it is commonly computed."

### "Manufacturing hurts agriculture"

The opposite is true. "Mutual wants constitute one of the strongest links of political connection." Manufacturing creates demand for agricultural products. The regions become interdependent.

### "Labor is too scarce and expensive"

Manufacturing employs those not in agriculture — women, children, immigrants. Machines compensate for labor scarcity. The problem is not lack of labor but lack of manufacturing employment.

### "Capital will not flow to manufacturing"

This is precisely why government must act. Private capital seeks safe returns. Manufacturing is risky against established foreign competition. Government support makes investment rational.

---

## Historical Outcome

| Event | Year | Significance |
|-------|------|--------------|
| Report submitted | 1791 | Congress rejects most proposals due to Jeffersonian opposition |
| Gradual adoption | 1790s-1810s | Tariffs slowly increased; some bounties enacted |
| War of 1812 | 1812-1815 | British blockade proves Hamilton right — dependence is dangerous |
| Tariff of 1816 | 1816 | First explicitly protective tariff; manufacturing surge |
| Henry Clay's American System | 1820s | Systematizes Hamilton's vision — tariffs, bank, internal improvements |
| Lincoln and Republicans | 1860s | Full implementation; rapid industrialization |
| 20th century | — | US becomes world's largest industrial power |

**The vindication:** Nearly all of Hamilton's recommendations were eventually adopted. The US industrialized behind tariff walls, then (like Britain before) preached free trade from a position of dominance.

---

## Connections

### Frameworks This Informs

- **Oikonomia vs Chrematistics** — Hamilton's vision is oikonomic: the nation is the household; manufacturing serves national flourishing, not unlimited accumulation. Independence and security, not just wealth.
- **Political Economy Analysis** (proposed) — Hamilton provides the American origin of developmental/extractive criterion.

### Sources This Informs

- **List, *National System*** — List visited America 1825-1832 and saw Hamilton's system in practice. He theorized what Hamilton had done. List explicitly cites American policy as his model.

### Instances This Unlocks

- **American System** — Clay's explicit development of Hamilton's program
- **CAPITAL** — Hamilton's "capital" is productive capacity (factories, skills, infrastructure), not financial assets
- **INTEREST** — Hamilton's Bank as instrument of national development, not private accumulation

### Related Sources

- **List, *National System of Political Economy* (1841)** — The theoretical systematization of Hamiltonian practice
- **Clay, American System speeches** — Policy implementation
- **Lincoln, economic addresses** — Republican adoption

---

## Relation to Commitments

From \`idx-user-commitments\`:

| Commitment | How Hamilton Supports |
|------------|----------------------|
| American System tradition (Hamilton, Clay, Lincoln) | **Origin source** — Hamilton founded it |
| Friedrich List / developmental nationalism | List learned from Hamilton; theorized American practice |
| Protection of infant industries | Hamilton's central policy argument |
| Productive capacity over free trade abstraction | Hamilton: manufacturing capacity is independence |
| Skepticism of financialization | Hamilton's Bank serves industry, not speculation |
| Oikonomia vs chrematistics | National flourishing and security, not unlimited accumulation |

---

## The Hamilton-List Connection

| Hamilton (1791) | List (1841) | Relationship |
|-----------------|-------------|--------------|
| Infant industry argument | Infant industry argument | Same concept; List learned from American practice |
| Bounties and tariffs | Protection during industrialization | Same policy tools |
| Manufacturing vs agriculture | Productive powers vs exchange values | Same insight about manufacturing's special role |
| National independence | National system | Same frame — the nation as unit |
| Practical policy | Theoretical system | Hamilton did it; List explained why it works |

List spent seven years in America (1825-1832) and saw the American System operating. He wrote: "I perceived that the theory was not in line with practice." His *National System* is the theory of what Hamilton practiced.

---

## Quotable Passages

> "Not only the wealth, but the independence and security of a Country, appear to be materially connected with the prosperity of manufactures."

Manufacturing is not just economic but strategic.

> "To maintain competition between recent establishments of one country and long-matured establishments of another country upon equal terms, both as to quality and price, is in most cases impracticable."

The infant industry argument — why free trade hurts developing nations.

> "The aggregate prosperity of manufactures, and the aggregate prosperity of agriculture are intimately connected."

Manufacturing and agriculture complement, not compete.

> "It is worthy of particular remark, that, in general, women and children are rendered more useful... by manufacturing establishments, than they would otherwise be."

Manufacturing creates employment for those outside agriculture.

---

## Status

**Current:** incubating

**To verify:**
- [x] Key claims extracted
- [x] Vocabulary documented
- [x] Connections mapped
- [ ] Full reading of primary source (Founders Online edition)
- [ ] Quotations with specific citations
- [ ] Cross-reference with Clay's speeches

---

## Sources

- [Gilder Lehrman Institute - Hamilton's Report](https://www.gilderlehrman.org/history-resources/spotlight-primary-source/hamiltons-report-subject-manufactures-1791)
- [Digital History - Hamilton's Report](https://www.digitalhistory.uh.edu/disp_textbook.cfm?smtID=3&psid=265)
- [Founders Online - Full Text](https://founders.archives.gov/documents/Hamilton/01-10-02-0001-0007)
- [AEA - Hamilton and Industrial Policy](https://www.aeaweb.org/articles?id=10.1257/jep.38.4.111)`,
  },
  {
    id: 'src-hopko-orthodox-faith',
    title: 'The Orthodox Faith (Volume IV: Spirituality)',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['eschatology', 'orthodoxy', 'hopko', 'death', 'resurrection', 'judgment', 'heaven', 'hell', 'new-creation'],
    content: `# The Orthodox Faith (Volume IV: Spirituality)

**Author:** Fr. Thomas Hopko
**Published:** 1976
**Category:** Eschatology, Orthodox Spirituality

---

## Core Argument

Orthodox Christianity confesses a concrete eschatology: the resurrection of the body, the Last Judgment, and the transfiguration of all creation. This is not metaphor or symbol but dogma — what the Church believes will actually happen.

Death is not natural to man but the result of sin. Christ's resurrection is the first fruits of universal resurrection. The end is not escape from creation but its restoration and glorification.

---

## Key Concepts

### Death and Resurrection

**Death:**
- Not natural but the result of sin
- Separation of soul and body
- The soul continues in conscious existence
- Prayers for the dead are appropriate — the departed are helped by the Church's prayers

**Resurrection:**
- The body will be raised, transformed, glorified
- Not a new body but this body, transfigured
- Christ's resurrection is the model: bodily, recognizable, yet transformed
- All will be raised — righteous and unrighteous

### The Second Coming

**Christ will return:**
- Personally, visibly, in glory
- To judge the living and the dead
- The timing is unknown — always be ready
- This is literal, not merely spiritual or metaphorical

**Signs:**
- Tribulation, apostasy, false prophets
- The Antichrist will come
- The Church will endure to the end

### The Last Judgment

**Universal judgment:**
- All will give account
- Christ is the judge
- The criteria: what we did with what we were given
- Mercy is real, but so is justice

**Individual judgment:**
- At death, each soul experiences a "particular judgment"
- This determines the soul's state until the general resurrection
- Not final — the Last Judgment confirms or transforms

### Heaven and Hell

**Heaven:**
- Not a place in space but a state of being
- Union with God — theosis completed
- The goal of human existence
- Not boring — infinite exploration of the infinite God

**Hell:**
- Also not a place but a state
- Rejection of God, experienced as torment
- Orthodox theology is agnostic about universalism — we hope for all but affirm the possibility of final loss
- The "fire" of hell is the same love of God that is heaven — experienced differently

### The New Creation

**Not destruction but transfiguration:**
- Heaven and earth will be made new
- Matter is not evil; it will be glorified
- The resurrection body lives in a resurrected cosmos
- This is completion of the Incarnation — God fully present in creation

---

## Relation to Bedford Credo

### Serves: Eschatology (Category IX)

**Articulating the implicit:** Your credo notes that eschatology is "implicit from Christ confession" but not yet articulated. Hopko provides the Orthodox articulation.

**The four last things:**
1. Death — real, the result of sin, overcome by Christ
2. Judgment — universal, just, merciful
3. Heaven — union with God, theosis
4. Hell — separation from God, torment

**The resurrection of the body:** Not soul-escape but bodily restoration. This grounds your rejection of Gnosticism and matter-hatred.

### Serves: Philosophy of History (Category VIII)

**Against Spengler and the Traditionalists:** The cycle can be broken. History moves toward the New Creation. Civilizations decline, but God's purposes advance.

**Löwith answered:** If Christian eschatology is true, history does have meaning — not from human progress but from divine consummation. The structure of hope is warranted because God guarantees the end.

**The tension resolved:** Spengler sees only the cycle. Traditionalists see descent (Kali Yuga). Orthodox eschatology sees *through* these to the Resurrection. Both decline and hope are true — at different levels.

### Serves: Theology (Category II)

**The end reveals the beginning:** What happens at the End shows what creation is for. If the End is theosis — humanity fully divinized in bodily resurrection — then that's what man was made for.

**Christ's uniqueness:** The resurrection of Christ is unique and unrepeatable. The general resurrection depends on his. There is no other path to the New Creation.

---

## Key Passages

> "The resurrection of the body is a central doctrine of the Christian faith. It is not a resurrection of souls but of bodies."

> "Heaven is not a place up in the sky. It is the state of those who are with God... Hell is the state of those who have rejected God."

> "The same divine fire which will burn the wicked will shine upon the righteous... The difference is not in the fire but in those who experience it."

> "The kingdom of God is not merely future. It is already present, though hidden."

> "The end of all things is their beginning — a new heaven and a new earth."

---

## Authority Status

**Orthodox catechetical authority.**

Fr. Thomas Hopko (1939-2015) was dean of St. Vladimir's Orthodox Theological Seminary and a major American Orthodox teacher. His four-volume *The Orthodox Faith* is a standard catechetical text.

**Accessibility:** Hopko writes clearly for laypeople. This is not academic theology but catechesis — teaching what the Church believes.

**Completeness:** This source covers eschatology as confessed in Orthodoxy. For deeper treatment, see Florovsky or Bulgakov, but Hopko provides the essential content.

---

## Composition

**This source was captured for:**
- \`inst-credo-eschatology\` (the End, resurrection, judgment, heaven, hell)
- \`inst-credo-history\` (Spengler vs. Christian hope)
- \`idx-credo-source-pipeline\` (Eschatology gap)

**This source enables:**
- Articulating what you believe about the End
- Grounding hope in Orthodox dogma rather than sentiment
- Resolving the Spengler/Löwith tension through eschatology`,
  },
  {
    id: 'src-ilyin-resistance-evil',
    title: 'On Resistance to Evil by Force',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['ethics', 'political-theology', 'ilyin', 'evil', 'force', 'sin', 'grace', 'action'],
    content: `# On Resistance to Evil by Force

**Author:** Ivan Ilyin
**Published:** 1925
**Category:** Ethics, Political Theology

---

## Core Argument

The question is not whether Christians may use force — that is already answered by history and necessity. The question is how to use force without moral self-destruction, and how to bear the spiritual burden of necessary violence.

Tolstoyan non-resistance is not merely impractical but spiritually irresponsible. It refuses to bear the moral weight of the world. True Christian ethics demands action even when action involves sin — and then confession, repentance, and grace.

---

## Key Concepts

### The False Dilemma
- Tolstoy poses: either absolute non-resistance or hypocrisy
- Ilyin rejects this: the alternatives are not purity and sin
- The real choice: bear sin responsibly or abandon the world to evil
- Inaction is not purity — it is abdication

### The Tragedy of Action
- All action in a fallen world involves compromise with evil
- To govern is to make impossible choices
- To defend the innocent may require harming the aggressor
- The statesman cannot have clean hands
- This is not justification of evil but acknowledgment of tragedy

### The Spiritual Solution
- Act in good conscience toward the good
- Bear the sin consciously — do not deny or rationalize
- Confess, repent, receive grace
- Act again
- This is not license but discipline

### The Sword-Bearer
- The one who wields force bears a spiritual burden
- He must not enjoy it, must not harden
- He must preserve his own soul while doing necessary things
- The warrior needs spiritual discipline more, not less, than the monk

### Against Tolstoyanism
- Tolstoy's non-resistance is aristocratic luxury
- It requires someone else to do the dirty work
- It abandons the weak to predators
- It is spiritual pride disguised as humility
- Real holiness faces the world's evil and acts

---

## Relation to Bedford Credo

### Serves: Ethics (Category V)

**The core principle you quote:**
> "I would rather bear my sin to act in good intention than to not act in fear that I am in violation of the sacred."

This is pure Ilyin. The position that action is preferable to paralysis, that stewardship requires deployment, that inaction is also sin — all come from or resonate with this text.

**Red lines question:** Ilyin does not say all force is justified. The question remains: what are the limits? Where does "bearing sin" become "rationalizing evil"? This is the tension you need to resolve in \`inst-credo-ethics\`.

### Serves: Political Philosophy (Category VI)

**The statesman's burden:** Those who govern bear sins that private persons avoid. This is not corruption but the nature of the office. Political theology must account for this.

**Against liberal universalism:** Liberal ethics assumes clean hands are possible. Ilyin (like Schmitt, like Weber) insists they are not. The choice is not between good and evil but between forms of responsibility.

### Serves: Anthropology (Category III)

**The Warrior archetype:** Ilyin provides theological grounding for the Warrior. The warrior is not morally inferior to the contemplative — he bears a different burden. This addresses the Magician-Warrior imbalance from a spiritual angle.

---

## Key Passages

> "He who refuses to resist evil by force arrives not at 'non-participation in evil' but at complicity in the universal victory of evil."

> "The struggle with evil is a spiritual struggle first of all; but it may demand the use of physical force."

> "The one who wields the sword for the sake of righteousness must bear the spiritual burden of his deed... He must never harden, never become cruel, never lose sight of the higher purpose."

> "To kill the murderer in the act of murder is not murder; it is defense of the innocent. But it is still killing, and the one who kills must know what he has done."

---

## Authority Status

**Adopted authority.**

You quote Ilyin's principle as if it were your own. This source document captures the text behind the principle. Ilyin is not "interesting" or "engaged" — he provides the ethical frame you already operate within.

**Controversial context:** Ilyin is associated with contemporary Russian politics. This is irrelevant to the philosophical content. Evaluate the argument on its merits.

**The Orthodox answer:** Ilyin was Orthodox. His ethics presupposes Orthodox sacramental life — confession and absolution make the cycle of action-sin-grace-action possible. This connects to the ecclesiology question.

---

## Composition

**This source was captured for:**
- \`inst-credo-ethics\` (the principle you quote, red lines question)
- \`inst-credo-political\` (statesman's burden)
- \`idx-credo-source-pipeline\` (Tier 1 blocking source)

**This source enables:**
- Grounding the ethical position you already hold
- Connecting ethics to ecclesiology (confession as necessary complement)
- Addressing the Warrior question spiritually`,
  },
  {
    id: 'src-list-national-system',
    title: 'The National System of Political Economy',
    type: 'source',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: [],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['list', 'developmental', 'infant-industry', 'protection', 'nationalism', 'productive-powers', 'american-system'],
    content: `# The National System of Political Economy

**Author:** Friedrich List (1789–1846)
**Year:** 1841
**Type:** Book (political economy)
**Language:** German (original), English translation 1885

---

## Summary

List's central argument: Adam Smith's "cosmopolitan economics" is a theory made by and for already-industrialized nations. It treats all economic activity as equivalent, ignoring the developmental difference between manufacturing and agriculture. A nation that follows Smith's advice to specialize in what it currently does best — if that is agriculture — will remain permanently underdeveloped. Industrialization requires temporary protection.

This matters because it provides the theoretical foundation for **developmental nationalism** — the position that national productive capacity, not free trade, is the basis of wealth and power. List's framework directly informs the American System (Hamilton, Clay, Lincoln) and later developmental states (Germany, Japan, South Korea, Taiwan).

List's critique of Smith is not that free trade is always wrong, but that it is wrong *at the wrong stage*. Free trade between equals benefits both; free trade between an industrial power and an agricultural nation destroys the latter's potential.

---

## Key Claims

1. **The cosmopolitan fallacy:** Smith's economics is "cosmopolitan" — it treats the world as one market and asks what maximizes total utility. But nations exist. A nation that maximizes short-term consumer utility by importing cheap manufactures destroys its long-term productive capacity.

2. **Productive powers vs. exchange values:** Smith focuses on exchange values (prices, trade). List focuses on **productive powers** — the capacity to produce, which includes manufacturing skill, technology, institutions, culture, and infrastructure. These compound over time; exchange values do not.

3. **Stages of development:** Nations pass through stages — savage, pastoral, agricultural, agricultural-manufacturing, agricultural-manufacturing-commercial. Policy appropriate to one stage is disastrous at another. Protection is appropriate during industrialization; free trade is appropriate only between industrial equals.

4. **Infant industry argument:** New industries cannot compete with established foreign industries. They lack scale, skill, and capital. Without temporary protection (tariffs), they die in infancy. Once mature, protection can be removed.

5. **Kicking away the ladder:** Britain industrialized behind high tariffs and government support, then preached free trade to keep other nations agricultural. "It is a very common clever device that when anyone has attained the summit of greatness, he kicks away the ladder by which he has climbed up."

6. **The nation as unit:** Smith's individual and cosmopolitan frames miss the nation. An individual may prosper from activities that harm the nation (importing cheap goods, exporting raw materials). The nation must foster the welfare of all citizens across generations.

7. **Manufacturing as privileged sector:** Not all economic activity is equal. Manufacturing creates positive externalities — skill development, technological spillovers, urbanization, institutional complexity — that agriculture does not. Specializing in agriculture locks you into poverty.

---

## Vocabulary

| Term | Definition | Significance |
|------|------------|--------------|
| **Cosmopolitan economics** | Smith's framework treating world as one market | What List opposes — ignores national development |
| **National system** | Economics from the perspective of national development | List's alternative framework |
| **Productive powers** | Capacity to produce (skills, technology, institutions) | Compounds over time, unlike exchange values |
| **Exchange values** | Market prices, trade balances | Smith's focus; List says this is superficial |
| **Infant industry** | New manufacturing sector not yet competitive | Requires protection to survive |
| **Kicking away the ladder** | Developed nations preaching free trade after using protection | Hypocrisy of British free-trade advocacy |
| **Stages of development** | Progression from savage to commercial nation | Policy must match stage |

---

## The Stages Theory

| Stage | Character | Appropriate Policy |
|-------|-----------|-------------------|
| **Undeveloped** | Subsistence, no trade | Open to all trade to acquire goods |
| **Agrarian** | Cash crop agriculture, exports raw materials | Free trade can work, but risk of lock-in |
| **Industrializing** | Building manufacturing capacity | **Protection required** — infant industries |
| **Industrial** | Mature manufacturing, competitive globally | Free trade with equals; protection from below |

**The critical transition:** Agrarian → Industrializing. This is where nations get stuck. Free trade at this stage imports manufactures, exports raw materials, and prevents manufacturing from developing. Protection breaks the trap.

---

## Quotable Passages

> "It is a very common clever device that when anyone has attained the summit of greatness, he kicks away the ladder by which he has climbed up, in order to deprive others of the means of climbing up after him."

The "kicking away the ladder" metaphor — Britain's free-trade hypocrisy.

> "The power of producing wealth is therefore infinitely more important than wealth itself."

Productive powers over exchange values. Capacity compounds; goods do not.

> "Between two nations which are on an equal footing in the development of manufactures, free trade is mutually beneficial."

The condition for free trade — equality of development. Otherwise it's predatory.

> "In opposition to this [cosmopolitan] school there has arisen... the national school, which sees in the nation, in national independence, and in national interests, the conditions and motives of all industrial progress."

Self-description of his project.

---

## Connections

### Frameworks This Informs

- **Oikonomia vs Chrematistics** — List's "productive powers" is oikonomic (bounded by national development). Smith's "exchange values" is chrematistic (unbounded accumulation). The nation is List's *oikos*.
- **Political Economy Analysis** (proposed) — List provides the developmental/extractive diagnostic criterion.

### Instances This Unlocks

- **American System** — Hamilton, Clay, Lincoln implemented Listian policy before List. He learned from them in America (1825-1832).
- **CAPITAL** — Capital in List's sense is productive capacity (factories, skills), not financial assets. Connects to CAPITAL excavation.
- **WEALTH** — List's view aligns with wealth-as-wela (well-being), not wealth-as-assets.

### Related Sources

- **Hamilton, *Report on Manufactures* (1791)** — American System origin; List cites it. Hamilton argued for protective tariffs before List theorized them.
- **Polanyi, *Great Transformation*** — Complementary. Polanyi on disembedding; List on developmental stages.
- **Ha-Joon Chang, *Kicking Away the Ladder* (2002)** — Contemporary restatement of List's critique; historical evidence.

---

## Relation to Commitments

From \`idx-user-commitments\`:

| Commitment | How List Supports |
|------------|-------------------|
| Friedrich List / developmental nationalism | **Core source** — defines the position |
| Protection of infant industries | List's central policy prescription |
| Productive capacity over free trade abstraction | List's "productive powers" vs "exchange values" |
| American System tradition | List learned from Hamilton in America; influenced Clay and Lincoln |
| Skepticism of financialization | List privileges manufacturing over finance |
| Particularity over universalism | List's "national system" vs Smith's "cosmopolitan" |

---

## Reading Notes

### Preface and Introduction

List identifies two opposed schools: the "cosmopolitan" (Smith, Say) and the "national" (himself). The cosmopolitan school sees individuals and humanity; the national school sees the nation as the necessary unit between individual and world.

He spent time in America (1825-1832) and saw the American System in action. The book is partly a theory of what he observed Americans doing.

### Book I: History

Survey of historical trade policy. Venice, Hanseatic League, Netherlands, England, Spain, Portugal, France, Germany, Russia, North America. Key observation: every nation that industrialized did so behind protection. England's rise happened through Navigation Acts, tariffs, and state support — not free trade.

### Book II: Theory

The attack on Smith. The "school" (classical economics) commits three errors:
1. Ignores productive powers for exchange values
2. Ignores the nation for individual and world
3. Ignores stages of development for static theory

Manufacturing is privileged because it creates "mental capital" — skills, knowledge, institutions. Agriculture does not compound the same way.

### Book III: Systems

Survey of trade systems: Italian, Hanseatic, English. The English system is the model — protection during development, free trade advocacy after achieving dominance.

### Book IV: Politics

Policy prescriptions. Protection should be:
- Temporary (removed when industry matures)
- Targeted (specific industries, not universal)
- Moderate (enough to compete, not enough to breed inefficiency)

Free trade is appropriate between equals. Protection is appropriate for developing nations against industrial powers.

---

## For Economic Genealogy

List's contributions:

1. **Productive powers** — The concept that capacity compounds. Connects to CAPITAL (productive vs financial), WEALTH (well-being vs assets).

2. **Stages theory** — Historical progression, not static equilibrium. Connects to genealogical method (how did we get here?).

3. **Nation as oikos** — The nation is List's household. This is oikonomic political economy — bounded by national development, not chrematistic accumulation.

4. **Kicking away the ladder** — The genealogical critique. How nations forget their own developmental history.

His method: take the historical long view. What seems natural (free trade as universal good) is actually recent and contingent — and hypocritical.

---

## Status

**Current:** incubating

**To verify:**
- [x] Key claims extracted
- [x] Vocabulary documented
- [x] Connections mapped
- [ ] Full reading notes (need chapter-by-chapter detail)
- [ ] Quotations with page numbers
- [ ] Cross-reference with Hamilton

---

## Sources

- [Friedrich List - Wikipedia](https://en.wikipedia.org/wiki/Friedrich_List)
- [Infant industry argument - Wikipedia](https://en.wikipedia.org/wiki/Infant_industry_argument)
- [UNCTAD paper on List](https://unctad.org/system/files/official-document/dp_149.en.pdf)
- [Reflections on List](https://www.beren.io/2017-01-31-Reflections-on-Friedrich-List-National-System-of-Political-Economy/)`,
  },
  {
    id: 'src-lossky-mystical-theology',
    title: 'The Mystical Theology of the Eastern Church',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['theology', 'orthodoxy', 'apophatic', 'theosis', 'ecclesiology', 'eastern-church', 'lossky'],
    content: `# The Mystical Theology of the Eastern Church

**Author:** Vladimir Lossky
**Published:** 1944 (French), 1957 (English)
**Category:** Theology, Ecclesiology

---

## Core Argument

Eastern Orthodox theology is fundamentally *apophatic* — it proceeds by negation, recognizing that God transcends all positive statements. This is not agnosticism but a higher form of knowledge: the living God exceeds concepts.

The goal of theology is not correct propositions but *theosis* (deification) — union with God while remaining distinct from Him. The distinction between God's *essence* (unknowable) and *energies* (participable) makes this possible.

---

## Key Concepts

### Apophatic Theology
- God is beyond being, beyond essence, beyond any category
- Affirmations must be balanced by negations
- "God is good" → "God is beyond good as we understand it"
- Not skepticism but recognition of divine transcendence

### Essence-Energies Distinction
- God's *essence* (ousia): absolutely unknowable, incommunicable
- God's *energies* (energeiai): God's real presence in creation, participable
- We participate in God Himself, not merely His effects
- This is the Orthodox alternative to both Western scholasticism (beatific vision of essence) and nominalism (no real participation)

### Theosis (Deification)
- "God became man that man might become god" (Athanasius)
- Not absorption into God (pantheism) but transformation while remaining distinct
- Synergy: divine grace and human will cooperate
- The goal of human life is not salvation from but transformation into

### The Trinity
- Not a philosophical problem to solve but a living mystery to enter
- The distinction of Persons is as fundamental as the unity of Nature
- Western filioque controversy: the Spirit proceeds from Father *through* Son, not from Father *and* Son
- This affects the whole structure of the Church and spiritual life

### Ecclesiology
- The Church is the continuation of Pentecost
- Not primarily an institution but the Body of Christ animated by the Spirit
- Tradition is the life of the Spirit in the Church, not mere repetition
- Councils are authoritative because they express the Church's living consciousness

---

## Relation to Bedford Credo

### Serves: Theology (Category II)

**Christ's uniqueness question:** Lossky is clear — Christ is the unique Incarnation, not one avatar among many. The Traditionalist perennialist view is incompatible with Orthodox Christology. The Incarnation is once-for-all, unrepeatable.

**Tension addressed:** If Christ is unique, what about other traditions? Lossky's answer: God's energies are present everywhere, but the fullness of revelation is in Christ and the Church. Other traditions may have fragments, but not the whole.

### Serves: Ecclesiology (Category X)

**Where is the Church?** Lossky's answer is unambiguous: the Orthodox Church is the one, holy, catholic, and apostolic Church. Not one branch among many but the fullness of Christian faith preserved.

**The Orthodox answer to Evola:** Synergy (divine-human cooperation in theosis) is the answer to Evola's critique of Christian "passivity." Orthodoxy is not Quietist; it demands active participation in transformation.

### Serves: Metaphysics (Category I)

**Hierarchy question:** Reality is hierarchical — God, angels, humans, creation — but matter is not inferior, it is to be transfigured. Not Gnostic rejection but sacramental transformation.

**Sacramental vs. hierarchical:** Lossky bridges this. Hierarchy is real, but the material world is taken up into divine life through the Incarnation and sacraments.

---

## Key Passages

> "Theology and mysticism support and complete each other. One is impossible without the other."

> "The divine energies are not effects produced by a cause external to them: they are God Himself in His action and self-revelation."

> "We must live the dogma expressing a revealed truth, which appears to us as an unfathomable mystery, in such a fashion that instead of assimilating the mystery to our mode of understanding, we should, on the contrary, look for a profound change... in our own mind."

---

## Authority Status

**Engaged, trending toward authority.**

Lossky represents the standard modern introduction to Orthodox theology. If you're investigating Orthodoxy seriously, this is the theological primer. His positions on Christ's uniqueness, the essence-energies distinction, and the ecclesiology of the Eastern Church directly address your unresolved questions.

**Note:** Lossky is a theologian's theologian — dense, precise, philosophical. If you want the same content made more accessible, Schmemann is the pastoral complement.

---

## Composition

**This source was captured for:**
- \`inst-credo-theology\` (Christ's uniqueness, apophatic method)
- \`inst-credo-ecclesiology\` (where is the Church)
- \`idx-credo-source-pipeline\` (Tier 1 blocking source)

**This source enables:**
- Resolving the perennialism vs. particularity question
- Grounding the Orthodox investigation theologically
- Understanding the synergy concept that answers Evola`,
  },
  {
    id: 'src-lowith-meaning-history',
    title: 'Meaning in History',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['philosophy-of-history', 'lowith', 'progress', 'eschatology', 'secularization', 'providence'],
    content: `# Meaning in History

**Author:** Karl Löwith
**Published:** 1949
**Category:** Philosophy of History

---

## Core Argument

The modern idea of historical progress is a secularized version of Christian eschatology. The belief that history is moving toward a goal — whether Marxist utopia, liberal end of history, or scientific paradise — derives from the Christian hope for the Kingdom of God.

But secularized eschatology is incoherent. Without God as the agent of history, progress has no guarantor. The modern world inherited the structure of Christian hope (history has meaning, moves toward a goal) while rejecting its content (God's providence, Christ's return). The result is either self-deception or despair.

---

## Key Concepts

### Christian vs. Classical Views of Time
- **Classical (Greek, Roman):** History is cyclical or meaningless
- Eternal return; no progress; the cosmos repeats
- History is not the arena of salvation
- **Christian:** History is linear, moving toward an end
- Creation → Fall → Incarnation → Consummation
- What happens in time matters eternally

### The Biblical View
- History has a beginning (Creation) and end (Last Judgment)
- It is the arena of God's action: providence, salvation
- Time is not an illusion to escape but reality to inhabit
- The present has meaning because it relates to eschatological fulfillment

### Secularization of Eschatology
- Modern progress = Kingdom of God without God
- The structure remains: history moves toward fulfillment
- The content changes: human agency replaces divine providence
- Marx, Hegel, Comte, Condorcet — all secularized Christians

### The Incoherence
- If God guarantees the end, hope is warranted
- If only humans act, the end is not guaranteed
- Secular progress borrows Christian hope but cannot pay for it
- The result: oscillation between utopian hubris and nihilistic despair

### The Pagan Alternative
- Without eschatology, time is either cyclic or meaningless
- You can return to classical resignation (Spengler, Nietzsche)
- But this requires abandoning all hope for history
- Modern man cannot really do this — he's too Christian

### Faith vs. Knowledge
- Löwith concludes ambiguously
- Faith can sustain hope; reason cannot
- He does not say faith is true, only that progress without it fails
- The honest response to secularized eschatology is skepticism about progress

---

## Relation to Bedford Credo

### Serves: Philosophy of History (Category VIII)

**The central tension you carry:** Spengler (cycle, decline) vs. Christian hope (history moves toward consummation). Löwith diagnoses this precisely.

**The options:**
1. Return to classical resignation (Spengler): accept the cycle, abandon progress
2. Maintain secularized progress: borrow Christian structure, reject content (incoherent)
3. Recover authentic Christian eschatology: hope grounded in Christ, not human effort

**Your position:** You confess Christ, which implies option 3. But you also engage Spengler and the Traditionalists, which pulls toward option 1. Löwith forces the choice.

### Serves: Eschatology (Category IX)

**What is the End?** Löwith shows that your answer to this determines your philosophy of history. If the End is Christ's return and the New Creation, then civilizational decline is not the final word.

**Against both optimism and pessimism:** Secular progress is hubris. Spenglerian resignation is despair. Christian hope is neither — it's trust in God's action, not human achievement or cosmic necessity.

### Serves: Epistemology (Category IV)

**Faith and history:** Löwith suggests that the meaning of history is not empirically derivable. You cannot prove history is going somewhere by looking at history. Meaning comes from faith, not observation.

**Genealogical confirmation:** The genealogical method you use shows where ideas came from. Löwith applies this to "progress" — revealing its Christian genealogy.

---

## Key Passages

> "The modern mind has not made up its mind whether it should be Christian or pagan. It sees with one eye of faith and one of reason."

> "The eschatological future has become a historical future... and the heavenly city has become a terrestrial civilization."

> "The Christian hope for a final redemption has been secularized into a belief in indefinite progress."

> "The modern historical consciousness arises from the Christian view of history, and yet it is not Christian."

---

## Authority Status

**Diagnostic authority for the history question.**

Löwith (1897-1973) was a German-Jewish philosopher, student of Heidegger, who diagnosed the theological roots of modern historical thinking with precision.

**Relevance:** Your tension between Spengler and Christian hope is exactly what Löwith addresses. He doesn't resolve it (he was not a confessing Christian) but clarifies the stakes.

**Limit:** Löwith diagnoses; he does not prescribe. He shows that secular progress fails but does not confidently affirm Christian eschatology.

---

## Composition

**This source was captured for:**
- \`inst-credo-history\` (Spengler vs. Christian hope)
- \`inst-credo-eschatology\` (what is the End?)
- \`idx-credo-source-pipeline\` (Tier 2 philosophy of history)

**This source enables:**
- Forcing the choice between cyclic and linear time
- Showing that "progress" is crypto-Christianity
- Connecting philosophy of history to eschatology`,
  },
  {
    id: 'src-macintyre-after-virtue',
    title: 'After Virtue',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['political-philosophy', 'ethics', 'macintyre', 'virtue', 'tradition', 'modernity', 'practices', 'narrative'],
    content: `# After Virtue

**Author:** Alasdair MacIntyre
**Published:** 1981
**Category:** Ethics, Political Philosophy

---

## Core Argument

Modern moral philosophy is in a state of grave disorder. We possess fragments of older moral schemes — terms like "virtue," "duty," "rights" — but we have lost the frameworks that made them intelligible. The result is interminable moral disagreement: debates that cannot be resolved because the disputants share no common premises.

The Enlightenment project of grounding morality in universal reason failed. What remains is emotivism — the disguised expression of preference as moral argument. The only way forward is to recover the tradition of the virtues, embedded in practices and communities, that modernity rejected.

---

## Key Concepts

### The Disorder of Moral Language
- We use moral terms inherited from older frameworks
- But we've lost the frameworks that gave them meaning
- "Rights" made sense in natural law theory; now they're assertions
- "Virtue" made sense in teleological ethics; now it's personal preference
- Moral arguments become interminable because there's no shared standard

### The Enlightenment Project's Failure
- Kant, Hume, Diderot: all tried to ground morality in universal reason
- All failed — each produced a different, incompatible ethics
- The project was doomed: morality without teleology is impossible
- "Ought" requires a purpose; modernity rejected purposes

### Emotivism
- Modern moral statements express preferences disguised as facts
- "X is wrong" means "I disapprove of X; do so as well"
- Moral argument becomes manipulation, not rational persuasion
- The manager and the therapist are characteristic modern figures: both manipulate

### Tradition-Constituted Rationality
- MacIntyre's alternative: rationality is tradition-constituted
- We reason within traditions, not from a view from nowhere
- Traditions can be evaluated: do they solve their internal problems?
- This is not relativism: some traditions are better than others

### Practices, Virtues, Narrative
- **Practices:** complex cooperative activities with internal goods
- **Virtues:** qualities that sustain practices and enable goods
- **Narrative:** human life as a quest with beginning, middle, end
- Virtues make sense only within practices embedded in narratives within traditions

### The Monastic Option
- Famous closing passage: we await "a new — doubtless very different — St. Benedict"
- When the Roman Empire collapsed, monasteries preserved civilization
- Perhaps our task is similar: build local communities of virtue
- Not political revolution but cultural preservation

---

## Relation to Bedford Credo

### Serves: Ethics (Category V)

**The virtue tradition:** MacIntyre recovers what you need — an ethics of virtue embedded in community and tradition, not abstract rules or individual choice.

**Against emotivism:** Your ethical positions are not preferences but claims about human flourishing. MacIntyre shows why modern ethics can't recognize this.

**Ilyin compatibility:** Ilyin says bear the sin and act. MacIntyre says virtues enable right action within traditions. These complement: the virtuous person has the character to bear what Ilyin describes.

### Serves: Political Philosophy (Category VI)

**The tradition question:** MacIntyre's "tradition-constituted rationality" grounds your rejection of liberal universalism. Reason is not neutral; it's formed by traditions.

**The new Benedict:** Your strategic posture — phased approach, building before openly contesting — resonates with the monastic option. Build communities of practice; the alternative to liberalism will emerge from them.

**Against liberalism:** MacIntyre diagnoses liberalism as itself a tradition that pretends it isn't. This is devastating: liberalism's claim to neutrality is false.

### Serves: Epistemology (Category IV)

**Four knowings connection:** MacIntyre's account of practices requires procedural and perspectival knowing, not just propositional. You learn virtue by doing, within a tradition. This aligns with Vervaeke's critique of propositional over-emphasis.

**Narrative identity:** You are not an autonomous individual choosing a life but a character in a narrative you didn't author. The Bedford lineage is such a narrative.

### Serves: Lineage (Category III)

**Tradition as gift:** You inherit a tradition (Virginia Cavalier, Bedford) that constitutes you. MacIntyre says this is how all persons are constituted — by the narratives they're born into.

---

## Key Passages

> "We possess indeed simulacra of morality, we continue to use many of the key expressions. But we have — very largely, if not entirely — lost our comprehension, both theoretical and practical, of morality."

> "The Enlightenment project of justifying morality had to fail... because it was committed to the rejection of Aristotelianism."

> "I am someone's son or daughter, someone else's cousin or uncle; I am a citizen of this or that city, a member of this or that guild or profession; I belong to this clan, that tribe, this nation."

> "What matters at this stage is the construction of local forms of community within which civility and the intellectual and moral life can be sustained through the new dark ages which are already upon us."

---

## Authority Status

**Near-authority, potential peer.**

MacIntyre's method is genealogical. His diagnosis of modernity is compatible with yours. His recovery of virtue-in-tradition aligns with your commitments. He is Catholic (converted from Marxism), which creates slight tension with your Orthodox investigation — but less than Evola or Guénon.

**Living thinker:** MacIntyre is still alive (b. 1929). This is a contemporary conversation, not just source capture.

**The peer question:** MacIntyre is more established (major philosopher) but the overlap is significant. His students (like Deneen) are even closer peers.

---

## Composition

**This source was captured for:**
- \`inst-credo-ethics\` (virtue tradition)
- \`inst-credo-political\` (tradition-constituted rationality, monastic option)
- \`inst-credo-epistemology\` (practices and knowing)
- \`idx-credo-source-pipeline\` (Tier 3 political philosophy)

**This source enables:**
- Grounding ethical claims philosophically
- Connecting ethics to community and tradition
- Providing vocabulary for the "build local communities" strategy`,
  },
  {
    id: 'src-moore-kwml',
    title: 'King, Warrior, Magician, Lover',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['anthropology', 'psychology', 'archetypes', 'moore', 'kwml', 'masculine', 'shadow', 'integration'],
    content: `# King, Warrior, Magician, Lover

**Authors:** Robert Moore & Douglas Gillette
**Published:** 1990
**Category:** Archetypal Psychology, Anthropology

---

## Core Argument

The male psyche is structured by four fundamental archetypes: King, Warrior, Magician, and Lover. Each represents a pattern of mature masculine energy with its own gifts, shadow forms, and developmental pathway.

Modern men suffer from "boy psychology" — immature, shadow-dominated expressions of these archetypes. The task of masculine development is to access the fullness of each archetype while integrating them under the King's governance.

---

## Key Concepts

### The Four Archetypes

**King:**
- The archetype of order, blessing, and centeredness
- The mature King provides blessing, bestows recognition, leaves a legacy
- Shadow: Tyrant (active — crushing others) or Weakling (passive — failing to lead)
- The King integrates the other three

**Warrior:**
- The archetype of discipline, action, and loyalty
- The mature Warrior acts with skill, serves a cause greater than self, has clear boundaries
- Shadow: Sadist (active — cruelty) or Masochist (passive — self-destruction)
- Requires a King to serve

**Magician:**
- The archetype of knowledge, insight, and transformation
- The mature Magician masters technology, understands hidden patterns, initiates others
- Shadow: Manipulator (active — using knowledge for power) or Denying Innocent One (passive — refusing to share or act)
- Requires Warrior energy to apply knowledge

**Lover:**
- The archetype of connection, sensuality, and aliveness
- The mature Lover experiences the world fully, connects deeply, creates beauty
- Shadow: Addicted Lover (active — lost in sensation) or Impotent Lover (passive — cut off from feeling)
- Humanizes the other three

### Boy Psychology vs. Man Psychology
- Each archetype has immature (boy) and mature (man) forms
- Divine Child → King, Hero → Warrior, Precocious Child → Magician, Oedipal Child → Lover
- Modern culture keeps men in boy psychology
- Initiation (missing in modernity) moves boys to men

### Integration Under the King
- The King sits at the center, governing the other three
- Without the King: scattered, uncentered, fragmented
- Without the Warrior: unable to act on vision
- Without the Magician: lacking insight and skill
- Without the Lover: cold, disconnected, inhuman

### The Shadow System
- Each archetype has an active and passive shadow
- Active shadows: excess energy distorted (Tyrant, Sadist, Manipulator, Addicted)
- Passive shadows: deficient energy collapsed (Weakling, Masochist, Denying, Impotent)
- Shadow work means integrating, not eliminating, shadow material

---

## Relation to Bedford Credo

### Serves: Anthropology (Category III)

**Archetypal structure:** You hold that "man has archetypal structure: King, Warrior, Magician, Lover" and that "these are real structures of the psyche, not merely useful models." This source grounds that claim.

**The developmental task:** Human telos is integration — accessing the fullness of each archetype. This is not just therapeutic but anthropological: what is man for?

### Self-Diagnosis Application

Your stated imbalance:
- **Magician dominant (90%)** — Strong framework creation, pattern recognition, knowledge accumulation
- **Warrior underdeveloped** — Difficulty shipping, acting, finishing
- **King integrating** — Developing governance and centeredness
- **Lover moderate** — Present but not primary

**The Magician trap:** Shadow Magician hoards knowledge, refuses to share or act, uses insight for manipulation or mere accumulation. The Denying Innocent One waits forever for "enough knowledge" before acting.

**The prescription:** Access Warrior energy through action. The Magician needs the Warrior to apply knowledge. Shipping Etymon Episode 1 is Warrior work.

### Serves: Methodology

**KWML as diagnostic frame:** You use KWML for self-assessment and strategic analysis. This source documents the frame you're already using.

**Integration with Four Knowings:**
- King → perspectival (seeing from the throne)
- Warrior → procedural (knowing how to act)
- Magician → propositional (knowing that)
- Lover → participatory (knowing through connection)

The Magician-Warrior imbalance maps to propositional over procedural.

---

## Key Passages

> "The masculine potential we are seeking to activate includes characteristics of all four archetypes."

> "The King archetype in its fullness possesses the qualities of order, of reasonable and rational patterning, of integration and integrity in the masculine psyche."

> "The Warrior energy, properly channeled, provides us with the capacity to act decisively, to defend boundaries, and to serve the goals determined by the King."

> "The Magician archetype... is the archetype of awareness and of insight, primarily, but also of knowledge of anything that is not immediately apparent."

> "Boy psychology is everywhere around us... What is needed is a process of masculine initiation."

---

## Authority Status

**Adopted framework.**

You use KWML as your primary self-diagnostic tool. Moore and Gillette provide the canonical formulation. This is not a source you're considering but one you've already adopted.

**Jungian background:** The archetypes are Jungian in origin, but Moore/Gillette synthesized them into this four-fold structure. Jung's *Archetypes and the Collective Unconscious* is the deeper source, but KWML is the operative application.

**Theological question:** You ask: "Are archetypes created structures (like natural law) or something else? How does Jung relate to Christian anthropology?" Moore/Gillette don't answer this. The Christian integration requires further work — perhaps drawing on Lossky's anthropology of theosis.

---

## Composition

**This source was captured for:**
- \`inst-credo-anthropology\` (archetypal structure of man)
- \`idx-user-skills\` (the Magician-Warrior imbalance)
- \`idx-credo-source-pipeline\` (Anthropology gap)

**This source enables:**
- Grounding the KWML framework you already use
- Diagnosing the Magician-Warrior imbalance formally
- Connecting archetypal psychology to Christian anthropology (work remaining)`,
  },
  {
    id: 'src-polanyi-great-transformation',
    title: 'The Great Transformation',
    type: 'source',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['polanyi', 'embeddedness', 'market-society', 'economic-history', 'substantivism'],
    content: `# The Great Transformation

**Author:** Karl Polanyi
**Year:** 1944
**Type:** Book (economic history/anthropology)

---

## Summary

Polanyi's thesis: the "self-regulating market" is not a natural development but a deliberate political creation — and a dangerous one. Before the 19th century, economies were **embedded** in social relations. Markets existed, but they were subordinate to social, political, and religious institutions. The "great transformation" was the **disembedding** of the economy from society — making land, labor, and money into "commodities" to be bought and sold on markets.

This was not evolution but revolution. It required state violence (enclosure, Poor Law reform, gold standard enforcement) to create the conditions for market society. And it generated a "double movement" — society's spontaneous defense against being fully commodified.

Polanyi argues that treating labor, land, and money as commodities is a **fiction** — they are not produced for sale, and treating them as if they were destroys the social fabric. Labor is human life. Land is nature. Money is a social convention. None can survive pure market logic.

---

## Key Claims

1. **Embeddedness thesis:** All economies before market society were embedded in social relations. The economy was not a separate sphere; it was inseparable from kinship, religion, politics.

2. **The commodity fiction:** Labor, land, and money are not true commodities (things produced for sale). Treating them as such is a fiction that enables market society but destroys social bonds.

3. **The double movement:** Market expansion provokes social self-protection. Laissez-faire was planned; the protective response was spontaneous. Society resists being fully commodified.

4. **The self-regulating market is utopian:** A fully self-regulating market is impossible — it would destroy humanity and nature. Some degree of embedding is necessary for survival.

5. **The political creation of markets:** "Free markets" require constant state intervention to maintain. Laissez-faire was not the absence of planning, but a particular form of planning.

---

## Vocabulary

| Term | Definition | Significance |
|------|------------|--------------|
| **Embeddedness** | The economy is subordinate to and inseparable from social relations | The pre-market condition; what was lost |
| **Disembedding** | The process of separating economy from society | The "great transformation" itself |
| **Commodity fiction** | Treating labor, land, money as if produced for sale | The enabling fiction of market society |
| **Double movement** | Market expansion vs. social protection | Explains why pure laissez-faire never stabilizes |
| **Self-regulating market** | Market that sets all prices (including labor, land, money) | The utopian project that nearly destroyed society |
| **Substantivism** | View that economies must be understood in social context | Polanyi's methodological position vs. formalism |

---

## Quotable Passages

> "To allow the market mechanism to be sole director of the fate of human beings and their natural environment... would result in the demolition of society."

This is the core warning — markets without embedding destroy.

> "Labor is only another name for a human activity which goes with life itself... land is only another name for nature... actual money is merely a token of purchasing power."

The commodity fiction exposed.

> "Laissez-faire was planned; planning was not."

Inverts the usual narrative — markets required state violence to create.

---

## Connections

### Frameworks This Informs

- **Oikonomia vs Chrematistics** — Polanyi's embeddedness is the anthropological version of Aristotle's oikonomia. Embedded economies are oikonomic; disembedded market society is chrematistic.
- **Recon Method** — Polanyi provides genealogical context for economic concepts.

### Instances This Unlocks

- **CREDIT** — Polanyi's account of money as social convention, not commodity, informs credit genealogy
- **CAPITAL** — His account of commodification helps explain how capital became abstract
- **INTEREST** — The embedding/disembedding framework contextualizes how interest became "just a rate"
- **CORPORATION** — His account of how institutions were transformed to serve market society

### Related Sources

- **Graeber, *Debt*** — Extends Polanyi's anthropological approach to credit/debt
- **Aristotle, *Politics*** — The original embeddedness (oikonomia within polis)
- **Marx, *Capital*** — Different genealogy of commodification, more structural

---

## Reading Notes

### Part One: The International System

Polanyi starts with 1914 — the collapse of the 19th century international order (gold standard, balance of power, liberal state, self-regulating market). The war revealed that this system was fragile.

The four institutions were interdependent. The gold standard was the key — it required domestic economies to adjust to international flows, which required treating labor as a commodity. When societies resisted, the system broke.

### Part Two: Rise and Fall of Market Economy

**Chapter 3-6: Habitation vs. Improvement**
The transformation of English society in the 18th-19th centuries. Enclosure, Speenhamland, Poor Law Reform. Each step commodified labor more completely.

**The Speenhamland paradox:** Attempting to protect labor from full commodification (wage supplements) actually prevented the formation of a labor market, leading to worse outcomes. But the alternative (1834 Poor Law Reform) was brutal commodification that created modern labor market at immense human cost.

**Chapter 11-14: Self-Protection of Society**
The double movement. Factory legislation, labor unions, tariffs, central banking — all responses to market destruction. Not ideological but pragmatic survival.

### Part Three: Transformation in Progress

Writing in 1944, Polanyi sees fascism and socialism as different responses to the failure of market society. Both represent the "return of politics" — the re-embedding of economy in society, though in different forms.

His hope (unfulfilled): that democratic planning could achieve embedding without authoritarianism.

---

## Status

**Current:** incubating

**To verify:**
- [x] Key claims extracted
- [x] Vocabulary documented
- [x] Connections mapped
- [ ] Full reading notes (need chapter-by-chapter detail)
- [ ] Quotations with page numbers

---

## For Excavations

Polanyi's vocabulary is operational:

- **"Embedded"** — useful recovery term; "is this arrangement embedded or disembedded?"
- **"Commodity fiction"** — powerful diagnostic; "is this a real commodity or a fiction?"
- **"Double movement"** — explains why pure market logic never stabilizes

His genealogical claim is crucial: market society is not natural, not inevitable, not old. It was created, violently, in the 18th-19th centuries. This denaturalizes current arrangements.`,
  },
  {
    id: 'src-robertson-returning-cave',
    title: 'Returning to the Cave: Reviewing Millerman\'s Guided Tour of Plato\'s Masterpiece',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['plato', 'republic', 'forms', 'straussian', 'bloom', 'millerman', 'vision', 'idea', 'cave'],
    content: `# Returning to the Cave — C.B. Robertson

**Source:** C.B.'s Newsletter (Substack)
**Author:** C.B. Robertson
**Date:** December 30, 2025
**URL:** https://substack.com/home/post/p-182929189

## Summary

Review of Michael Millerman's 10-week course on Plato's Republic. The author resolves his long-standing objection to Platonic forms through an etymological insight: Greek ιδέα/εἴδω refers to *visual image* (form, outline), not abstract "thought." This reframes the cave allegory as epistemological hierarchy, not ontological claim.

## Key Insight: The Visual Nature of Forms

> The Greek words ιδέα and εἴδω don't just refer to a 'thought,' but more specifically, an image. "Form" here is to be taken literally, as grasping the visual outline of a thing… as opposed to, for instance, just having the definition or name of a thing.

The author's prior objection (published in PH2T3R):
- No metaphysical difference between Plato's "form" and "image"
- Forms seem to depend on arbitrary language
- The coherence theory of truth can't ground metaphysics

The resolution:
- Forms represent *degrees of interpretive clarity*, not ontological layers
- Knowledge of carpenter > knowledge of sitter (re: chair) — epistemological claim
- Language is explicitly "shadow of truth" — several iterations of imitation away
- Dialectic aims beyond descriptive language (533a)

## The Cave as Epistemological Gradient

The progression: shadows → puppets → fire → daylight → sun

Maps to political states by *separation from virtue through imitation*:
1. Aristocracy/Monarchy (virtue)
2. Timarchy (honor — heuristic for virtue)
3. Oligarchy (money — heuristic for honor)
4. Democracy (freedom — heuristic for money)
5. Tyranny (power — heuristic for freedom)

Each step: "connection and understanding of the truth is lost by degree, as in a game of symbolic telephone across the social landscape."

## Orwell Connection

Author connects Plato's critique to Orwell's "Politics and the English Language":
- Stale language produces no visual image
- Set phrases with no meaning
- Separation from knowledge by degrees of imprecision
- Lack of visual clarity as diagnostic

## Straussian Context

- Millerman is "strong Straussian"
- Course builds on Allan Bloom's interpretive essay (appended to his Republic translation)
- Bloom translation: direct and literal, for "serious student"
- Jowett translation: "omits and euphemizes"

## Potential Extractions

**For Etymon excavation:**
- ιδέα/εἴδω: IDEA AS visual-image (drift from sight to abstraction)
- Vision → knowledge hierarchy (why Greek privileges "theory" — θεωρία as seeing)

**For framework development:**
- Imitation-degradation as analytical frame (cf. signal/noise, compression loss)
- Visual clarity as epistemological diagnostic

## Quotable

On Plato's style:
> Unlike much of philosophy which is didactic and technical, Plato writes in a playful and, in general, very accessible style.

On forms and language:
> Far from Plato's forms depending upon language, they in fact reject linguistic primacy, while acknowledging the necessity of language for practical conversation.

On the cave:
> We can't just live in the world of pure images — we do have to descend back down into the cave, after all…`,
  },
  {
    id: 'src-rose-orthodoxy-religion-future',
    title: 'Orthodoxy and the Religion of the Future',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['ecclesiology', 'orthodoxy', 'rose', 'traditionalism', 'new-age', 'ecumenism', 'deception', 'discernment'],
    content: `# Orthodoxy and the Religion of the Future

**Author:** Fr. Seraphim Rose
**Published:** 1975 (expanded 1990)
**Category:** Ecclesiology, Discernment

---

## Core Argument

A "religion of the future" is emerging that synthesizes Eastern spirituality, Western occultism, and pseudo-Christian elements. This syncretism is not innocent eclecticism but spiritual deception — the preparation for the Antichrist. Orthodoxy alone preserves authentic Christian tradition untouched by this synthesis.

The danger is not atheism but false spirituality. The modern spiritual seeker, repelled by materialist secularism, turns to experiences — and finds them. But not all spiritual experiences are from God.

---

## Key Concepts

### The Spiritual Vacuum
- Secularism created a spiritual vacuum
- This vacuum is now being filled — but with what?
- Eastern religions, occultism, charismatic movements, UFO cults
- All offer "experience" to replace dead rationalism
- The hunger is real; the solutions are dangerous

### Pseudo-Spirituality
- Modern "spirituality" seeks experience, not truth
- It borrows from all traditions without submitting to any
- It produces feelings of transcendence without transformation
- It cannot distinguish divine from demonic

### The Charismatic Movement
- Rose critiques Protestant and Catholic charismatics
- Tongues, healings, prophecy — can be counterfeited
- The early Christians were more cautious about claims to spiritual gifts
- "Testing the spirits" is difficult without a living tradition

### Eastern Religions
- Hinduism, Buddhism, Zen — now mainstream in the West
- These are not "other paths to the same God"
- They have different goals: dissolution of self, not union with personal God
- The experiences they produce are real but not Christian

### Orthodoxy as Criterion
- Only Orthodoxy preserves the full patristic tradition
- The Fathers knew about demonic counterfeits
- They developed criteria for discernment (nepsis)
- Without this tradition, modern seekers are defenseless

### Guénon as Case Study
- Rose discusses Guénon (and Traditionalism) as sophisticated error
- Guénon correctly diagnosed modernity's spiritual poverty
- But his solution — perennialist initiation — is not Christian
- "Traditional" is not the same as "Orthodox"

---

## Relation to Bedford Credo

### Serves: Ecclesiology (Category X)

**Where is the Church?** Rose's answer is unambiguous: the Orthodox Church. Not because it's culturally appealing or intellectually satisfying, but because it preserves the tradition that enables discernment.

**Against ecumenism:** The "religion of the future" includes false ecumenism — pretending all religions lead to the same place. Rose opposes this. Unity in error is worse than separation in truth.

**The ethnic question:** Rose acknowledges Orthodoxy's ethnic entanglements. But the tradition is more important than the sociological accidents.

### Serves: Theology (Category II)

**The Traditionalist critique — from within Orthodoxy:** Rose engages Guénon and the Traditionalists seriously but rejects them. The perennialist solution is pseudo-Christianity. True tradition is Holy Tradition, not sophia perennis.

**Christ's uniqueness:** Rose is clear — not one avatar among many. The Incarnation is unique; Christianity is not one tradition among equals.

**The tension addressed:** You engage Traditionalism (Guénon, Evola) while confessing Christ. Rose shows how an Orthodox thinker handles this: take the diagnosis seriously, reject the solution.

### Serves: Discernment

**The spiritual danger:** Not all that glitters is gold. Spiritual experiences can be demonic. Rose provides criteria: does it produce humility? Repentance? Obedience to the Church? Or pride, novelty, and independence?

**Against experience-seeking:** The Magician wants to understand everything. The spiritual seeker wants to experience everything. Both can be traps.

---

## Key Passages

> "In the past the Church had to defend herself against obvious heresy, but this new heresy is much more subtle and therefore more dangerous."

> "The religion of the future is not a single religion; it is a synthesis that is being prepared by all the powers opposed to Christ."

> "Orthodoxy, in the consciousness of the Orthodox Church, is not merely 'one form of Christianity'; it is the whole fullness of Christianity."

> "Guénon's attack on the modern world... is impressive; but his solution... is another form of the same disease."

---

## Authority Status

**Orthodox authority for the Traditionalist question.**

Rose (1934-1982) is an American convert to Orthodoxy who engaged seriously with Traditionalism before his conversion. He understands the appeal of Guénon and Evola from the inside — and explains why they're insufficient.

**Relevance:** You engage Traditionalism while investigating Orthodoxy. Rose is the thinker who did exactly this and chose Orthodoxy. His critique of Guénon is not dismissive but informed.

**Caution:** Rose represents a more conservative strand of American Orthodoxy. Other Orthodox thinkers (Schmemann, for instance) are less concerned with apocalyptic dimensions.

---

## Composition

**This source was captured for:**
- \`inst-credo-ecclesiology\` (why Orthodoxy)
- \`inst-credo-theology\` (Christ's uniqueness vs. perennialism)
- \`idx-credo-source-pipeline\` (Tier 1 ecclesiology)

**This source enables:**
- Resolving the Guénon/Evola vs. Christ question from an Orthodox perspective
- Understanding discernment criteria for spiritual claims
- Bridging Traditionalist diagnosis and Orthodox solution`,
  },
  {
    id: 'src-schmemann-life-of-world',
    title: 'For the Life of the World',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['ecclesiology', 'sacrament', 'liturgy', 'orthodoxy', 'schmemann', 'eucharist', 'world'],
    content: `# For the Life of the World

**Author:** Alexander Schmemann
**Published:** 1963
**Category:** Ecclesiology, Sacramental Theology

---

## Core Argument

Christianity is not a "religion" in the modern sense — a private sphere of spiritual practice separate from "secular" life. The Eucharist reveals what the world truly is: a gift from God meant to be received, blessed, and offered back. The liturgy is not escape from the world but the world's true meaning made visible.

The tragedy of modern Christianity is that it accepted the secular/sacred split. It retreated into "religion" and abandoned the world to secularism. But the original Christian vision was cosmic — all of creation is to be transfigured.

---

## Key Concepts

### The World as Sacrament
- "In the beginning" the whole world was given as sacrament — means of communion with God
- The Fall was treating creation as an end in itself, not as gift
- The Eucharist restores right relationship: receive, bless, offer, share
- Every meal can be sacramental; the Eucharist reveals this

### The Liturgy as Cosmos
- The liturgy is not one activity among many but the revelation of reality
- "The Church is not a religious society... it is the new life of all creation"
- Worship is not escape from the world but entry into the world's true meaning
- The Kingdom of God is not "elsewhere" — it breaks into this world in the liturgy

### Against "Religion"
- Modern religion = private, interior, separated from public life
- Christianity accepted this ghetto to survive secularism
- But this is a betrayal: Christianity claims the whole world for Christ
- The secular/sacred split is not neutral — it's a defeat

### Secularism as Failed Christianity
- Secularism didn't emerge from paganism; it emerged from Christendom
- When Christianity became "religion," the world was left orphaned
- Secular "progress" is residual Christian hope without Christ
- The answer is not more religion but the recovery of sacramental vision

### The Eucharist as Answer
- "Take, bless, break, give" — the pattern of redeemed life
- We offer the world back to God, and He returns it transfigured
- The Eucharist makes us "partakers of the divine nature"
- Not magic ritual but participation in Christ's own offering

---

## Relation to Bedford Credo

### Serves: Ecclesiology (Category X)

**What is the Church?** Not an institution that dispenses religious services but the new creation already present. The Church is "the sacrament of the Kingdom" — making visible what all creation is meant to be.

**Why Orthodoxy?** Schmemann's argument: the Orthodox liturgy preserves the cosmic vision that Western Christianity lost. The Reformation and Counter-Reformation both accepted the secular/sacred split; Orthodoxy never did.

### Serves: Metaphysics (Category I)

**Is matter inferior?** No — matter is to be transfigured, not escaped. The bread and wine become Christ's body and blood; this is the destiny of all creation. Sacramental metaphysics bridges Traditionalist hierarchy and Christian incarnationalism.

**The real vs. the symbolic:** Schmemann rejects the modern "merely symbolic" view. Sacraments are real participation in divine reality, not illustrations of ideas.

### Serves: Philosophy of History (Category VIII)

**Secularism diagnosis:** Modern secularism is not external to Christianity — it's Christianity's shadow. The "death of God" happened because Christians abandoned the world. The answer is not religious revival but sacramental recovery.

**Against Spengler:** Schmemann offers an alternative to resignation. The Kingdom breaks in now, not at the end of history. Civilizations may decline, but the Eucharist continues.

---

## Key Passages

> "The world was created as the 'matter,' the material of one all-embracing eucharist, and man was created as the priest of this cosmic sacrament."

> "Christianity... is not a religion. Religion is needed where there is a wall of separation between God and man. But Christ has broken down the wall between man and God."

> "The liturgy is not an 'escape from life' but rather the revelation of the true life."

> "Secularism is a tragedy, not because it negates the existence of God, but because it denies that the world has anything to do with God."

---

## Authority Status

**Engaged, trending toward authority.**

Schmemann is the pastoral complement to Lossky. Where Lossky is philosophical, Schmemann is liturgical. Together they form the standard introduction to Orthodox Christianity for Western converts.

**Personal relevance:** Schmemann's critique of "religion" aligns with your critique of liberalism — both diagnose a false separation that impoverishes both sides. His sacramental vision addresses the metaphysical question: matter is not inferior but to be transfigured.

**The liturgy test:** Lee Kuan Yew's constructed advice — "Sit in the Divine Liturgy. Not as tourism. As investigation." Schmemann explains why.

---

## Composition

**This source was captured for:**
- \`inst-credo-ecclesiology\` (what is the Church, why Orthodoxy)
- \`inst-credo-metaphysics\` (sacramental vs. Gnostic)
- \`idx-credo-source-pipeline\` (Tier 1 blocking source)

**This source enables:**
- Understanding what you'd be joining if you chose Orthodoxy
- Diagnosing secularism as Christianity's failure, not victory
- Moving from "Orthodoxy is interesting" to decision`,
  },
  {
    id: 'src-schmitt-political-theology',
    title: 'Political Theology',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['political-philosophy', 'schmitt', 'sovereignty', 'exception', 'secularization', 'theology', 'decisionism'],
    content: `# Political Theology

**Author:** Carl Schmitt
**Published:** 1922
**Category:** Political Philosophy, Jurisprudence

---

## Core Argument

"Sovereign is he who decides on the exception."

All significant concepts of the modern theory of the state are secularized theological concepts. This is true not merely historically (they were borrowed) but systematically (they function the same way). The exception in law corresponds to the miracle in theology; the sovereign corresponds to God.

Liberalism tries to eliminate sovereignty by replacing decision with procedure. This is a metaphysical error: the exception cannot be eliminated, only concealed. Someone always decides. The question is who.

---

## Key Concepts

### The Exception
- The normal case proves nothing; the exception proves everything
- Law depends on order; order depends on decision in cases law cannot foresee
- The exception reveals the nature of sovereignty that the normal case conceals
- Liberalism pretends exceptions don't exist or can be proceduralized away

### Sovereignty
- Not the highest power but the power to decide the exception
- Not who makes laws but who can suspend them
- In crisis, the normal rules don't apply; someone must decide
- This decision cannot be derived from law — it creates the situation in which law applies

### Secularized Theology
- "All significant concepts of the modern doctrine of the state are secularized theological concepts"
- The omnipotent God → the omnipotent lawgiver
- The miracle → the exception
- Providence → historical progress
- Deism → the constitutional state (God creates and withdraws; law operates mechanically)

### Against Liberal Constitutionalism
- Liberalism wants to replace sovereignty with discussion
- It substitutes procedure for decision
- It pretends the exception can be governed by rules
- But someone must decide when the exception applies
- Every legal order presupposes a political order that law did not create

### Decisionism
- The decision, not the norm, is the ground of law
- "Authority, not truth, makes law" (Hobbes)
- This is not arbitrary: the decision creates the order that makes norms possible
- But it cannot itself be derived from norms

---

## Relation to Bedford Credo

### Serves: Political Philosophy (Category VI)

**The sovereignty question:** You ask "where does authority come from?" Schmitt answers: from the capacity to decide the exception. This is descriptive, not normative. But it forces the question: if not consent (liberal), then what?

**Against liberalism:** Schmitt's critique is the deepest available. Liberalism isn't wrong about particular policies; it's wrong about the nature of politics. It tries to substitute discussion for decision, procedure for sovereignty. This cannot work.

**Your position:** You "accept Schmitt's descriptive analysis but reject pure decisionism." This requires a grounding that Schmitt doesn't provide. Where does the sovereign's authority come from if not mere capacity?

### Serves: Theology (Category II)

**Secularization thesis:** Modern politics is theology in disguise. This cuts both ways: you can recover the theological by unmasking the political, or lose the theological by recognizing it as "merely" political. How you read Schmitt depends on your theological commitments.

**The God question:** If sovereignty mirrors God, what you believe about God shapes what you believe about sovereignty. A personal God who intervenes (miracle) implies a sovereign who decides (exception). A deist God who withdraws implies a constitutional order that runs mechanically.

### Serves: Methodology (Category V)

**Genealogical thinking:** Schmitt's method is genealogical — tracing modern concepts to their theological origins. This is your method too. The excavation of "secularized theological concepts" is Etymon-adjacent.

---

## Key Passages

> "Sovereign is he who decides on the exception."

> "All significant concepts of the modern doctrine of the state are secularized theological concepts."

> "The exception in jurisprudence is analogous to the miracle in theology."

> "Liberalism... has attempted to transform the enemy... into a debating adversary."

> "Every legal order rests on a decision, not on a norm."

---

## Authority Status

**Adopted as diagnostic, not normative.**

You use Schmittian analysis: sovereignty, the exception, the friend/enemy distinction. But Schmitt provides diagnosis, not prescription. He tells you what politics *is*; he doesn't tell you what it *should be*.

**The missing piece:** Schmitt is Catholic but his political theology is formal, not substantive. He tells you that political concepts are secularized theology but doesn't say which theology is true. You need to supply that.

**The danger:** Schmittian language can become cynical — "all politics is friend/enemy, so choose your friends wisely." This is true but insufficient. You want transcendent grounding, not just effective decision.

---

## Composition

**This source was captured for:**
- \`inst-credo-political\` (sovereignty, anti-liberalism)
- \`inst-credo-theology\` (secularization thesis)
- \`idx-credo-source-pipeline\` (Tier 3 political philosophy)

**This source enables:**
- Grounding your anti-liberal critique theoretically
- Forcing the question: if Schmitt is right descriptively, what grounds sovereignty normatively?
- Connecting political philosophy to theology`,
  },
  {
    id: 'src-spengler-decline-west',
    title: 'The Decline of the West',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['philosophy-of-history', 'spengler', 'civilization', 'culture', 'decline', 'morphology', 'fate'],
    content: `# The Decline of the West

**Author:** Oswald Spengler
**Published:** 1918 (Vol. 1), 1922 (Vol. 2)
**Category:** Philosophy of History

---

## Core Argument

Cultures are organisms. They are born, grow, mature, harden into Civilizations, and die. The West is in its Civilization phase — the autumn/winter of the cycle. This is not decline from some failure but the natural end of a life cycle that every great Culture undergoes.

History is not progressive; it is morphological. Each Culture is a self-contained world with its own soul, mathematics, art, politics, religion. There is no "humanity" progressing toward a goal — only discrete Cultures living out their destinies.

---

## Key Concepts

### Culture vs. Civilization
- **Culture:** living, creative, organic; Spring and Summer
- **Civilization:** fixed, sterile, mechanical; Autumn and Winter
- Culture creates; Civilization perfects and then decays
- The transition is irreversible
- Western Culture became Western Civilization around 1800

### Organic Morphology
- Cultures are like plants: they grow, bloom, wither, die
- Each Culture has a lifespan of roughly 1000 years
- The patterns repeat: Egypt, Classical, Arabian, Western
- Comparative morphology reveals common phases

### The Faustian Soul
- Each Culture has a "soul" — a prime symbol that shapes everything
- Western soul is "Faustian": infinite striving, dynamic space, will to power
- Compare: Classical soul is "Apollonian": bounded, static, present
- Our mathematics (calculus, infinite series) express our soul

### Caesarism
- In late Civilization, democracy exhausts itself
- Great individuals (Caesars) emerge to rule directly
- Not a return to monarchy but a new form: rule by force of personality
- Spengler predicted this for the 20th-21st century West

### Destiny vs. Causality
- Science thinks in causality: A causes B
- History thinks in destiny: what must become
- Cultures unfold according to their inner necessity
- You can't stop decline; you can only understand your place in it

### The Prussian Ethic
- Spengler was German; he hoped Germany would lead Civilization's final phase
- The "Prussian socialist": duty, service, hierarchy, discipline
- Not Marxist socialism but state-directed economy for national purpose
- This influenced his later political writings (*Prussians and Socialism*)

---

## Relation to Bedford Credo

### Serves: Philosophy of History (Category VIII)

**The central question:** Are we in civilizational decline (Spengler), cosmic decline (Traditionalist Kali Yuga), or does Christian hope break the cycle? This is unresolved in your credo.

**Spengler's diagnosis:** Yes, we are in decline. Western Culture peaked; we're in late Civilization. The symptoms: money-thinking, cosmopolitanism, sterile refinement, loss of organic community.

**The tension:** If Spengler is right, is building futile? You can only "manage decline" (the statesman's role in late Civilization). But Christian eschatology says the cycle can be broken.

### Serves: Political Philosophy (Category VI)

**Caesarism:** Spengler predicts democratic forms will be superseded by strong individuals. Does this shape your strategic posture? If democratic politics is theater (late Civilization symptom), apoliteia makes sense.

**Against liberalism:** Liberalism is a symptom of civilizational autumn — the money-class ideology. Not an eternal truth but a phase-specific error.

### Serves: Methodology

**Morphological thinking:** Spengler's method is pattern-recognition across Cultures. This is genealogical in a different key: not excavating terms but comparing life-cycles.

**Comparative intuition:** You can use Spenglerian comparison without accepting his conclusions. Where are we in the pattern? What does Rome's trajectory suggest about ours?

---

## Key Passages

> "The Decline of the West... comprises nothing less than the problem of Civilization."

> "Cultures are organisms. World-history is their collective biography."

> "The transition from Culture to Civilization was accomplished for the Classical world in the fourth century, for the Western in the nineteenth."

> "In place of a world, there is a city, a point, in which the whole life of broad regions is collecting while the rest dries up."

> "Democracy is the political form of the bourgeoisie; Caesarism is the political form of the late period."

---

## Authority Status

**Engaged, diagnostic.**

Spengler provides vocabulary you use: Culture/Civilization, morphological thinking, civilizational decline. His diagnosis of late-Western symptoms resonates.

**Not adopted because:**
- Spengler denies transcendence — Cultures are closed systems
- No salvation history, no Christ breaking the cycle
- Ultimately fatalistic: you can understand decline but not escape it

**The Christian question:** If Christ rose, the cycle can be broken. Spengler has no room for this. You can use his diagnostics while rejecting his metaphysics.

**The Faustian problem:** Spengler celebrates the Faustian soul — infinite striving. But your oikonomia position rejects infinite accumulation. Are you betraying the Western soul or transcending it?

---

## Composition

**This source was captured for:**
- \`inst-credo-history\` (where are we in the pattern?)
- \`inst-credo-political\` (Caesarism, anti-democracy)
- \`idx-credo-source-pipeline\` (Tier 2 philosophy of history)

**This source enables:**
- Grounding the civilizational decline diagnosis
- Forcing the Christian hope vs. cyclic fate question
- Providing comparative vocabulary for political analysis`,
  },
  {
    id: 'src-systems-thinking',
    title: 'Systems Thinking',
    type: 'source',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['systems', 'complexity', 'feedback', 'emergence', 'meadows', 'senge', 'bertalanffy'],
    content: `# Systems Thinking — Wikipedia Overview

**Source:** Wikipedia article
**Type:** encyclopedia entry / synthesis
**URL:** https://en.wikipedia.org/wiki/Systems_thinking

---

## Summary

Systems thinking is an approach to understanding reality that emphasizes relationships among parts rather than the parts themselves. A system is defined as a group of interacting, interrelated, and interdependent components forming a complex unified whole. The discipline emerged from biology in the 1930s through Ludwig von Bertalanffy's General Systems Theory and was developed through cybernetics, operations research, and environmental applications.

The field is characterized by productive "fractiousness"—multiple schools of thought with different methodologies, from hard quantitative approaches (system dynamics, simulation models) to soft participatory methods (Checkland's Soft Systems Methodology). This diversity enables tailored applications across domains while maintaining theoretical coherence around core concepts: feedback loops, emergence, interconnection, and self-organization.

Peter Senge defines systems thinking as "a discipline for seeing wholes and a framework for seeing interrelationships rather than things, for seeing patterns of change rather than static snapshots."

## Key Claims

1. **Systems exhibit circular causality**: Outputs feed back to influence inputs, creating self-regulating or self-reinforcing dynamics that linear thinking misses
2. **Wholes have emergent properties**: System behavior cannot be predicted from isolated parts; it arises from interactions and relationships
3. **Leverage points exist**: Donella Meadows identified specific intervention points where small changes produce large systemic effects
4. **Hard/soft distinction matters**: Not all problems are technically definable; socially-constructed "messy" problems require participatory methods

## Vocabulary

| Term | Definition | Significance |
|------|------------|--------------|
| **Feedback loop** | Output of a system that influences its future behavior | Enables self-regulation; explains both stability and runaway dynamics |
| **Stock** | Accumulation within a system (inventory, population, knowledge) | What you can measure at a moment in time |
| **Flow** | Rate of change to a stock (inflows and outflows) | What changes stocks over time |
| **Emergence** | Properties of wholes not predictable from parts | Why reductionism fails for complex systems |
| **Leverage point** | Intervention location where small effort yields large effect | Strategic focus for change agents |
| **Soft system** | Problem situation that is socially constructed, not technically defined | Requires participatory, not just analytical, methods |
| **Viable System Model** | Stafford Beer's framework for organizational resilience | Systems thinking applied to management |

## Key Theorists

| Thinker | Period | Contribution |
|---------|--------|--------------|
| Ludwig von Bertalanffy | 1930s-60s | Founded General Systems Theory as interdisciplinary framework |
| Norbert Wiener | 1940s-60s | Developed cybernetics; formalized feedback mechanisms |
| Jay Forrester | 1960s-90s | Created system dynamics at MIT; causal modeling |
| Stafford Beer | 1960s-80s | Management cybernetics; Viable System Model |
| Peter Checkland | 1970s-90s | Soft Systems Methodology for messy problems |
| Donella Meadows | 1970s-2000s | Environmental systems; leverage points framework |
| Michael Jackson & Robert Flood | 1990s-present | Critical systems thinking; ethics and power |

## Traditions Within the Field

**Hard Systems Thinking**
- System dynamics, operations research
- Assumes problems are technically definable
- Uses mathematical models and simulations
- Jay Forrester, MIT tradition

**Soft Systems Thinking**
- Soft Systems Methodology (SSM)
- Acknowledges socially-constructed problems
- Participatory, interpretive methods
- Peter Checkland, Tavistock tradition

**Critical Systems Thinking**
- Emphasizes power dynamics and ethics
- Questions whose interests systems serve
- Jackson and Flood

**Ecological/Environmental Systems**
- Donella Meadows, Limits to Growth
- Natural-human system interactions
- Sustainability focus

---

## Connections

### Frameworks This Informs

- **fw-context-weaving** — Systems thinking's emphasis on relationships over parts aligns with weaving metaphor; both reject atomistic analysis
- **fw-diagnostic-frames** — Feedback loops and emergence provide diagnostic vocabulary for identifying systemic vs. symptomatic issues
- **fw-oikonomia-chrematistics** — Systems perspective illuminates how chrematistic extraction breaks feedback loops that oikonomia maintains

### Instances This Unlocks

- **inst-operative** — "Operative" as someone who works within systems while seeing leverage points
- Potential excavation: SYSTEM, FEEDBACK, EMERGENCE

### Related Sources

- Meadows, D. H. (2008). *Thinking in Systems: A Primer* — The canonical accessible introduction
- Senge, P. M. (2006). *The Fifth Discipline* — Systems thinking for organizations
- Beer, S. *Brain of the Firm* — Viable System Model
- src-vervaeke-awftmc — Vervaeke's participatory knowing connects to soft systems emphasis on interpretation

---

## Reading Notes

### General Systems Theory (Bertalanffy)

The insight that systems across domains—biological, mechanical, social—share common principles. A liver, a thermostat, and an economy all exhibit feedback regulation. This was radical: it claimed transferable knowledge across disciplinary boundaries.

### Cybernetics (Wiener)

Formalized the feedback concept. Negative feedback stabilizes (thermostat maintains temperature). Positive feedback amplifies (bank run, arms race). Understanding which type operates is diagnostic.

### System Dynamics (Forrester)

Made systems thinking computational. Stock-flow diagrams create simulatable models. The Limits to Growth (1972) used this to show exponential growth hitting resource limits—controversial but influential.

### Soft Systems Methodology (Checkland)

Recognized that many problems aren't technically defined but socially constructed. Different stakeholders see different "problems." SSM uses rich pictures and root definitions to surface these differences before attempting solutions. Anti-technocratic.

### Leverage Points (Meadows)

Her hierarchy of intervention points, from least to most effective:
- Parameters (subsidies, taxes) — weakest
- Feedback loops — stronger
- Information flows — stronger still
- Rules of the system — powerful
- Goals of the system — more powerful
- Paradigms — most powerful but hardest

This provides strategic guidance: don't fiddle with parameters when the paradigm is wrong.

---

## Status

**Current:** incubating

**To verify:**
- [ ] Read Meadows' *Thinking in Systems* fully
- [ ] Compare with existing frameworks (context-weaving, diagnostic-frames)
- [ ] Identify specific leverage point applications in loomlib
- [ ] Decide if SYSTEM or FEEDBACK deserve excavation treatment`,
  },
  {
    id: 'inst-agonal-identity',
    title: 'AGONAL IDENTITY',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-etymon-method', 'fw-agonal-identity'],
    source_id: null,
    output: 'etymon',
    status: 'verified',
    tags: ['etymology', 'agon', 'contest', 'identity', 'greek'],
    content: `# AGONAL IDENTITY

**Type:** Instance
**Frameworks:** Etymon Method, Agonal Identity
**Output:** Etymon
**Status:** Verified

## Identity THROUGH Contest

The operator: **THROUGH** — method of formation

---

## Excavation

Greek *agon* — contest, competition, struggle. Also: the gathering where contests happened. Also: the struggle of the dramatic plot.

Not merely "conflict." The agon was a structured arena where excellence revealed itself. Athletic contests, dramatic competitions, philosophical debates, political assemblies — all agones.

The key: identity was formed *through* contest, not asserted *before* it. You did not know who you were and then compete. Competition was how you discovered who you were and showed it to others.

## The Structure

Homer's heroes needed worthy opponents. Achilles required Hector. Without a great enemy, there could be no great victory. Destroying all opponents would destroy the field that made excellence legible.

| Agonal | Anti-Agonal |
|--------|-------------|
| Identity through contest | Identity before contest |
| Opponent necessary | Opponent merely obstacle |
| Victory reveals | Victory eliminates |
| Iterated games | Terminal victory |
| Honor in loss | Shame in loss |
| Mutual elevation | Zero-sum destruction |

## Drift

**Contest → Competition → Combat → Cancellation**

1. **Agonal contest:** Identity formed through structured struggle against worthy opponents
2. **Competition:** Trying to win, opponents somewhat respected
3. **Combat:** Defeating enemies, opponent is threat
4. **Elimination:** Destroying opponents' capacity to compete at all

The terminal point: you don't defeat your opponent's argument, you make it impossible for them to speak. You don't win the contest, you end the contest by removing contestants.

## Modern Degradation

- **Platform competition:** Not winning customers, destroying rivals
- **Political discourse:** Not defeating arguments, delegitimizing speakers
- **Academic status:** Not better work, but hoarding positions
- **Social media:** Performative destruction rather than productive conflict

When "winning" means ending the game rather than succeeding within it, the agonal has collapsed.

## Recovery

What would agonal structures look like today?

- **Worthy rival cultivation:** Actively strengthening your best opponents
- **Iterated games:** Designing for ongoing contest, not final victory
- **Honor in loss:** Defeat as education, not elimination
- **Agonal friendship:** Relationships structured through challenge
- **Identity stakes:** Contests where you discover who you are, not just what you get

The question: Does this competition make everyone involved more of who they are? Or does it diminish everyone including the winner?

---

## The Compression

**AGONAL IDENTITY:** The Greeks knew that contest reveals character — you find out who you are by struggling against worthy opponents. Modern "competition" often aims to eliminate opponents entirely, ending the game rather than winning it. Recovery means restoring the productive struggle that forms identity through challenge.`,
  },
  {
    id: 'inst-ai-prompting-philology',
    title: 'AI PROMPTING as PHILOLOGY',
    type: 'instance',
    framework_kind: null,
    perspective: 'linguistic-recovery',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'verified',
    tags: ['etymology', 'prompting', 'philology', 'ai', 'llm'],
    content: `# AI PROMPTING as PHILOLOGY

**Type:** Instance
**Frameworks:** Etymon Method
**Output:** Etymon
**Status:** Verified

## Prompting AS Philology

The operator: **AS** — unexpected identity

---

## The Connection

Philology: loving attention to texts, sensitivity to what words carry, awareness of how language shapes what's thinkable.

Prompting: the craft of giving language to an AI system in ways that shape its outputs.

The claim: good prompting *is* philological work. Not metaphorically. Actually.

## The Parallel

| Philological Attention | Prompting Craft |
|-----------------------|-----------------|
| Words carry histories | Words activate patterns |
| Connotation matters | Token associations matter |
| Context shapes meaning | Context shapes completion |
| Precision reveals capacity | Precision unlocks capability |
| Loving attention to texts | Careful attention to prompts |

The philologist knows that "context" means weaving, and this changes how they use the word. The good prompter knows that word choice activates different latent patterns, and this changes how they write prompts.

## What Prompting Teaches About Language

Working with language models reveals:
- Words are not transparent windows to meaning
- Small changes in phrasing produce large changes in output
- Context (the weave of what's present) constitutes meaning
- Language has its own tendencies, grooves, attractors

The prompter learns what the philologist knows: language is not a neutral medium. It has grain. Work with the grain and meaning flows. Work against it and things jam.

## The Inverse

Philology improves prompting:
- Etymological awareness → richer word choice
- Sensitivity to connotation → better token selection
- Understanding of drift → recognition of what words activate
- Attention to context-as-weaving → better prompt architecture

Someone who has excavated CONTEXT prompts differently than someone who thinks context is just "background information."

## The Meta-Level

This video is itself both:
- A philological excavation (of "prompting")
- A prompt (deploying the Etymon framework)

The method demonstrates itself. The Etymon project is philological prompting — or prompted philology. The distinction collapses.

---

## The Compression

**AI PROMPTING AS PHILOLOGY:** Good prompting requires exactly what philology develops — loving attention to words, sensitivity to connotation, awareness that language shapes what's thinkable. The prompter and the philologist both know that words are not transparent. This video shows the identity between two practices that look unrelated.`,
  },
  {
    id: 'inst-alliance-empire',
    title: 'ALLIANCE TO EMPIRE',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'verified',
    tags: ['etymology', 'alliance', 'empire', 'delian-league', 'drift'],
    content: `# ALLIANCE TO EMPIRE

**Type:** Instance
**Frameworks:** Etymon Method
**Output:** Etymon
**Status:** Verified

## ALLIANCE BEFORE Empire

The operator: **BEFORE** — temporal excavation

---

## Excavation

The Delian League, 478 BCE. Greek city-states allied against Persia. The treasury kept on the sacred island of Delos — neutral ground.

*Alliance:* From Old French *aliance*, from *alier* — to unite, combine. Ultimately from Latin *alligare* — to bind to.

An alliance was a binding-together of separate parties who remained separate. Horizontal. Mutual. Voluntary. Withdrawable.

The structure: autonomous members, shared treasury, common defense, collective decision-making. Athens was leader (*hegemon*), but first among equals.

## The Turn

454 BCE. Athens moved the treasury from Delos to Athens. For "safekeeping."

The alliance became an empire. The shared fund became Athenian revenue. "Contributions" became "tribute." Withdrawal became rebellion. Allies became subjects.

The form persisted — they still called it an alliance. The substance transformed. What was horizontal became vertical. What was voluntary became compulsory. What was mutual became extractive.

## Drift

**Alliance → Hegemony → Empire**

The same pattern repeats:
- NATO: mutual defense treaty → American command structure
- EU: common market → supranational governance
- Platforms: "partners" → dependent suppliers
- Franchises: "business opportunity" → controlled operators

The tell: When can you leave? If exit is impossible, expensive, or punished — you're not in an alliance. You're in an empire that calls itself an alliance.

## The Diagnostic Questions

For any "alliance," "partnership," "coalition," or "network":

1. **Where's the treasury?** Who holds the shared resources?
2. **What does exit cost?** Can members leave without punishment?
3. **Who decides?** Is governance genuinely shared or formally shared?
4. **What's the direction of flow?** Do resources move between members or toward a center?
5. **What vocabulary is used?** "Partner" and "ally" can mask "subject" and "tributary."

## Recovery

What would genuine alliance require?

- **Distributed treasury:** Shared resources not held by the hegemon
- **Exit rights:** Withdrawal possible without destruction
- **Rotating leadership:** Hegemony as temporary, not permanent
- **Mutual benefit accounting:** Clear tracking of who gives and gets
- **Vocabulary discipline:** Calling empire "empire" when that's what it is

---

## The Compression

**ALLIANCE TO EMPIRE:** The Delian League moved the treasury and became the Athenian Empire. The binding-together became subjection. Every "partnership" risks this drift — horizontal to vertical, mutual to extractive, voluntary to compulsory. The diagnostic: Can you leave?`,
  },
  {
    id: 'inst-capital',
    title: 'CAPITAL',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-etymon-method', 'fw-oikonomia-chrematistics'],
    source_id: null,
    output: 'etymon',
    status: 'verified',
    tags: ['etymology', 'capital', 'wealth', 'accumulation', 'cattle', 'mortality'],
    content: `# CAPITAL

**Type:** Instance
**Frameworks:** Etymon Method, Oikonomia vs Chrematistics
**Output:** Etymon
**Status:** Verified

## CAPITAL FROM Cattle

The operator: **FROM** — traces derivation

---

## I. THE WORD

**Latin:** *caput* — head
**Medieval Latin:** *capitale* — property, stock, principal sum
**The bridge:** *capita* — heads of cattle, counted individually
**Related:** *pecuniary* from *pecus* (cattle); *fee* from Germanic *fehu* (livestock)

---

## II. EXCAVATION

### The Head

*Caput* is the head. The chief thing. What sits at the top. Capital punishment is losing your head. The capital city is where the head of state sits.

The head is where life is. Where decision happens. Where the face meets the world.

### The Cattle

Wealth was counted in heads. *Capita*. How many head of cattle do you own?

This is not metaphor — it's the literal origin of countable wealth. Cattle were:
- **Moveable** (unlike land)
- **Countable** (unlike grain in a silo)
- **Reproductive** (they make more of themselves)
- **Mortal** (they die, they require care, they have limits)

Money remembers animals. The head count was the wealth count. Your *capital* was your heads.

### The Principal

When money lending formalized, the principal sum was called *capitale*. The interest was the increase, the offspring. But the capital was the head — the chief thing.

This preserves the cattle logic: the principal is the breeding stock. Interest is what it produces. You don't eat the breeding stock.

---

## III. DRIFT

### From Heads to Fund

Capital stops being countable heads and becomes an abstract fund. Not "300 head of cattle" but "a capital of 300 pounds." The abstraction seems innocent. But cattle exist somewhere. They require pasture. They get sick. They die. A "fund" floats free.

### From Mortal to Immortal

Cattle die. Every rancher knows the herd must be maintained, replaced, renewed. Wealth-as-cattle has a built-in horizon. It requires *tending*.

Capital-as-fund doesn't die. It can compound infinitely. The logic of the livestock — bounded by biology, by carrying capacity — disappears. This is when chrematistics wins.

### From Object to Subject

The deepest drift: capital becomes an *agent*.

"Capital seeks returns." "Capital flows to opportunity." "Capital demands efficiency."

We speak as if capital *does things*. The human holding capital disappears. Capital itself becomes the protagonist. When capital is the subject, people become the means.

### From Stock to Logic

Final form: "capitalism." Not capital as something you have, but capital as *organizing principle*. The word no longer means your heads of cattle. It means the system. The totality.

---

## IV. FOR PART III: READING THE BALANCE SHEET

**Assets vs. Capital:** Assets are what the firm *has*. Capital appears on the right side — how assets were *funded*. Debt capital (someone else's heads, lent). Equity capital (owners' heads, at risk). The balance sheet maps whose heads are at stake.

**The Capital Stack:** Senior debt, junior debt, mezzanine, preferred equity, common equity. A hierarchy of heads. Who loses their head first? The stack is mortality in slow motion.

**Return on Capital:** ROC asks: what did the heads produce? High ROC means the heads are productive. Low ROC means you're running too many cattle for the grass.

---

## V. RECOVERY

Three questions to hold:

1. **Whose head is this?** When you read "capital," ask: who decides its deployment? Who bears the consequences?
2. **What's the carrying capacity?** How much capital can this system support before overgrazing?
3. **What tending does it require?** Capital deployed in a business requires management, maintenance, reinvestment. What happens if it isn't tended?

---

## VI. THE SCRIPT STRUCTURE

**Hook:** "Capital" means head. As in: decapitate. As in: the heads of cattle your grandfather counted. Somewhere between the ranch and the Bloomberg terminal, the head disappeared.

**Excavation:** The Latin, the cattle, the principal sum. What the word knew.

**Drift:** Fund replaces herd. Immortality replaces mortality. Agent replaces object. System replaces stock.

**Stakes:** When capital loses its head, we stop asking whose. The faceless fund seems to have its own desires. But capital is someone's heads. Recovering the head means recovering the person.

**Recovery:** Three questions. Whose head? What's the carrying capacity? What tending?

**Close:** The rancher counted heads because heads could be lost. Capital that can't be lost, that doesn't die, that tends itself — that's not wealth. That's something else. The word remembers what we've forgotten.

---

## The Compression

**CAPITAL:** From heads of cattle to abstract accumulation. Living wealth became undying wealth. The herd that could die became the fund that compounds forever. Recovery means remembering that real capital is mortal — and asking what dies when it dies.`,
  },
  {
    id: 'inst-cartography-philology',
    title: 'CARTOGRAPHY OF PHILOLOGY',
    type: 'instance',
    framework_kind: null,
    perspective: 'linguistic-recovery',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'verified',
    tags: ['etymology', 'philology', 'cartography', 'meta', 'method'],
    content: `# CARTOGRAPHY OF PHILOLOGY

**Type:** Instance
**Frameworks:** Etymon Method
**Output:** Etymon
**Status:** Verified

## The Meta-Video

The operator: **OF** — the method applied to itself

---

## Excavation

*Philology:* Greek *philos* (loving) + *logos* (word, speech, reason). The love of words. The love of *logos*.

Not linguistics (the science of language). Not literary criticism (the interpretation of texts). Philology was a mode of attention — loving attention to texts, to words, to what language carries.

*Cartography:* Greek *khartēs* (papyrus leaf, map) + *graphein* (to write). The writing of maps.

Cartography of philology: mapping the territory of loving attention to words.

## The Method as Territory

The Etymon project is itself a philological act. Each video performs what it describes:
- **Excavation:** Digging to the root
- **Drift:** Tracing the degradation
- **Recovery:** Asking what capacity was lost

This video maps that method. It's the legend that makes the other maps readable.

## What Philology Notices

The philologist attends to:
- **Etymology:** Where did this word come from?
- **Semantic drift:** How has meaning changed?
- **Connotation loss:** What associations have faded?
- **Operational decay:** What could you *do* with this word that you can't do now?
- **False friends:** Words that look the same but mean different things across time

## The Cadre Question

Who is philological work for?

The "cadre" — post-tribal, action-oriented, 25-40, seeking frameworks not team membership. People who want to *see* better, not just know more. Who suspect that degraded language is part of why things feel stuck.

Philology gives them diagnostic tools. When someone says "context," you hear "weaving." When they say "capital," you hear "cattle." The excavations change what you notice.

## Deployment

This video orients viewers to the channel:
1. What philology is (loving attention to words)
2. What the method is (excavation → drift → recovery)
3. What the operators do (structure the excavations)
4. What the payoff is (transformed seeing, not just knowledge)
5. How to use the videos (diagnostic tools, not trivia)

---

## The Compression

**CARTOGRAPHY OF PHILOLOGY:** The map of the method. Philology as loving attention to words, not mere word-science. The Etymon project performs what it describes — each excavation is a philological act. This video tells you how to read the other maps.`,
  },
  {
    id: 'inst-context',
    title: 'CONTEXT',
    type: 'instance',
    framework_kind: null,
    perspective: 'linguistic-recovery',
    framework_ids: ['fw-etymon-method', 'fw-context-weaving'],
    source_id: null,
    output: 'etymon',
    status: 'verified',
    tags: ['etymology', 'weaving', 'container', 'drift', 'attention'],
    content: `# CONTEXT

**Type:** Instance
**Frameworks:** Etymon Method, Context as Weaving
**Output:** Etymon
**Status:** Verified

## CONTEXT AS Weaving

The operator: **AS** — recovers original sense

---

## Excavation

Latin *contextus* — a joining together, connection. Past participle of *contexere*: to weave together.

*Con-* (together) + *texere* (to weave).

The same root gives us *text* and *textile*. A text was woven. Context was the weaving-together that produced it. Context is not a space that holds things — it's the **act of interweaving**.

---

## Drift

**Weaving → Surrounding → Container → "Background"**

1. **Weaving together:** Active creation of relational structure
2. **What surrounds:** The circumstances around a thing
3. **Container:** The box you put information in
4. **Background:** Stuff you mention before the real content

Modern usage: "Let me give you some context" = "Here is information that precedes what I actually want to say."

The "context window" metaphor completes the drift: context as container with size limits. Fill it or don't. The question becomes quantitative. This loses the relational logic entirely.

---

## What the Drift Costs

Each element added creates relational possibilities with every other element. You're not filling a bucket. You're adding threads to a loom. The wrong thread doesn't just take up space — it tangles the entire weave.

If context is a container:
- More information is always better
- Order doesn't matter
- Context is separate from content
- Anyone can provide context

If context is weaving:
- Quality of relation matters more than quantity
- Order of introduction shapes what patterns emerge
- Context *is* the structure that makes content meaningful
- Weaving is a skill

---

## ATTENTION: Stretching Toward

The transformer architecture uses "attention mechanisms." Etymology: Latin *attendere*, "to stretch toward" (*ad-* to + *tendere* to stretch).

Transformers "overallocate attention to irrelevant context." This is the failure of **discriminate attention** — stretching toward everything present rather than toward what matters.

If you put twenty things in context, the model stretches toward all twenty. Chekhov's gun: the model assumes everything present must be used.

Minimal CLAUDE.md files outperform bloated ones. Not because of token limits — because of attention distribution.

---

## Recovery

Context-as-weaving recovers:

1. **Relational thinking:** The question isn't "does this fit?" but "what relations does this introduce?"

2. **Pruning as essential craft:** If context is weaving, pruning is *part of the making* — deciding which threads don't belong in this fabric.

3. **The 20-turn cliff as pattern collapse:** Where the weave becomes too dense. Too many threads crossing too many other threads. The fabric can no longer hold a coherent pattern. It's not token exhaustion — it's relational overload.

---

## The Production Model

**Context is the loom. The artifact is the fabric.**

You don't "give context." You weave it. The quality of what can be made depends on the quality of the weave.

---

## The Compression

**CONTEXT:** From weaving-together to container. The active creation of relational structure became passive information storage. Recovery means remembering that context isn't background — it's the loom that makes the pattern possible.`,
  },
  {
    id: 'inst-history',
    title: 'HISTORY of HISTORY',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'verified',
    tags: ['etymology', 'history', 'inquiry', 'herodotus', 'method'],
    content: `# HISTORY of HISTORY

**Type:** Instance
**Frameworks:** Etymon Method
**Output:** Etymon
**Status:** Verified

## HISTORY FROM Inquiry

The operator: **FROM** — traces derivation

---

## Excavation

Greek *historia* — inquiry, knowledge from inquiry, a narrative of what was learned through inquiry.

From *histor* — one who knows, a wise man, a judge. From *eidenai* — to know, related to *idein* — to see. The witness who has *seen*.

Herodotus opens his *Histories*: "This is the display of the inquiry (*historiē*) of Herodotus of Halicarnassus."

History was not "the past." History was *inquiry into* the past. Active investigation. The historian was the one who asked questions, traveled, interviewed, compared accounts, and judged what likely happened.

## Drift

**Inquiry → Account → Record → The Past Itself**

1. **Inquiry:** Active investigation, judgment, witness
2. **Account:** The narrative produced by inquiry
3. **Record:** Documentation of what happened
4. **The past:** "History" = what occurred, not the investigation of it

Modern usage: "That's history" = "That's over." "History teaches us..." = "The past shows us..."

The inquirer disappeared. History became a container of fixed facts rather than an ongoing investigation. The question "how do we know?" became invisible.

## What the Drift Costs

If history is inquiry:
- The historian's judgment is present
- Sources are evaluated, compared, questioned
- "History" is always provisional, subject to better inquiry
- The question is "how can we find out?"

If history is the past:
- Facts are simply there to be collected
- The historian is a passive recorder
- "History" is fixed, known, unquestionable
- The question is "what happened?"

## The Methodological Loss

Herodotus judged sources. He said "I am obliged to report what is said, but I am not obliged to believe it." He compared accounts. He noted when stories conflicted.

The historian-as-inquirer knew that evidence was incomplete, witnesses unreliable, accounts interested. Inquiry meant wrestling with that uncertainty.

The historian-as-recorder assumes the past is accessible. Just find the documents. History becomes data retrieval.

## Recovery

What would history-as-inquiry look like?

- **Visible judgment:** Historians showing their reasoning, not hiding behind "the facts"
- **Source criticism foregrounded:** How do we know what we claim to know?
- **Inquiry as ongoing:** "History" as verb, not just noun
- **The histor restored:** The one who asks, investigates, sees, judges

---

## The Compression

**HISTORY:** From inquiry to record. Herodotus investigated, judged, and displayed his inquiry. Modern "history" means the past itself — a container of facts. Recovery means restoring the inquirer: the one who asks how we know, compares sources, and judges what likely happened.`,
  },
  {
    id: 'inst-scope-command-discovery-patterns',
    title: 'Scope: Command Discovery Patterns for Conducting Frontmatter',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['scope', 'commands', 'discovery', 'conducting', 'frontmatter', 'composition'],
    content: `# Scope: Command Discovery Patterns for Conducting Frontmatter

**Date:** 2026-01-08
**Subject:** How loomlib commands discover related documents and write appropriate frontmatter
**Method:** Scope Method
**Precursor:** inst-scope-conducting-frontmatter-agent-pov

---

## The Real Problem

The commands in \`.claude/commands/loomlib*.md\` are **isolated**. Each command:
- Receives \`$ARGUMENTS\`
- Follows its protocol
- Writes a document
- Doesn't know what else exists

With conducting frontmatter, commands should:
- **Discover** related documents before producing
- **Read** their state (completed? blocked?)
- **Compose** by referencing upstream work
- **Write** frontmatter that enables downstream discovery

This isn't infrastructure — it's **command behavior**.

---

## Audit: Current Command Structure

### The Router (\`loomlib.md\`)

\`\`\`markdown
## Current Loomlib State (from seed-data.ts)
**Managed Frameworks (10):** ...
**Instances:** 16 (9 verified, 7 incubating)
\`\`\`

The router injects **static state** — framework names, counts. It doesn't show:
- Which documents are actionable
- What's pending vs completed
- What relates to the current \`$ARGUMENTS\`

### Individual Commands (\`loomlib:scope.md\`, etc.)

\`\`\`markdown
## Protocol
1. Audit the current UX
2. Identify affordances
3. Derive expectations
...

## Output
Write to: \`loomlib/docs/instance/scope-{slug}.md\`
\`\`\`

Commands have **no discovery step**. They go straight to production.

### What's Missing

| Current | Needed |
|---------|--------|
| Static state injection | Dynamic discovery of related docs |
| Isolated production | Composition with upstream docs |
| Descriptive frontmatter only | Conducting frontmatter in output |
| No precondition awareness | Check if upstream work exists |

---

## Affordances: What Discovery Enables

### Scenario: \`/loomlib:scope editor-persistence\`

**Without discovery:**
\`\`\`
Claude: *receives command*
Claude: *follows Scope Method protocol*
Claude: *produces scope document*
\`\`\`

**With discovery:**
\`\`\`
Claude: *receives command*
Claude: *globs for related docs*
        → Found: survey-editor-persistence.md
Claude: *reads survey frontmatter*
        → status: draft, execution.state: completed
Claude: *reads survey content*
        → Key files: editor.ts, documents.ts
        → Findings: persistence uses IndexedDB + markdown sync
Claude: *follows Scope Method, informed by survey*
Claude: *produces scope with upstream reference*
\`\`\`

### What Discovery Provides

1. **Context** — what's already known about this topic
2. **Preconditions** — is there a survey? Is it complete?
3. **Content** — findings to build on, not rediscover
4. **Relationships** — explicit upstream linkage

---

## Expectations: Command Behavior Patterns

### Pattern 1: Discovery Phase (via API)

Every actionable command should start with discovery using the loomlib API:

\`\`\`markdown
## Discovery

Before producing, query the loomlib API for related documents:

1. **Call the API:**
   \`\`\`bash
   # Get all documents (requires dev server running on port 5173)
   curl -s http://localhost:5173/api/docs
   \`\`\`

2. **Filter for related docs:**
   \`\`\`bash
   # Find surveys related to topic
   curl -s http://localhost:5173/api/docs | jq '[.[] | select(.id | contains("survey")) | select(.title | test("{topic}"; "i"))]'

   # Find any docs mentioning topic
   curl -s http://localhost:5173/api/docs | jq '[.[] | select(.title | test("{topic}"; "i"))]'
   \`\`\`

3. **Check state of matches:**
   - \`status\` — incubating, draft, verified
   - \`execution_state\` — pending, completed, blocked (if conducting fields present)
   - \`framework_ids\` — what method produced it

4. **Report findings:**
   - "Found completed survey: inst-survey-X"
   - "Found related scope (draft): inst-scope-Y"
   - "No prior work found for this topic"

5. **Decide:**
   - If precursor exists and is complete → proceed, reference as upstream
   - If precursor exists but incomplete → suggest completing it first
   - If no precursor needed → proceed fresh

**Note:** If dev server is not running, fall back to glob/read on \`loomlib/docs/\`.
\`\`\`

### Pattern 2: Conducting Frontmatter Output

Commands should write conducting fields appropriate to their type:

**Survey (actionable, research):**
\`\`\`yaml
# ─── CONDUCTING ─────────────────────────────────────────────
actionable: true
intent: research
execution:
  state: completed  # Survey is done when written
upstream: []  # Surveys typically start fresh
downstream: []  # Populated when scope references this
\`\`\`

**Scope (actionable, research → enables build):**
\`\`\`yaml
# ─── CONDUCTING ─────────────────────────────────────────────
actionable: true
intent: research
execution:
  state: completed
upstream:
  - doc: inst-survey-{topic}
    relation: informs
downstream: []  # Populated when implementation references this
\`\`\`

**Excavation (sometimes actionable):**
\`\`\`yaml
# ─── CONDUCTING ─────────────────────────────────────────────
actionable: true
intent: research
execution:
  state: completed
upstream:
  - doc: fw-etymon-method
    relation: method
\`\`\`

**Framework, Source, Index (not actionable):**
\`\`\`yaml
# ─── CONDUCTING ─────────────────────────────────────────────
actionable: false
# No execution tracking needed
\`\`\`

### Pattern 3: Composition Suggestion

After discovery, suggest how documents compose:

\`\`\`markdown
## Composition

Based on discovery:

**This scope builds on:**
- \`inst-survey-editor-persistence\` — provides file mapping and findings

**This scope enables:**
- Implementation work (code changes to editor.ts, documents.ts)
- Ticket drafting (Jira P2-XXXX)

**Related but not upstream:**
- \`inst-scope-list-view-aesthetic\` — different feature, same subsystem
\`\`\`

---

## Gaps: What Commands Can't Currently Do

### Gap 1: No Discovery Step in Templates (Blocking)

Current templates go straight to protocol. Need to add discovery as Step 0.

**Fix:** Add \`## Discovery\` section to actionable commands (survey, scope, excavate).

### Gap 2: Router Doesn't Use the API (Friction)

\`loomlib.md\` shows static framework counts, but **the API already exists**:

\`\`\`bash
# Returns ALL documents with frontmatter (when dev server running)
curl -s http://localhost:5173/api/docs
\`\`\`

**Fix:** Commands should call the API for discovery:
\`\`\`bash
# Find related surveys
curl -s http://localhost:5173/api/docs | jq '[.[] | select(.type == "instance") | select(.id | contains("survey")) | select(.title | test("editor"; "i"))]'

# Find pending actionable docs (once conducting fields exist)
curl -s http://localhost:5173/api/docs | jq '[.[] | select(.actionable == true) | select(.execution_state == "pending")]'
\`\`\`

This is simpler than glob/read — the API aggregates everything and returns JSON.

### Gap 3: No Standard for Grep-Friendly Frontmatter (Friction)

Nested YAML is hard to grep:
\`\`\`yaml
execution:
  state: pending  # grep "state: pending" won't find this reliably
\`\`\`

**Fix:** Design frontmatter to be grep-friendly where possible:
\`\`\`yaml
execution_state: pending  # Flat field, easy to grep
\`\`\`

Or accept that reading files is needed (not just grep).

### Gap 4: Conducting Fields Don't Exist Yet (Blocking)

Can't discover or write conducting frontmatter until schema is implemented.

**Fix:** This scope depends on schema implementation (Phases 1-2 of survey).

---

## Requirements: Command Template Updates

### Must Have

#### 1. Discovery Section for Actionable Commands

Add to \`loomlib:scope.md\`, \`loomlib:survey.md\`, \`loomlib:excavate.md\`:

\`\`\`markdown
## Discovery (before Protocol)

Query loomlib API for related documents:

1. **Call API** (if dev server running):
   \`\`\`bash
   curl -s http://localhost:5173/api/docs | jq '[.[] | select(.title | test("{topic}"; "i"))]'
   \`\`\`

   **Fallback** (if no dev server):
   \`\`\`bash
   ls loomlib/docs/instance/*{slug}*
   \`\`\`

2. For matches, note:
   - Document ID and title
   - \`status\` and \`execution_state\`
   - Key findings (read content if relevant)

3. Report to user:
   - What related documents exist
   - Their state (complete? draft?)
   - Whether they should be used as upstream

4. Proceed based on findings:
   - Reference completed upstream work
   - Suggest completing incomplete precursors
   - Note if starting fresh
\`\`\`

*Acceptance criteria:*
- [ ] Scope command queries API for related surveys before producing
- [ ] Survey command checks for existing surveys on same topic
- [ ] Excavate command checks for prior excavations of same term
- [ ] Commands gracefully handle dev server not running (fallback to glob)

#### 2. Conducting Frontmatter in Output Templates

Update output templates in each command:

**Survey output:**
\`\`\`yaml
---
# ─── DESCRIPTIVE ────────────────────────────────────────────
id: inst-survey-{slug}
title: "Survey: {Topic}"
type: instance
status: draft
framework_ids: [fw-survey-method]
# ...existing fields...

# ─── CONDUCTING ─────────────────────────────────────────────
actionable: true
intent: research
execution_state: completed
upstream: []
downstream: []
---
\`\`\`

**Scope output:**
\`\`\`yaml
---
# ─── DESCRIPTIVE ────────────────────────────────────────────
id: inst-scope-{slug}
title: "Scope: {Topic}"
type: instance
status: draft
framework_ids: [fw-scope-method]
# ...existing fields...

# ─── CONDUCTING ─────────────────────────────────────────────
actionable: true
intent: research
execution_state: completed
upstream:
  - doc: {discovered-survey-id}
    relation: informs
downstream: []
---
\`\`\`

*Acceptance criteria:*
- [ ] Survey, scope, excavate commands write conducting frontmatter
- [ ] Upstream references populated from discovery
- [ ] Non-actionable commands (source, index, framework) omit conducting fields or set \`actionable: false\`

#### 3. Flat Conducting Fields (Grep-Friendly)

Design conducting frontmatter with flat fields where possible:

\`\`\`yaml
# Instead of nested:
execution:
  state: completed
  started_at: ...

# Use flat:
execution_state: completed
execution_started_at: 2026-01-08T14:00:00Z
\`\`\`

This makes grep work:
\`\`\`bash
grep -l "execution_state: pending" loomlib/docs/instance/*.md
\`\`\`

*Acceptance criteria:*
- [ ] Core state fields are flat (execution_state, intent, actionable)
- [ ] Complex fields (upstream, downstream, requires) remain structured
- [ ] Grep patterns documented in command templates

### Should Have

#### 4. Router Enhancement (Dynamic State)

Update \`loomlib.md\` to include dynamic discovery:

\`\`\`markdown
## Actionable Documents (discovered)

Before routing, Claude should glob \`loomlib/docs/instance/\` to identify:
- Pending surveys/scopes that might relate to "$ARGUMENTS"
- Completed work that could inform production

This discovery informs routing decisions.
\`\`\`

#### 5. Composition Section in Output

Commands should write a composition section in document body:

\`\`\`markdown
---

## Composition

**Upstream (what informed this):**
- [Survey: Editor Persistence](inst-survey-editor-persistence) — file mapping, architecture findings

**Downstream (what this enables):**
- Implementation work
- Ticket drafting

**Related:**
- [Scope: List View Aesthetic](inst-scope-list-view-aesthetic) — different feature
\`\`\`

### Out of Scope

- **Automatic state updates** — commands write state at production time; no runtime engine
- **Blocking enforcement** — discovery suggests, doesn't prevent
- **Cross-document validation** — commands trust what they find

---

## Implementation Order

### Phase 1: Schema (from survey)
Implement conducting fields in \`types.ts\`, parsing in vite-plugin.

### Phase 2: Command Templates
1. Add Discovery section to scope, survey, excavate
2. Update output templates with conducting frontmatter
3. Update resolve command to mark \`execution_state: resolved\`

### Phase 3: Router Enhancement
1. Add discovery guidance to \`loomlib.md\`
2. Consider dynamic state injection (if feasible)

### Phase 4: Existing Document Migration
1. Add conducting frontmatter to existing surveys/scopes
2. Or leave them as-is (backward compatible)

---

## Example: Updated Scope Command

\`\`\`markdown
---
description: Scope a feature for UX requirements
argument-hint: [feature or subsystem to scope]
---

# Scope: $ARGUMENTS

## Discovery

Before producing, search for related work:

1. **Search for surveys:**
   \`\`\`
   Glob: loomlib/docs/instance/survey-*{slug}*
   \`\`\`

2. **Search for prior scopes:**
   \`\`\`
   Glob: loomlib/docs/instance/scope-*{slug}*
   \`\`\`

3. **For each match, read and report:**
   - ID, title, status
   - execution_state (if present)
   - Key findings summary

4. **Decide:**
   - If completed survey exists → use as upstream, reference findings
   - If incomplete survey exists → suggest completing first
   - If no survey → proceed, but note gap

## Protocol

[...existing Scope Method steps...]

## Output

Write to: \`loomlib/docs/instance/scope-{slug}.md\`

\`\`\`yaml
---
id: inst-scope-{slug}
title: "Scope: {Topic}"
type: instance
status: draft
framework_ids: [fw-scope-method]
source_id: null
output: loomcommander
perspective: null
tags: [scope, {topic}, {tags}]

# ─── CONDUCTING ─────────────────────────────────────────────
actionable: true
intent: research
execution_state: completed
upstream:
  - doc: {survey-id-from-discovery}
    relation: informs
downstream: []
---
\`\`\`

## Composition

After writing, report:
- What upstream documents informed this scope
- What downstream work this enables
- Related documents discovered but not used
\`\`\`

---

## Scope Status

**Status:** verified → resolved

**Resolution criteria met:**
- [x] Discovery section added to all document-producing commands
- [x] Output templates include conducting frontmatter
- [x] Commands successfully discover and reference upstream work

---

## Resolution

**Date:** 2026-01-08
**Status:** resolved

### What Was Done

Discovery patterns implemented across all 8 document-producing commands:
- Each command now has a Discovery section with API queries
- Each command outputs conducting frontmatter
- Post-completion reporting added to all commands

### Outcome

The Universal Discovery Pattern from this scope is now the standard for all loomlib commands.

### Remaining Items

None — scope requirements implemented.`,
  },
  {
    id: 'inst-scope-conducting-frontmatter-agent-pov',
    title: 'Scope: Conducting Frontmatter from Agent POV',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['scope', 'conducting', 'frontmatter', 'claude-code', 'agent', 'runtime'],
    content: `# Scope: Conducting Frontmatter from Agent POV

**Date:** 2026-01-08
**Subject:** Does conducting frontmatter make sense from Claude Code's runtime perspective?
**Method:** Scope Method (applied to agent execution)
**Precursor:** inst-survey-conducting-frontmatter-deps

---

## The Question

The conducting frontmatter schema adds fields like \`actionable\`, \`execution.state\`, \`requires\`, \`completion\`. But **who reads these fields and when?**

From my perspective as Claude Code executing a \`/loomlib:survey\` command:
1. What do I currently do?
2. What would conducting frontmatter change?
3. Does this actually help me work better with you?

---

## Audit: Current Claude Code Behavior

### What Happens Now (Runtime)

\`\`\`
User: /loomlib:survey editor persistence

┌─────────────────────────────────────────────────────────────┐
│ Claude Code receives:                                        │
│ - Command template (loomlib:survey.md)                       │
│ - $ARGUMENTS = "editor persistence"                          │
│ - Injected context (loomlib state, frameworks, etc.)         │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│ Claude Code executes:                                        │
│ 1. Read command template → understand protocol               │
│ 2. Glob/Grep → find relevant files                          │
│ 3. Read files → understand code                             │
│ 4. Write markdown → produce survey document                 │
│ 5. Done                                                     │
└─────────────────────────────────────────────────────────────┘
\`\`\`

**Key observation:** I don't read the frontmatter of existing documents to decide what to do. The command template tells me what to do. The frontmatter I *write* is for the loomlib app, not for my future self.

### What I Actually Use

| Input | How I Use It |
|-------|--------------|
| Command template | Protocol to follow (Survey Method steps) |
| $ARGUMENTS | What to investigate |
| Injected context | Current loomlib state (what frameworks exist) |
| Codebase files | Source of truth for investigation |

| Output | Who Uses It |
|--------|-------------|
| Markdown document | Loomlib app (displays in UI) |
| Frontmatter | Loomlib app (indexes, filters, graphs) |

**I don't consume my own output.** Each command invocation is stateless from my perspective. I don't remember previous surveys or check if preconditions are met.

---

## Affordances: What Conducting Frontmatter Promises

The schema promises:

### 1. Precondition Checking
\`\`\`yaml
requires:
  docs: [inst-survey-editor-persistence]
  files: [loomlib/src/views/editor.ts]
  state: ["Survey completed"]
\`\`\`

**Promise:** Before running \`/loomlib:scope editor-persistence\`, I would check that the survey exists.

### 2. State Tracking
\`\`\`yaml
execution:
  state: pending | in_progress | completed
  started_at: 2026-01-08T14:30:00Z
\`\`\`

**Promise:** Track where documents are in their lifecycle.

### 3. Chain Orchestration
\`\`\`yaml
completion:
  next: inst-implement-editor-persistence
downstream:
  - { doc: inst-implement-feature, relation: "enables" }
\`\`\`

**Promise:** Know what document comes next, trigger it automatically.

---

## Expectations: What Would This Look Like in Practice?

### Scenario: User says "implement conducting frontmatter"

**Without conducting frontmatter (current):**
\`\`\`
User: implement conducting frontmatter
Claude: *reads CLAUDE.md, sees workflow*
Claude: *searches for relevant context*
Claude: *finds survey document by grepping*
Claude: *reads survey, understands what to do*
Claude: *implements*
\`\`\`

**With conducting frontmatter (proposed):**
\`\`\`
User: implement conducting frontmatter
Claude: *reads CLAUDE.md, sees workflow*
Claude: *queries loomlib for docs where downstream contains "conducting frontmatter"*
Claude: *finds survey with execution.state = "ready for implementation"*
Claude: *reads survey, sees requires.docs are met*
Claude: *implements*
\`\`\`

### The Difference

| Without | With |
|---------|------|
| Grep for related documents | Query by relationship |
| Read prose to understand state | Read structured field |
| Infer what's next | Read \`completion.next\` |
| Hope preconditions are met | Check \`requires\` explicitly |

**But here's the catch:** Both paths require me to *do the checking*. The conducting frontmatter doesn't execute itself. It's structured data that I (or you) can query, but someone has to write the code that queries it.

---

## Gaps: Where the Proposal Falls Short

### Gap 1: No Execution Layer (Blocking)

The schema defines \`execution.state\`, but **nothing updates it automatically.**

Current proposal says: "Claude commands update execution.state on completion."

But this means I need to:
1. Know I just completed a scope document
2. Update that document's frontmatter to set \`execution.state: completed\`
3. Check if any downstream documents are now unblocked
4. Update their state too

**This is a lot of bookkeeping.** Right now, I just write the document and I'm done. With conducting frontmatter, I'd need to manage state across multiple documents.

### Gap 2: No Query Interface (Blocking)

To use conducting frontmatter, I'd need to:
\`\`\`
Find all documents where:
  - actionable = true
  - execution.state = pending
  - requires.docs are all completed
\`\`\`

**Loomlib has no API for this.** I can read individual markdown files, but I can't query the document graph. I'd have to:
1. Glob for all markdown files
2. Parse each one's frontmatter
3. Build the dependency graph in memory
4. Query it

This is expensive and error-prone.

### Gap 3: Commands Don't Know About Each Other (Friction)

When I run \`/loomlib:scope\`, I don't know:
- What survey preceded this (unless you tell me)
- What documents this scope will enable
- Whether this scope is part of a larger workflow

The command template is self-contained. It doesn't say "first check if inst-survey-X exists."

### Gap 4: State Mutation Is Manual (Friction)

If I complete a survey and write:
\`\`\`yaml
execution:
  state: completed
  completed_at: 2026-01-08T15:00:00Z
\`\`\`

Then you run \`/loomlib:scope\` in a new conversation. That new Claude instance:
- Doesn't know the survey is completed
- Doesn't automatically check \`requires.docs\`
- Has to be told "the survey is at inst-survey-X"

**The state is there, but it's passive.** Nobody reads it unless explicitly told to.

---

## Requirements: What Would Actually Help

### Must Have (for conducting frontmatter to be useful)

**1. Query Tool for Document Graph**

I need a way to ask loomlib:
\`\`\`
GET /api/docs?actionable=true&execution.state=pending
GET /api/docs?downstream.doc=inst-scope-X
\`\`\`

Without this, conducting frontmatter is just documentation that humans read.

*Implementation:* Extend \`vite-plugin-docs-api.ts\` with query parameters.

**2. Command-Level Precondition Checking**

Commands should declare their preconditions:
\`\`\`yaml
# In loomlib:scope.md
preconditions:
  - "Survey exists for this topic"
  - "Survey has findings documented"
\`\`\`

And I should check these before producing output.

*Implementation:* Add precondition block to command templates, Claude checks before executing.

**3. Automatic State Updates**

When I complete a document, the frontmatter should update automatically. This could be:
- Part of the Write tool (loomlib-aware)
- A post-write hook
- An explicit "finalize document" step

*Implementation:* Command templates include "update execution.state" as final step.

### Should Have

**4. Workflow Awareness**

Commands could accept workflow context:
\`\`\`
/loomlib:scope editor-persistence --after inst-survey-editor-persistence
\`\`\`

This tells me explicitly what preceded, so I can check its state.

**5. Document Chain Visualization**

Show me (and you) the workflow state:
\`\`\`
inst-survey-X (completed) → inst-scope-X (in_progress) → inst-implement-X (pending)
\`\`\`

This already exists in constellation view conceptually.

### Out of Scope (for v1)

- **Automatic triggering:** Running next document when current completes
- **Parallel orchestration:** Running independent documents concurrently
- **Error recovery:** Retrying failed documents

These require an execution engine that doesn't exist yet.

---

## The Honest Assessment

### What Conducting Frontmatter Actually Does (v1)

1. **Documents intent** — \`actionable: true\` says "this is meant to be executed"
2. **Records state** — \`execution.state\` tracks progress (if manually updated)
3. **Declares relationships** — \`upstream\`/\`downstream\` name the workflow
4. **Defines completion** — \`completion.criteria\` says what "done" means

### What It Doesn't Do (v1)

1. **Execute anything** — No automation, just data
2. **Enforce preconditions** — I have to check manually
3. **Update state** — I have to write it manually
4. **Query efficiently** — No index, just grep

### Is It Worth Implementing?

**Yes, but with realistic expectations.**

Conducting frontmatter in v1 is **structured documentation for workflows**. It makes implicit state explicit. Even without automation:

- You can see what state a document is in
- You can see what it depends on
- You can see what it enables
- I can be told to check these fields

This is better than prose like "This survey is ready for implementation. Next step: scope document."

The value is **queryability** even if the queries are manual:
- "Show me all pending actionable documents"
- "What does this scope enable?"
- "Is the survey for this feature done?"

### What Would Make It Actually Useful

The minimum viable automation:

1. **Command templates check preconditions** — Survey command doesn't exist for scope? Say so.
2. **Commands update their own state** — When I finish writing, set \`execution.state: completed\`.
3. **Query API exists** — I can ask "what documents have execution.state = pending".

This turns conducting frontmatter from documentation into **lightweight orchestration**.

---

## Proposed Changes to Commands

### Before (current survey command)

\`\`\`markdown
## Output
Write the survey instance to: \`loomlib/docs/instance/survey-{slug}.md\`
\`\`\`

### After (with conducting frontmatter)

\`\`\`markdown
## Preconditions
Before executing, verify:
- [ ] Topic is specific enough to investigate
- [ ] No existing survey for this topic (check \`loomlib/docs/instance/survey-*\`)

## Output
Write the survey instance to: \`loomlib/docs/instance/survey-{slug}.md\`

Include conducting frontmatter:
\`\`\`yaml
actionable: true
intent: research
execution:
  state: completed  # Survey is done when written
  completed_at: {timestamp}
completion:
  criteria:
    - "All sections complete"
    - "Key files identified"
    - "Open questions documented"
  next: null  # Filled in if scope follows
\`\`\`

## Post-Completion
After writing:
1. If this survey enables a scope, update \`completion.next\`
2. Tell user: "Survey complete. Next: \`/loomlib:scope {topic}\` if implementation needed."
\`\`\`

### What This Changes for Me

| Before | After |
|--------|-------|
| Just write the document | Check preconditions first |
| Frontmatter is metadata | Frontmatter includes state |
| Done when written | Update state, suggest next step |
| Stateless | State-aware (within single conversation) |

---

## Summary

| Question | Answer |
|----------|--------|
| Does conducting frontmatter help Claude Code? | **Partially** — provides structure, but needs query API and command updates to be useful |
| What actions will Claude Code make? | Check preconditions, write document with state, update state on completion, suggest next step |
| Is the schema well-designed? | **Yes** — comprehensive, backward compatible, extensible |
| Is it implementable as proposed? | **Yes for schema** — but execution layer is missing |
| What's the minimum viable version? | Schema + parsing + commands that write state + basic query API |

### The Real Value

Conducting frontmatter turns implicit workflow knowledge into explicit, queryable data. Even without full automation, this helps because:

1. **You** can see document state in loomlib UI
2. **I** can be told to check state before acting
3. **Future Claude** can query for next actions
4. **The system** has a foundation for automation

The v1 implementation (Phases 1-4 from the survey) is worth doing. The execution engine (Phase 5+) is where the real orchestration happens, but it needs this foundation.

---

## Recommendations

1. **Implement Phases 1-4** as specified in the survey (schema, parsing, storage, commands)

2. **Add query API** to vite-plugin-docs-api.ts:
   \`\`\`
   GET /api/docs?actionable=true
   GET /api/docs?execution.state=pending
   \`\`\`

3. **Update command templates** to:
   - Check preconditions (grep for related docs)
   - Write conducting frontmatter
   - Update state on completion
   - Suggest next action

4. **Defer execution engine** until the manual workflow is proven useful

---

## Scope Status

**Status:** verified → resolved

**Resolution criteria met:**
- [x] Decision: proceeded with v1 (schema + commands)
- [x] Query API: uses existing /api/docs with jq filtering
- [x] Command template changes: all 8 commands updated

---

## Resolution

**Date:** 2026-01-08
**Status:** resolved

### What Was Done

This scope validated the agent-centric approach to conducting frontmatter. The implementation followed Recommendations 1 and 3:
- Phases 1-4 implemented (schema, parsing, commands)
- Command templates updated with Discovery sections
- API queries use jq filtering (simpler than dedicated endpoints)

### Outcome

The "What Would Help Claude Code" analysis from this scope shaped the Discovery pattern. Commands now query for related documents before producing, exactly as this scope recommended.

### Remaining Items

None — scope questions answered, recommendations implemented.`,
  },
  {
    id: 'inst-scope-conducting-frontmatter-implementation',
    title: 'Scope: Conducting Frontmatter Implementation Across Commands',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['scope', 'conducting', 'frontmatter', 'commands', 'implementation'],
    content: `# Scope: Conducting Frontmatter Implementation Across Commands

**Date:** 2026-01-08
**Subject:** Implementing Discovery + Conducting frontmatter across all 12 loomlib commands
**Method:** Scope Method (implementation planning)

---

## Audit

### Command Inventory

| Command | Current State | Purpose |
|---------|--------------|---------|
| \`loomlib.md\` | Router, no output | Routes to specific commands |
| \`loomlib:scope.md\` | ✅ Has Discovery + Conducting | UX requirements |
| \`loomlib:survey.md\` | Has Decisions section only | Codebase investigation |
| \`loomlib:excavate.md\` | No conducting | Etymon Method research |
| \`loomlib:framework.md\` | No conducting | Create reusable method/lens |
| \`loomlib:instance.md\` | No conducting | Generic instance creation |
| \`loomlib:source.md\` | No conducting | Document external material |
| \`loomlib:index.md\` | No conducting | Curate document collections |
| \`loomlib:note.md\` | No conducting | Raw capture |
| \`loomlib:promote.md\` | No conducting | Status workflow |
| \`loomlib:resolve.md\` | No conducting | Close out documents |
| \`loomlib:triage.md\` | No conducting | Classify material |

### Current Pattern (scope command)

The updated \`loomlib:scope.md\` has:
1. **Discovery section** — API queries before protocol
2. **Conducting frontmatter in output** — \`actionable\`, \`intent\`, \`execution_state\`, \`upstream\`
3. **Composition section** — Documents relationships in body
4. **Post-completion reporting** — What was discovered, what this enables

---

## Affordances

### Document Types by Actionability

Based on \`fw-conducting-frontmatter\`:

| Type | Actionable? | Intent | Rationale |
|------|-------------|--------|-----------|
| **scope** | Yes | research | Produces requirements, enables implementation |
| **survey** | Yes | research | Produces understanding, enables scoping |
| **excavate** | Yes | research | Produces etymology findings, enables instances |
| **framework** | No | — | Informational, reusable lens |
| **source** | No | — | Reference material |
| **index** | No | — | Navigation aid |
| **note** | No | — | Raw capture, pre-triage |

### Command Types by Role

| Role | Commands | Needs Discovery? | Writes Conducting? |
|------|----------|------------------|-------------------|
| **Produces actionable docs** | scope, survey, excavate | Yes | Yes |
| **Produces informational docs** | framework, instance, source, index, note | No | No (or \`actionable: false\`) |
| **Meta operations** | resolve, promote, triage | Yes (finds docs) | Updates existing |
| **Router** | loomlib | No | No |

---

## Expectations

### What Each Command Needs

#### Tier 1: Full Discovery + Conducting (3 commands)

**\`loomlib:scope.md\`** ✅ DONE
- Discovery: Check for surveys on topic
- Output: \`actionable: true\`, \`intent: research\`, \`upstream: [survey]\`

**\`loomlib:survey.md\`** — NEEDS UPDATE
- Discovery: Check for existing surveys on same topic
- Output: \`actionable: true\`, \`intent: research\`, \`upstream: []\` (surveys start fresh)
- Note: Already has Decisions section from earlier update

**\`loomlib:excavate.md\`** — NEEDS UPDATE
- Discovery: Check for prior excavations of same term
- Output: \`actionable: true\`, \`intent: research\`
- Note: Output is research notes, may produce instance later

#### Tier 2: Conducting Fields Only (5 commands)

**\`loomlib:framework.md\`** — NEEDS UPDATE
- Discovery: Not needed (frameworks are unique)
- Output: Add \`actionable: false\` to frontmatter template

**\`loomlib:instance.md\`** — NEEDS UPDATE
- Discovery: Could check for related frameworks/sources
- Output: \`actionable: false\` (generic instances are informational)

**\`loomlib:source.md\`** — NEEDS UPDATE
- Discovery: Not needed
- Output: \`actionable: false\`

**\`loomlib:index.md\`** — NEEDS UPDATE
- Discovery: Could query for documents to include
- Output: \`actionable: false\`

**\`loomlib:note.md\`** — NEEDS UPDATE
- Discovery: Not needed (raw capture)
- Output: \`actionable: false\`

#### Tier 3: Meta Operations (3 commands)

**\`loomlib:resolve.md\`** — NEEDS UPDATE (CRITICAL)
- Discovery: Yes — finds document to resolve via API
- Action: Updates \`execution_state: resolved\` in target document
- This is the command that CLOSES conducting documents

**\`loomlib:promote.md\`** — NEEDS UPDATE
- Discovery: Yes — finds document to promote
- Action: Updates \`status\` field (existing) + could update \`execution_state\`

**\`loomlib:triage.md\`** — NEEDS UPDATE
- Discovery: Yes — could show existing docs of each type
- Output: May produce note or route to other command

#### Tier 4: Router (1 command)

**\`loomlib.md\`** — MINOR UPDATE
- Add note that actionable commands will run Discovery
- No other changes needed

---

## Gaps

| Gap | Type | Description |
|-----|------|-------------|
| **No schema in types.ts** | Blocking | Conducting fields don't exist in app yet |
| **No parsing in vite-plugin** | Blocking | API won't return conducting fields |
| **survey missing Discovery** | Friction | Should check for existing surveys |
| **excavate missing Discovery** | Friction | Should check for prior excavations |
| **resolve doesn't update execution_state** | Friction | Resolution should close out conducting state |
| **Non-actionable commands missing field** | Polish | Should explicitly state \`actionable: false\` |
| **No API query helper** | Polish | Commands repeat same jq patterns |

---

## Requirements

### Must Have (Blocking → Functional)

#### 1. Schema Implementation

Update \`loomlib/src/types.ts\`:
\`\`\`typescript
interface Document {
  // ... existing fields ...

  // Conducting fields (all optional for backward compat)
  actionable?: boolean;
  intent?: 'research' | 'build' | 'configure' | 'deploy' | 'verify' | 'resolve';
  execution_state?: 'pending' | 'in_progress' | 'blocked' | 'completed' | 'resolved';
  upstream?: Array<{ doc: string; relation: string }>;
  downstream?: Array<{ doc: string; relation: string }>;
}
\`\`\`

*Acceptance: Conducting fields exist in Document interface*

#### 2. Parsing Implementation

Update \`loomlib/vite-plugin-docs-api.ts\`:
\`\`\`typescript
function parseMarkdownFile(filePath: string): ApiDocument | null {
  // ... existing parsing ...

  // Add conducting fields
  actionable: data.actionable ?? false,
  intent: data.intent ?? null,
  execution_state: data.execution_state ?? null,
  upstream: Array.isArray(data.upstream) ? data.upstream : [],
  downstream: Array.isArray(data.downstream) ? data.downstream : [],
}
\`\`\`

*Acceptance: API returns conducting fields, query works*

#### 3. Survey Command Update

Add Discovery section + Conducting frontmatter to \`loomlib:survey.md\`:
- Query API for existing surveys on topic
- Add conducting fields to output template
- Already has Decisions section

*Acceptance: \`/loomlib:survey X\` checks for existing surveys first*

#### 4. Excavate Command Update

Add Discovery section + Conducting frontmatter to \`loomlib:excavate.md\`:
- Query API for prior excavations
- Add conducting fields to output template

*Acceptance: \`/loomlib:excavate term\` checks for prior excavations*

#### 5. Resolve Command Update

Update \`loomlib:resolve.md\` to:
- Query API to find document
- Update \`execution_state: resolved\` when resolving
- Show conducting state in resolution report

*Acceptance: \`/loomlib:resolve doc\` updates execution_state*

### Should Have (Friction → Pleasant)

#### 6. Non-Actionable Commands

Add \`actionable: false\` to output templates:
- \`loomlib:framework.md\`
- \`loomlib:source.md\`
- \`loomlib:index.md\`
- \`loomlib:note.md\`
- \`loomlib:instance.md\`

*Acceptance: All commands produce documents with explicit actionable field*

#### 7. Promote Command Enhancement

Update \`loomlib:promote.md\` to optionally update execution_state when promoting.

#### 8. Router Note

Update \`loomlib.md\` to mention Discovery pattern for actionable commands.

### Could Have (Polish)

#### 9. Shared Discovery Helper

Create reusable jq patterns or document common queries:
\`\`\`bash
# Find related surveys
alias loomlib-surveys='curl -s http://localhost:5173/api/docs | jq "[.[] | select(.id | contains(\\"survey\\"))]"'
\`\`\`

#### 10. Index Command Discovery

\`loomlib:index.md\` could query API to suggest documents to include in collection.

### Out of Scope

- Execution engine (automatic state transitions)
- Dependency blocking (prevent scope if survey incomplete)
- Cross-document validation
- IndexedDB schema changes (API-only for now)

---

## Implementation Sequence

### Phase 1: Schema + Parsing (Foundation)

1. Update \`types.ts\` with conducting fields
2. Update \`vite-plugin-docs-api.ts\` to parse/return fields
3. Update \`scripts/generate-seed.ts\` for production builds
4. Test: API returns conducting fields for existing docs (defaults)

### Phase 2: Actionable Commands (Core)

1. ✅ \`loomlib:scope.md\` — already done
2. Update \`loomlib:survey.md\` — add Discovery, Conducting output
3. Update \`loomlib:excavate.md\` — add Discovery, Conducting output

### Phase 3: Meta Commands (Completion)

1. Update \`loomlib:resolve.md\` — update execution_state on resolve
2. Update \`loomlib:promote.md\` — optionally update execution_state
3. Update \`loomlib:triage.md\` — API discovery for classification

### Phase 4: Non-Actionable Commands (Consistency)

1. Update \`loomlib:framework.md\` — add \`actionable: false\`
2. Update \`loomlib:source.md\` — add \`actionable: false\`
3. Update \`loomlib:index.md\` — add \`actionable: false\`, optional discovery
4. Update \`loomlib:note.md\` — add \`actionable: false\`
5. Update \`loomlib:instance.md\` — add \`actionable: false\`

### Phase 5: Polish

1. Update \`loomlib.md\` router with Discovery note
2. Document common API queries
3. Test end-to-end: survey → scope → resolve cycle

---

## Composition

**Upstream (what informed this scope):**
- [Conducting Frontmatter](fw-conducting-frontmatter) — the schema definition
- [Survey: Conducting Frontmatter Dependencies](inst-survey-conducting-frontmatter-deps) — implementation map
- [Scope: Command Discovery Patterns](inst-scope-command-discovery-patterns) — pattern definition

**Downstream (what this scope enables):**
- Schema implementation in types.ts
- Command template updates
- Working conducting frontmatter system

**Related:**
- [Scope: Conducting Frontmatter Agent POV](inst-scope-conducting-frontmatter-agent-pov) — why this matters

---

## Notes

- This scope covers **command template changes**, not app features
- Schema changes are minimal (optional fields, backward compatible)
- Discovery is guidance to Claude Code, not enforcement
- The resolve command becomes critical — it closes the loop

---

## Verification Checklist

- [x] \`types.ts\` has conducting fields
- [x] API returns conducting fields
- [x] \`loomlib:survey.md\` has Discovery section
- [x] \`loomlib:excavate.md\` has Discovery section
- [x] \`loomlib:resolve.md\` updates execution_state
- [x] All commands produce conducting frontmatter
- [x] End-to-end test: survey → scope → implement → resolve

---

## Resolution

**Date:** 2026-01-08
**Status:** resolved

### What Was Done

Implemented the conducting frontmatter system as specified in this scope:

**Phase 1 (Schema + Parsing):** ✅
- Added conducting fields to \`types.ts\`
- Updated \`vite-plugin-docs-api.ts\` with parsing/serialization

**Phase 2 (Actionable Commands):** ✅
- \`loomlib:scope.md\` — already done
- \`loomlib:survey.md\` — added Discovery, Conducting output
- \`loomlib:excavate.md\` — added Discovery, Conducting output

**Phase 3 (Meta Commands):** ✅
- \`loomlib:resolve.md\` — updates execution_state on resolve

**Phase 4 (Non-Actionable Commands):** ✅
- Updated framework, instance, source, index, note commands with Discovery + Conducting

**Deviation from scope:** Used \`intent\` field instead of \`actionable\` boolean, following the simplified schema in \`fw-conducting-frontmatter\`. All document types now have Discovery sections, not just "actionable" ones.

### Changes Made

See \`fw-conducting-frontmatter\` Resolution section for full file list.

### Outcome

All verification criteria met. Conducting frontmatter system is operational.

### Remaining Items

None — scope fully implemented.`,
  },
  {
    id: 'inst-scope-context-orchestration',
    title: 'Scope: Context Orchestration as Frame-Making',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['context', 'orchestration', 'claude-code', 'commands', 'frames', 'meta'],
    content: `# Scope: Context Orchestration as Frame-Making

**Date:** 2026-01-08
**Subject:** How context orchestration in Claude Code creates frames within which problems become legible
**Method:** Scope Method (applied to the orchestration system itself)
**Precursor:** inst-scope-framing-as-practice

---

## The System Under Examination

This project uses Claude Code with:
- **CLAUDE.md** — project-level instructions, workflows, stop conditions
- **\`.claude/commands/\`** — 12 loomlib commands forming a routing system
- **loomlib frameworks** — 10 methods (toolkits + domains) that produce instances
- **Document types** — framework, instance, note, source, index
- **Frontmatter schema** — required metadata linking documents to their production genealogy

The question: what does this system *do* when understood as frame-making?

---

## Audit: The Current Architecture

### Layer 1: CLAUDE.md (Project Frame)

\`\`\`markdown
## Read First (GLOB then READ)
## Workflow: EXPLORE → PLAN → CODE → TEST → COMMIT → VERIFY
## Stop If: [conditions]
## Before Any Change: Have I read the spec?
\`\`\`

**What it does:**
- Defines what "working on this project" means
- Establishes mandatory sequences (read before code)
- Creates stop conditions (what terminates action)
- Sets quality gates (no spec read = no code)

**Frame effect:** A Claude instance working here operates within a specific discipline. The frame makes certain behaviors *unthinkable* — you can't just start coding. The project frame pre-filters what actions are legitimate.

### Layer 2: Command Router (\`loomlib.md\`)

\`\`\`markdown
## Routing Logic
Parse "$ARGUMENTS" to determine document type and route:
→ loomlib:excavate if: "excavate [TERM]" / "dig into..."
→ loomlib:scope if: "scope [feature]" / "ux for..."
→ loomlib:note if: "capture..." / "raw thought..."
\`\`\`

**What it does:**
- Takes raw user input (natural language intent)
- Pattern-matches to document types
- Routes to type-specific commands

**Frame effect:** The router decides *what kind of thing* the user is trying to make. Before this routing, input is undifferentiated. After routing, it has a type, and types carry expectations. "Dig into algorithm" becomes an excavation. "Scope this feature" becomes a requirements document. The router is an ontological classifier.

### Layer 3: Type Commands (\`loomlib:excavate\`, \`loomlib:scope\`, etc.)

Each command provides:
- Protocol (what steps to follow)
- Output structure (sections, format)
- Framework references (what method applies)
- Frontmatter template (metadata schema)

**Frame effect:** Once routed, the document type determines *how production happens*. An excavation follows Etymon Method (excavation → drift → recovery). A scope follows Scope Method (audit → affordances → expectations → gaps → requirements). The type is a mold.

### Layer 4: Frameworks (Etymon Method, Scope Method, etc.)

Frameworks are the methods themselves — reusable ways of seeing that produce instances when applied to content.

**Frame effect:** Frameworks are portable frames. They can be applied to any content that fits. The Etymon Method frames any term as having an original operational meaning that drifted. The Scope Method frames any feature as having affordances that create expectations.

### Layer 5: Frontmatter Schema

\`\`\`yaml
id: inst-{slug}
framework_ids: [fw-etymon-method]
status: draft
output: etymon
\`\`\`

**Frame effect:** Every document declares its lineage. The schema enforces genealogy — you can't produce an instance without naming what framework produced it. This makes the frame visible. The constellation view then renders this genealogy as a graph.

---

## Affordances: What the Orchestration Makes Possible

### 1. Raw Input → Typed Output

User says: "dig into the word algorithm"
System produces: \`inst-excavate-algorithm.md\` with Etymon Method structure, frontmatter, genealogy

**The frame creates legibility.** Unstructured intent becomes structured document. The routing system is a legibility machine.

### 2. Method Accumulation

Frameworks persist. Once you have Etymon Method, you can excavate any term. Once you have Scope Method, you can scope any feature. Methods are reusable frames.

**The system accumulates frames.** Each new framework increases what kinds of things can be produced. The ontology grows.

### 3. Production Genealogy

Every instance links back to its frameworks. The constellation view shows what made what.

**The frames are visible.** Unlike implicit framing (where you don't see the lens), this system externalizes frames as first-class objects. You can inspect, modify, contest them.

### 4. Conversation Continuity

When you \`/loomlib scope X\`, the command injects:
- The routing system
- The current loomlib state (frameworks, instances)
- The type-specific protocol

**Context orchestration is frame injection.** Each command sets up a frame for Claude to operate within. The "context" is the frame.

### 5. Multi-Level Coherence

CLAUDE.md disciplines the project. Commands discipline production. Frameworks discipline content. Frontmatter disciplines metadata.

**Frames at every level.** This isn't just one frame — it's nested frames, each constraining a different scope.

---

## Expectations: What Taking This Seriously Implies

### Context Orchestration IS Frame-Making

When you write a CLAUDE.md, you're not just "providing context." You're deciding:
- What behaviors are legitimate
- What sequences are required
- What conditions terminate action
- What quality looks like

This is ontology design. The "context" is a frame that makes certain problems legible and certain actions thinkable.

### Commands Are Routing Decisions

The routing logic in \`loomlib.md\` isn't neutral classification. It decides what *kind of thing* something is. "Dig into X" → excavation. "Scope Y" → requirements. These are ontological commitments.

Different routing = different output = different reality-cuts.

### Frameworks Are Portable Frames

Etymon Method isn't just "a way to analyze words." It's a frame that makes any term appear as:
- Having an original operational meaning
- Having undergone drift
- Being recoverable

The framework is the lens. Apply it to "algorithm" or "economy" or "credit" — same frame, different content.

### The Constellation Is Frame Genealogy

The production graph (what made what) is a map of frame application. Instance X was produced by Framework Y applied to Source Z. The genealogy shows how frames generated content.

**Visible frames are contestable frames.** When you can see that this document was produced by this method, you can ask: was that the right method? What would a different frame reveal?

---

## Gaps: Where the System Falls Short

### Gap 1: Router Bias (Friction)

The routing logic has defaults. Pattern-matching "dig into" to excavation is a choice. What if the user wanted something else? The router makes assumptions.

**Risk:** The frame constrains before the user confirms. "Algorithm" could be scoped (user expectations of the term), surveyed (how codebases use it), or excavated (etymological analysis). The router picks one.

### Gap 2: Framework Lock-In (Friction)

Once routed, the document follows a specific framework. The Etymon Method has three phases (excavation, drift, recovery). What if the content doesn't fit?

**Risk:** The frame becomes a Procrustean bed. Content stretches or compresses to fit the structure. Some insights get lost because they don't match the protocol.

### Gap 3: Invisible Meta-Frame (Blocking)

The system has a meta-frame: "knowledge production is document production via framework application." This is itself a frame, but it's not surfaced.

**Risk:** The meta-frame is invisible. You can see frameworks and instances, but not the assumption that *this is how knowledge works*. The deepest frame is the least visible.

### Gap 4: Human Abdication (Friction)

The system is designed to run autonomously. Give it input, get output. The human reviews but may not participate in frame selection.

**Risk:** The frame-making happens *to* the user rather than *with* them. "I asked for algorithm analysis and got an etymological excavation." Did the user want that frame?

---

## Requirements: What Good Context Orchestration Demands

### Must Have

**1. Frame Transparency**

The user should see what frame is being applied before full production. "I'm routing this to excavation using Etymon Method — this will analyze the word's original meaning, how it drifted, and what recovery looks like. Is that what you want?"

*Acceptance criteria:* User can redirect routing before production completes.

**2. Meta-Frame Documentation**

The assumptions underneath the system should be explicit. "This system assumes knowledge production works via framework application. That's a choice. Alternative systems might..."

*Acceptance criteria:* The meta-frame is stated somewhere accessible.

**3. Framework Fit Warnings**

When content doesn't fit a framework well, surface the friction. "This term doesn't have a clear etymological root — the excavation may be speculative."

*Acceptance criteria:* Production acknowledges when the frame is strained.

### Should Have

**4. Alternative Routing Offers**

After routing, offer alternatives. "I routed to excavation. You could also: scope (user expectations of 'algorithm'), survey (how codebases use the term), or note (capture raw thoughts)."

**5. Frame Composition**

Allow multiple frameworks. "Algorithm" could be both excavated (Etymon Method) and scoped (user expectations). The document could have both lenses.

**6. User Frame Creation**

Users should be able to propose new frameworks. "I want a method for analyzing how terms get weaponized in discourse." → potential new toolkit.

### Out of Scope

- Fully automated production (humans must confirm frame selection)
- Universal routing (some inputs genuinely don't fit any type)
- Framework rigidity (structures should guide, not mandate)

---

## The Value Proposition

### What This System Demonstrates

**1. Context is not neutral.**

CLAUDE.md isn't "background information." It's a frame that shapes what Claude does. Every instruction is a constraint. Every workflow is a sequence that excludes alternatives.

**2. Commands are ontological.**

Routing user intent to document types is deciding what exists. "This is an excavation" is a claim about the nature of the thing being produced.

**3. Frameworks are reusable frames.**

Etymon Method, Scope Method, Survey Method — these are portable lenses. They can apply to any content that fits. The value is accumulation: more frameworks = more ways to see.

**4. Genealogy enables contestability.**

When production is visible (this instance came from this framework), frames become discussable. "Why did we excavate this instead of scoping it?" The question is askable because the frame is named.

**5. Meta-work is real work.**

Designing the routing system, writing the frameworks, structuring the commands — this is frame-making. It's upstream of any specific document. The leverage is at the meta-level.

---

## Summary: Context Orchestration as Frame-Making

| Layer | Frame Function |
|-------|----------------|
| **CLAUDE.md** | Project discipline — what behaviors are legitimate |
| **Command router** | Ontological classification — what kind of thing is this |
| **Type commands** | Production protocol — how is this type made |
| **Frameworks** | Reusable lenses — what method applies to content |
| **Frontmatter** | Genealogy schema — where did this come from |
| **Constellation** | Frame visualization — what made what |

**The insight applied:**

When you orchestrate context for Claude Code, you are not providing information. You are building frames within which certain problems become legible and certain actions become possible.

The loomlib command system is a demonstration: raw input enters, typed output exits. The routing is a series of frame applications. The value is not just the documents produced but the *visibility of the production process* — frames you can see, name, and contest.

**The meta-frame:**

This document is itself produced by the Scope Method, demonstrating the system it describes. It audited the orchestration architecture, analyzed its affordances, identified gaps, and derived requirements. The frame is both the subject and the lens.

That recursion — using the system to examine the system — is what "taking frames seriously" looks like in practice.`,
  },
  {
    id: 'inst-scope-document-persistence',
    title: 'Scope: Document Persistence',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['scope', 'ux', 'persistence', 'editor', 'sync'],
    content: `# Scope: Document Persistence

**Date:** 2026-01-08
**Subject:** How saving should work across CC commands, markdown files, seed-data, and browser editor
**Method:** Scope Method (UX analysis)

---

## Audit

### Current Data Flow

\`\`\`
┌─────────────────┐     generate:seed      ┌──────────────┐
│  loomlib/docs/  │ ──────────────────────▶│ seed-data.ts │
│  (markdown)     │                        │  (generated) │
└─────────────────┘                        └──────────────┘
       ▲                                          │
       │                                          │ syncSeedData()
       │ CC commands write here                   │ on every app load
       │                                          ▼
       │                                   ┌──────────────┐
       ✗ No path back                      │  IndexedDB   │◀──┐
                                           │  (browser)   │   │
                                           └──────────────┘   │
                                                  │           │
                                                  │ load      │ save
                                                  ▼           │
                                           ┌──────────────┐   │
                                           │   Editor     │───┘
                                           │  (browser)   │
                                           └──────────────┘
\`\`\`

### Current UX Flows

**Flow A: CC Command → App** (works)
1. User runs \`/loomlib:instance\` or similar
2. Claude writes markdown to \`loomlib/docs/{type}/{slug}.md\`
3. User runs \`npm run generate:seed\`
4. \`seed-data.ts\` regenerates with new document
5. App loads, \`syncSeedData()\` adds document to IndexedDB
6. Document appears in list/constellation

**Flow B: Browser Edit → Persist** (broken)
1. User opens document in browser editor
2. User types changes
3. Editor shows "Saved" after 500ms debounce
4. IndexedDB stores the changes
5. User refreshes browser
6. \`syncSeedData()\` runs, sees content differs from seed-data
7. **IndexedDB is overwritten with seed-data version**
8. User's changes are lost

### Key Interactions

| Action | Feedback | Reality |
|--------|----------|---------|
| Type in editor | "Saved" indicator | Saves to IndexedDB only |
| Refresh page | Document loads | But from seed-data, not IndexedDB |
| Cmd+S | Shows "Saved" | Cosmetic only (autosave handles real saves) |

---

## Affordances

### What the UI Promises

The editor UI promises **persistence**:
- Save status indicator ("Saving...", "Saved")
- Debounced autosave behavior
- No "export" or "download" buttons suggesting transience
- Standard text editor mental model

The UI does NOT communicate:
- That this is a read-only view of seed-data
- That changes are temporary
- That markdown is the source of truth
- Any relationship between browser and filesystem

### Mental Model Invoked

**Expected:** Google Docs / Notion — edits persist automatically, accessible anywhere
**Actual:** Code editor preview — view of source files, changes require external action

### Conventions Broken

- Autosave without persistence violates user trust
- "Saved" status is misleading when refresh loses changes
- No visible export/sync workflow in UI

---

## Expectations

### Natural User Flows

1. **Quick edit flow**: Open doc → edit → close → expect changes to persist
2. **Multi-session flow**: Edit today → come back tomorrow → expect to see my changes
3. **Triage flow**: Create note → triage to instance → edit content → persist
4. **Review flow**: Browse docs → fix typo → move on

### What Users Would Expect

- Edits saved in browser should survive refresh
- If edits require export, there should be an obvious export button
- If browser is read-only, it should be clearly labeled
- Changes should sync back to markdown (the "source of truth")

### Information Needed

- Where is my data actually stored?
- How do I get my browser edits into the markdown files?
- What's the relationship between what I see and the files on disk?

---

## Gaps

| Gap | Type | Description |
|-----|------|-------------|
| **Silent overwrite** | Blocking | User edits in browser are silently lost on refresh |
| **Misleading save status** | Blocking | "Saved" implies persistence but doesn't deliver it |
| **No export path** | Blocking | No way to get browser edits back to markdown |
| **No sync status** | Friction | User can't tell if document matches seed-data |
| **No source indicator** | Friction | No visibility into markdown ↔ IndexedDB relationship |

---

## Requirements

### Must Have (Blocking)

**Option A: Accept Browser as Read-Only**
- [ ] Remove or relabel save status — *Acceptance: No "Saved" indicator for seeded docs*
- [ ] Add "Read-only" badge for seed-data documents — *Acceptance: Visual indicator on seeded docs*
- [ ] Add "Edit in Claude Code" guidance — *Acceptance: Help text explaining workflow*

**Option B: Enable Browser → Markdown Export**
- [ ] Add "Export to Markdown" button — *Acceptance: Downloads .md file with frontmatter*
- [ ] Add "Copy to Clipboard" for content — *Acceptance: One-click copy of document*
- [ ] Show "Unsaved changes" warning on refresh — *Acceptance: beforeunload prompt if dirty*

**Option C: Enable Two-Way Sync (requires dev server)**
- [ ] Add write endpoint to Vite dev server — *Acceptance: POST /api/docs/:id saves to markdown*
- [ ] Editor saves to both IndexedDB AND markdown — *Acceptance: Changes persist across refresh*
- [ ] Remove syncSeedData overwrite for user-modified docs — *Acceptance: IndexedDB wins if newer*

### Should Have (Friction)

- [ ] Show sync status badge (in-sync / local-only / modified) — *Acceptance: Visual indicator per document*
- [ ] Distinguish "seeded" vs "user-created" documents — *Acceptance: Different treatment for each*
- [ ] Add document history/undo across sessions — *Acceptance: Can recover previous versions*

### Could Have (Polish)

- [ ] Real-time sync indicator showing markdown ↔ browser state
- [ ] Conflict resolution UI when seed-data and IndexedDB differ
- [ ] "Push changes" button to explicitly sync to markdown

### Out of Scope

- Cloud sync / multi-device persistence
- Collaborative editing
- Version control integration (beyond what CC provides)
- Production deployment (this is a local dev tool)

---

## Analysis

### The Fundamental Constraint

Browsers cannot write to the local filesystem without:
1. **File System Access API** — requires user permission grant per session
2. **Dev server endpoint** — requires backend component
3. **Export/download** — manual user action

### Recommended Approach

**For MVP: Option B (Export workflow)**
- Lowest implementation cost
- Makes data model explicit to users
- Fits existing "CC is authoring tool, browser is viewing tool" pattern

**For better UX: Option C (Dev server sync)**
- Best user experience
- Matches "just works" expectation
- Requires adding API endpoint to Vite config

### Decision Matrix

| Approach | UX Quality | Implementation Cost | Fits Mental Model |
|----------|------------|---------------------|-------------------|
| A: Read-only | Poor | Low | No (why have editor?) |
| B: Export | Acceptable | Medium | Partial |
| C: Two-way sync | Good | High | Yes |

---

## Notes

**Why does syncSeedData overwrite?**
Original design treated seed-data as authoritative — managed frameworks should always reflect the markdown source. This makes sense for "canonical" content but breaks user editing expectations.

**Potential hybrid approach:**
- Seeded documents (in seed-data.ts): read-only in browser, source of truth is markdown
- User documents (created in browser): persist to IndexedDB only, never seeded
- This requires tracking document origin

**File System Access API consideration:**
Modern browsers support \`showSaveFilePicker()\` — could prompt user to save markdown file on demand. Doesn't enable auto-sync but allows explicit export without download.

---

## Resolution

**Date:** 2026-01-08
**Status:** resolved

### What Was Done

Implemented **Option C (Two-Way Sync)** with an improved architecture that reads directly from markdown in dev mode, eliminating the need for seed regeneration and forced page refreshes.

### Final Architecture

\`\`\`
Dev Mode:
┌──────────────┐     GET /api/docs      ┌──────────────┐
│   Browser    │ ◄────────────────────  │  Markdown    │
│  (IndexedDB) │                        │   Files      │
└──────────────┘                        └──────────────┘
       │                                       ▲
       │ Browser edit                          │
       └───────────────── POST /api/docs/:id ──┘

Production:
  seed-data.ts (pre-compiled) → IndexedDB
\`\`\`

### Changes Made

| File | Change |
|------|--------|
| \`vite-plugin-docs-api.ts\` | Full CRUD API: \`GET /api/docs\` (list all), \`GET /api/docs/:id\`, \`POST /api/docs/:id\` |
| \`src/data/documents.ts\` | Added \`saveToMarkdown()\` — saves to API on every edit |
| \`src/data/seed.ts\` | Dev mode fetches from API; compares content to detect CC updates |
| \`vite.config.ts\` | Added \`docsApiPlugin()\` |
| \`tsconfig.json\` | Added \`vite/client\` types |

### Outcome

- [x] Browser edits save to both IndexedDB AND markdown file
- [x] Edits persist across browser refresh (no forced refresh)
- [x] CC commands write markdown → refresh shows changes
- [x] Triage/metadata changes also sync to markdown
- [x] No \`npm run generate:seed\` needed in dev mode
- [x] Production builds still use seed-data.ts

### How It Works

1. **Browser edit** → \`saveDocument()\` → IndexedDB + \`POST /api/docs/:id\` → markdown file
2. **On refresh** → \`syncSeedData()\` → \`GET /api/docs\` → reads current markdown
3. **Content comparison** → if IndexedDB matches markdown, skip; if different (CC updated), apply
4. **No HMR trigger** → markdown changes don't cause page reload

### Remaining Items

**Should Have (deferred):**
- [ ] Sync status badge (in-sync / modified)
- [ ] Distinguish seeded vs user-created documents

**Could Have (not planned):**
- [ ] Real-time sync indicator
- [ ] Conflict resolution UI

testing if this works`,
  },
  {
    id: 'inst-scope-editor-view',
    title: 'Scope: Editor View',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['scope', 'ux', 'editor', 'writing', 'loomlib', 'resolved'],
    content: `# Scope: Editor View

**Date:** 2026-01-07
**Subject:** Loomlib markdown editor UX
**Method:** Scope Method (UX analysis)

---

## Audit

### Current UX Flow

1. User clicks document in list or constellation view
2. Editor loads with document content in textarea
3. Header shows: ☰ (list) | ◎ (constellation) | **Title** | save status | [Triage]
4. Meta bar shows: type icon | type label | status badge | tags
5. User types in monospace textarea
6. After 500ms pause, content auto-saves
7. Save status cycles: ● (unsaved) → Saving... → Saved → (fades)
8. To return: click ☰ or press Escape

### Key Interactions

| Action | Result |
|--------|--------|
| Type | Content updates, triggers autosave |
| Tab | Inserts tab character (overrides browser default) |
| Escape | Returns to list view |
| Click ☰ | Returns to list view |
| Click ◎ | Opens constellation view |
| Click Triage | Opens triage modal |

### What User Sees

- Clean, minimal interface
- Monospace font, no formatting toolbar
- Title auto-derived from first line
- Tags visible but not editable inline
- Status visible but not changeable inline

---

## Affordances

### What the UI Promises

**Minimalist writing focus:** The lack of toolbars and the full-width textarea promise distraction-free writing. This is the "textarea that feels like paper" ethos.

**Markdown-native:** Monospace font signals "this is code/markdown" — users expect markdown syntax to work.

**Auto-save:** The save indicator promises "you don't need to think about saving."

**Quick navigation:** Two nav buttons promise fast switching between views.

**Triage access:** The button promises "you can classify this document."

### Visual Hierarchy

1. **Textarea** — dominates, correctly emphasized as primary
2. **Title** — centered, establishes identity
3. **Meta bar** — secondary, read-only context
4. **Nav buttons** — tertiary, utility

### Conventions Followed

- Escape to go back (modal/overlay convention)
- Tab for indentation (code editor convention)
- Autosave (modern document editor convention)
- Status badges with color coding

### Conventions Broken

- No Cmd+S (save is automatic, but muscle memory expects it)
- No undo/redo buttons (relies on browser/system)
- No markdown preview toggle (common in markdown editors)
- Tags not editable inline (breaks "edit in place" expectation)

---

## Expectations

### Natural User Flows

**Write and refine:**
1. Open document → write → see title update → close
2. Expectation: content is safe, I can return to it

**Quick metadata adjustment:**
1. Open document → realize wrong type/tags → want to change
2. Current: must click Triage button, interact with modal
3. Expectation: could edit inline

**Preview while writing:**
1. Write markdown → want to see how it renders
2. Current: no preview
3. Expectation: preview pane or toggle

**Focus mode:**
1. Want maximum writing space
2. Current: CSS exists (\`.editor-view--focus\`) but no way to trigger
3. Expectation: keyboard shortcut or button to enter focus mode

**Word count:**
1. Writing long-form → want to know length
2. Current: no word/character count
3. Expectation: subtle count somewhere

### Missing Affordances

- **Preview toggle** — markdown editors universally have this
- **Focus mode trigger** — the CSS exists, no UI to activate it
- **Keyboard shortcuts help** — no indication of available shortcuts
- **Cmd+S acknowledgment** — users will press it; could show "Auto-saved"
- **Inline tag editing** — tags are read-only in editor
- **Export options** — no way to export the document

---

## Gaps

| Gap | Type | Status | Description |
|-----|------|--------|-------------|
| No preview | Friction | **Closed** | ~~User cannot see rendered markdown while writing~~ |
| Focus mode inaccessible | Friction | **Closed** | ~~CSS exists but no UI to trigger distraction-free mode~~ |
| No Cmd+S handling | Polish | **Closed** | ~~Users press Cmd+S out of habit; no feedback~~ |
| No word count | Polish | Open | Common need for writers, absent |
| Tags read-only | Friction | Deferred | Must open separate modal to edit tags |
| Status read-only | Friction | Deferred | Must open triage modal to change status |
| No keyboard shortcut hints | Polish | Open | User must discover shortcuts by accident |
| No export | Friction | Open | Cannot export document to file |
| No focus mode exit | Polish | **Closed** | ~~If focus mode existed, how would user exit?~~ |

---

## Requirements

### Must Have (Blocking)

*None — editor is functional for basic writing*

### Should Have (Friction)

- [x] **Markdown preview toggle** — *Acceptance: User can press Cmd+P or click button to see rendered preview alongside or instead of source* **Done: Cmd+P toggles side-by-side preview**

- [x] **Focus mode activation** — *Acceptance: User can press Cmd+. or click button to hide chrome and maximize writing space; Escape exits focus mode* **Done: Cmd+. toggles, Escape exits**

- [ ] **Inline status change** — *Acceptance: Clicking status badge in meta bar opens dropdown to change status without full triage modal* *(Deferred)*

- [ ] **Inline tag editing** — *Acceptance: Clicking tags area allows adding/removing tags without triage modal* *(Deferred)*

### Could Have (Polish)

- [x] **Cmd+S feedback** — *Acceptance: Pressing Cmd+S shows "Auto-saved" toast or flash, does not prevent default* **Done: Flashes "Saved" indicator**

- [ ] **Word/character count** — *Acceptance: Subtle count in corner or status bar showing word count*

- [ ] **Keyboard shortcuts overlay** — *Acceptance: Cmd+/ or ? shows overlay of available shortcuts*

- [ ] **Export to file** — *Acceptance: Cmd+E or button exports document as .md file to downloads*

### Out of Scope

- WYSIWYG editing (violates minimalist ethos)
- Formatting toolbar (ditto)
- Split-pane editing (complex, could be future)
- Collaboration features (multiplayer)
- Version history (requires backend)
- Spellcheck beyond browser default
- Custom themes for editor (beyond dark/light)
- Vim keybindings (nice but not core)

---

## Notes

### Priority Recommendation

1. **Focus mode** — easiest, CSS already exists, just add trigger
2. **Markdown preview** — most requested feature class for markdown editors
3. **Inline status/tags** — reduces friction of triage flow
4. **Polish items** — can be done incrementally

### Dependencies

- Focus mode: none (self-contained)
- Preview: may need markdown parser (or reuse existing)
- Inline status: needs dropdown component
- Inline tags: needs tag input component (chips with autocomplete)

### Risks

- Preview toggle adds cognitive load (two modes to understand)
- Inline editing may make triage modal feel redundant
- Feature creep could undermine minimalist promise

### The Core Tension

The editor promises "textarea that feels like paper" — minimal, focused, no chrome. But users have muscle memory from other tools. The question is: which expectations to honor (preview, word count) and which to reject (toolbars, WYSIWYG)?

Recommendation: Honor expectations that serve writing (preview, focus mode) but reject chrome that interrupts it (toolbars, formatting buttons). The goal is *capability without visibility* — power accessed through keyboard, not buttons.

---

## Resolution

**Date:** 2026-01-07
**Outcome:** Core friction gaps closed. Polish items remain open.

### What Was Built

| Feature | Shortcut | Behavior |
|---------|----------|----------|
| Focus Mode | \`Cmd+.\` | Hides header/meta, centers textarea at 720px max-width |
| Focus Exit | \`Escape\` | Exits focus mode (then navigates if pressed again) |
| Preview | \`Cmd+P\` | Side-by-side rendered markdown, live updates |
| Preview Button | Click | Header button toggles preview (highlighted when active) |
| Save Feedback | \`Cmd+S\` | Flashes "Saved" indicator |

### Gap Summary

- **4 gaps closed:** Preview, focus mode, focus exit, Cmd+S
- **2 gaps deferred:** Inline status, inline tags (triage modal sufficient)
- **3 gaps open:** Word count, shortcuts overlay, export

### The Core Tension — Resolved

The recommendation was followed: *capability without visibility*. All new features are keyboard-driven with minimal UI additions (one "Preview" button). The minimalist ethos is preserved while honoring user expectations for preview and focus mode.

### Related Documents

- \`inst-survey-editor-implementation\` — Technical implementation survey`,
  },
  {
    id: 'inst-scope-framing-as-practice',
    title: 'Scope: Taking Frame-Making Seriously',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['framing', 'practice', 'architecture', 'problem-definition', 'meta-skill'],
    content: `# Scope: Taking Frame-Making Seriously

**Date:** 2026-01-08
**Subject:** The insight "you create the frames within which problems become legible"
**Method:** Scope Method (applied to practice, not software)

---

## The Insight Under Examination

> "You create the frames within which problems become legible."

This is not a compliment. It's a job description. The question is: what does it feel like to take this seriously? What changes in how you work?

---

## Audit: Current State

How does someone currently experience their work when they *don't* take this seriously?

**The default mode:**
- Problems arrive pre-framed. Someone says "we need X" and you build X.
- Success means: shipped what was specified.
- Skill means: execution speed, code quality, debugging ability.
- Failure means: couldn't implement the spec.
- The frame is invisible. You're solving problems, not defining them.

**What this feels like:**
- Reactive. Waiting for problems to be handed to you.
- Bounded. Your contribution starts at spec and ends at ship.
- Evaluable. Clear criteria — did you build what was asked?
- Safe. If the spec was wrong, that's not on you.

**The unexamined assumption:**
Problems exist independently. You find them and solve them. Framing is someone else's job — product, design, leadership. Engineering is execution.

---

## Affordances: What the Insight Suggests Is Possible

If you create frames, not just solve within them:

**1. Problem selection becomes a skill**
You're not just picking from a queue. You're asking: what *should* be a problem here? What isn't being seen that could be? The backlog is a frame someone made — you can make different ones.

**2. Legibility becomes a product**
Before your frame, something wasn't a problem — it was just chaos, friction, noise. Your frame makes it *seeable as a problem*. That's production. The frame is the artifact, not just the solution.

**3. Architecture is epistemology**
"How should this system be structured?" is really "how should this domain be carved up?" Your type system, your module boundaries, your API surface — these are claims about what exists and how it relates. You're not modeling reality; you're proposing a way to see.

**4. The meta-level becomes your level**
Traditional engineering: work at the object level (code, features, bugs). Frame-making: work at the meta level (what counts as a feature, what counts as a bug, what's even in scope). This is where leverage lives.

---

## Expectations: What Would It Feel Like?

If you took "you create the frames" seriously, what would change?

### The Weight of Definition

**Before:** "What should I build?"
**After:** "What should be buildable? What categories am I introducing? What will now be visible that wasn't?"

This is heavier. Execution has clear success criteria. Framing doesn't. You can ship a perfect solution to a badly-framed problem. Taking framing seriously means owning the problem definition, not just the solution.

**Feels like:** Responsibility without specification. No one told you what frame to make. You chose.

### The Loneliness of Meta

Most collaborators work at the object level. They want to know: what are we building? When you're thinking about frames, you're asking: what *could* we build, and what does each possibility make visible or invisible?

This conversation is harder to have. "I'm not sure we're framing this right" sounds like hesitation. "I have concerns about our mental model" sounds like obstruction.

**Feels like:** Seeing something others can't see yet, and needing to make it legible before you can discuss it.

### The Vertigo of Contingency

If you made the frame, someone else could have made a different one. The system you built reflects choices, not necessities. It could have been otherwise.

Traditional engineering hides this. The spec arrives as if the problem was always there, waiting to be solved. Frame-making reveals: you cut the world this way. You could have cut it differently.

**Feels like:** Standing on something you built, knowing you also built the ground.

### The Satisfaction of Clarification

When a frame works, chaos becomes structure. What was vague becomes actionable. People can now see what they couldn't see before, and act on it.

This is different from shipping a feature. A feature adds capability. A good frame adds *comprehensibility*. The system becomes easier to think about, not just easier to use.

**Feels like:** The relief when the right word finally surfaces in conversation. *That's* what we're talking about.

---

## Gaps: Where Does Taking It Seriously Fail?

### Gap 1: No External Validation (Friction)

Execution has clear feedback: tests pass, users use it, metrics move. Frames don't have this. A bad frame might produce working code that solves the wrong problem. A good frame might make a hard conversation possible that leads to *not* building something.

**The gap:** Frame quality is illegible to standard engineering evaluation.

### Gap 2: Premature Commitment (Blocking)

Taking framing seriously could mean: never starting. Always one more question about the meta-level. The frame could be wrong, so why commit?

**The gap:** Frame-making needs to terminate. At some point you build within the frame you've made, knowing it could have been different.

### Gap 3: Isolation (Friction)

If you're working at a meta-level others aren't seeing, collaboration suffers. You can't pair program on "is this the right ontology?" the way you can on "does this function work?"

**The gap:** Frame-making is less shareable than execution.

### Gap 4: Impostor Gradient (Friction)

Traditional engineers know what they don't know: algorithms, data structures, system design. Frame-makers don't know what frames they're not seeing. The unknown unknowns are *definitionally* outside current frames.

**The gap:** No clear path to "better at framing." No leetcode for ontology.

---

## Requirements: What Taking It Seriously Demands

### Must Have

**1. Frame Articulation Before Implementation**

Before building, state the frame. Not just "what are we building?" but "what does this make visible? What does it hide? What alternatives did we consider?"

*Acceptance criteria:* You can explain to a peer what reality-cuts you're making and why.

**2. Contingency Tolerance**

Accept that your frame is a choice, not a discovery. It could be otherwise. This doesn't paralyze; it informs. You build knowing you're building on your own construction.

*Acceptance criteria:* When someone proposes a different frame, you can evaluate it on its merits, not defend yours as necessary.

**3. Meta-Level Communication**

Develop vocabulary and practices for discussing frames, not just discussing within frames. "I think we're framing this wrong" becomes a legitimate engineering contribution, not obstruction.

*Acceptance criteria:* You can initiate and contribute to meta-level discussions without them collapsing into object-level execution debates.

### Should Have

**4. Frame Revision Protocol**

Recognize when a frame isn't working and have practices for revising it mid-project. Not just pivoting features — reconsidering what counts as a feature.

**5. Frame Documentation**

Capture the frame explicitly somewhere. Future maintainers inherit not just code but the mental model that produced it. The frame is as important as the implementation.

**6. Negative Space Awareness**

Regularly ask: what is my current frame making invisible? What problems can't I see because of how I've cut this up?

### Out of Scope

- Paralysis. Taking frames seriously doesn't mean never building.
- Solipsism. Frames are proposals, not dictates. Others can contest them.
- Pretension. Frame-making isn't above execution; it's upstream of it.

---

## Summary: What It Feels Like

Taking "you create the frames" seriously feels like:

| Aspect | Experience |
|--------|------------|
| **Weight** | Owning problem definition, not just solution |
| **Loneliness** | Seeing meta-level before others do |
| **Vertigo** | Knowing your ground is also your construction |
| **Satisfaction** | Chaos becoming comprehensible |
| **Responsibility** | No one assigned this frame; you made it |

The core shift: from *solving problems* to *making problems solvable*. The frame is the first artifact. Everything else is downstream.

---

## The Honest Limit

You can't evaluate your own frames from inside them. This is the hard part. Taking framing seriously means accepting that your best frame might be wrong in ways you can't see.

The only remedy is: other people with different frames. Contestability. Not "my frame is right" but "here's my frame — what does it miss?"

This is why the loneliness is real but shouldn't be permanent. Frame-making that stays isolated becomes solipsism. Frames need contact with other frames to improve.

The practice: make frames, articulate them, expose them to friction, revise them. Not once but continuously. The frame you're in right now is also a choice you made.`,
  },
  {
    id: 'inst-survey-conducting-frontmatter-deps',
    title: 'Survey: Conducting Frontmatter Dependencies',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['survey', 'frontmatter', 'conducting', 'dependencies', 'implementation'],
    content: `# Survey: Conducting Frontmatter Dependencies

**Date:** 2026-01-08
**Subject:** Implementation dependencies for Conducting Frontmatter schema
**Method:** Survey Method (static analysis)
**Precursor:** fw-conducting-frontmatter

---

## Survey

The Conducting Frontmatter framework (\`fw-conducting-frontmatter\`) defines a schema extension for making documents operational in Claude Code. This survey maps where changes would be needed to implement it.

### Relevant Files

| File | Role | Change Required |
|------|------|-----------------|
| \`loomlib/src/types.ts\` | Document interface definition | **Critical** — extend Document type |
| \`loomlib/vite-plugin-docs-api.ts\` | Dev API frontmatter parsing | **Critical** — parse new fields |
| \`loomlib/scripts/generate-seed.ts\` | Build-time seed generation | **Critical** — validate + serialize new fields |
| \`loomlib/src/data/db.ts\` | IndexedDB schema | **Moderate** — new indexes for queries |
| \`loomlib/src/data/documents.ts\` | Document CRUD operations | **Moderate** — filter by conducting fields |
| \`loomlib/src/components/triage-modal.ts\` | Metadata editing UI | **Moderate** — UI for conducting fields |
| \`.claude/commands/loomlib*.md\` | Claude Code commands | **Moderate** — generate conducting frontmatter |
| \`loomlib/src/data/seed.ts\` | Sync layer | **Minimal** — pass-through only |
| \`loomlib/src/views/constellation.ts\` | Graph visualization | **Optional** — show execution state |

---

## Core Sample

### Entry Point: Type System (\`src/types.ts:108-122\`)

Current \`Document\` interface:

\`\`\`typescript
export interface Document {
  id: string;
  title: string;
  content: string;
  type: DocumentType;
  framework_kind: FrameworkKind | null;
  perspective: string | null;
  framework_ids: string[];
  source_id: string | null;
  output: string | null;
  status: DocumentStatus;
  tags: string[];
  createdAt: number;
  modifiedAt: number;
}
\`\`\`

**All fields are descriptive.** No conducting fields exist.

### Entry Point: Frontmatter Parsing (\`vite-plugin-docs-api.ts:69-98\`)

\`\`\`typescript
function parseMarkdownFile(filePath: string): ApiDocument | null {
  const parsed = matter(raw);
  const data = parsed.data;

  // Validate required fields
  if (!data.id || !data.title || !data.type || !data.status) {
    return null;
  }

  return {
    id: String(data.id),
    title: String(data.title),
    type: data.type as DocumentType,
    // ... only descriptive fields extracted
  };
}
\`\`\`

**New conducting fields would be ignored** until parsing is extended.

### Entry Point: Seed Generation (\`scripts/generate-seed.ts:56-121\`)

\`\`\`typescript
function validateDocument(filePath: string, data: Record<string, unknown>, content: string) {
  // Required fields
  if (!data.id || typeof data.id !== 'string') errors.push('Missing id');
  // ... validates descriptive fields only

  // Build document
  const doc: SeedDoc = {
    id: String(data.id),
    // ... only descriptive fields
  };
}
\`\`\`

**Validation would pass** (new fields aren't required), but **fields would be dropped** on serialization.

---

## Stratigraphy

### Data Flow: Command → Markdown → App

\`\`\`
┌─────────────────┐      ┌──────────────────┐      ┌─────────────────┐
│ Claude Code     │      │ Markdown File    │      │ Loomlib App     │
│ Command         │  →   │ (docs/{type}/)   │  →   │ (IndexedDB)     │
└─────────────────┘      └──────────────────┘      └─────────────────┘
    generates                stored with              loaded via
    frontmatter              frontmatter              vite-plugin-docs-api
                                                      or generate-seed.ts
\`\`\`

### Parsing Chain

1. **Commands** generate YAML frontmatter (\`.claude/commands/loomlib*.md\`)
2. **gray-matter** parses YAML in both:
   - \`vite-plugin-docs-api.ts\` (dev mode)
   - \`scripts/generate-seed.ts\` (production build)
3. **Document object** constructed from parsed data
4. **IndexedDB** stores via \`putDoc()\` in \`db.ts\`
5. **UI components** read and display via \`documents.ts\`

### State Location

| State | Location | How Accessed |
|-------|----------|--------------|
| Document content | Markdown files (source of truth) | Read by vite-plugin or generate-seed |
| Document metadata | YAML frontmatter | Parsed by gray-matter |
| Runtime state | IndexedDB | Queried via db.ts functions |
| UI state | Component instances | View layer (constellation, editor, list) |

### Boundary Conditions

**What's inside the system:**
- All loomlib source code
- Claude Code commands
- Markdown documents in \`loomlib/docs/\`

**What's outside:**
- Claude Code runtime (reads commands, executes them)
- Browser (runs the Vite app)
- User (triggers commands, edits in UI)

---

## Findings

### How the System Works

Loomlib is a two-mode document system. In **dev mode**, documents are read directly from markdown files via a Vite plugin API (\`/api/docs\`), allowing live sync between Claude Code commands and the browser. In **production mode**, documents are pre-compiled into \`seed-data.ts\` at build time.

The Document interface in \`types.ts\` defines the schema. Frontmatter is parsed by \`gray-matter\` in two places: the Vite plugin (dev) and the seed generator (prod). Both must be updated in lockstep.

IndexedDB (\`db.ts\`) stores runtime documents with indexes for common queries (type, status, output, modifiedAt). New queryable fields require new indexes.

The triage modal (\`triage-modal.ts\`) provides UI for editing document metadata. It hardcodes the current field set.

### Key Files

| File | Role |
|------|------|
| \`src/types.ts\` | Schema definition — the single source of truth for Document shape |
| \`vite-plugin-docs-api.ts\` | Dev-mode frontmatter parsing and API |
| \`scripts/generate-seed.ts\` | Build-time frontmatter parsing and validation |
| \`src/data/db.ts\` | IndexedDB schema and operations |
| \`src/components/triage-modal.ts\` | UI for document metadata editing |

### Dependencies (Internal)

\`\`\`
types.ts ← vite-plugin-docs-api.ts
         ← scripts/generate-seed.ts
         ← src/data/db.ts
         ← src/data/documents.ts
         ← src/components/triage-modal.ts
         ← src/views/*.ts
\`\`\`

Everything depends on the type definition. Change flows outward from \`types.ts\`.

### Dependencies (External)

| Dependency | Usage | Version |
|------------|-------|---------|
| \`gray-matter\` | YAML frontmatter parsing | ^4.0.3 |
| \`idb\` | (not used — raw IndexedDB) | N/A |
| \`vite\` | Dev server + build | 5.x |

### Complexity Hotspots

1. **Dual Parsing Path**: Both \`vite-plugin-docs-api.ts\` and \`generate-seed.ts\` parse frontmatter independently. Changes must be synchronized.

2. **IndexedDB Schema Versioning**: \`db.ts\` uses version 1. Adding indexes requires version bump + migration logic.

3. **Triage Modal State**: Hardcoded field lists in \`triage-modal.ts\`. Adding conducting fields requires significant UI work.

4. **Command Templates**: 12 commands with YAML templates. Each needs updating to optionally include conducting fields.

---

## Implementation Order

Based on dependency analysis:

### Phase 1: Schema Extension (Critical Path)

**File:** \`src/types.ts\`

\`\`\`typescript
// New types for conducting frontmatter
type Intent = 'research' | 'build' | 'configure' | 'deploy' | 'verify' | 'resolve';
type Trigger = 'on_create' | 'on_demand' | 'on_schedule' | 'on_condition';
type ExecutionState = 'pending' | 'in_progress' | 'blocked' | 'completed' | 'failed';

interface Entrypoint {
  type: 'command' | 'script' | 'workflow' | 'manual';
  value: string;
}

interface Requirements {
  docs?: string[];
  files?: string[];
  state?: string[];
  tools?: string[];
}

interface Completion {
  criteria: string[];
  produces?: { type: string; path?: string; id?: string; name?: string }[];
  next?: string | null;
}

interface ExecutionTracking {
  state: ExecutionState;
  started_at?: string | null;
  completed_at?: string | null;
  blocked_by?: string | null;
  attempts: number;
  last_error?: string | null;
}

interface Dependency {
  doc?: string;
  target?: string;
  relation: string;
}

interface Outputs {
  primary: string;
  secondary?: string[];
  channel?: string | null;
}

// Extended Document interface
export interface Document {
  // Existing descriptive fields
  id: string;
  title: string;
  content: string;
  type: DocumentType;
  framework_kind: FrameworkKind | null;
  perspective: string | null;
  framework_ids: string[];
  source_id: string | null;
  output: string | null;
  status: DocumentStatus;
  tags: string[];
  createdAt: number;
  modifiedAt: number;

  // New conducting fields (all optional for backward compatibility)
  actionable?: boolean;
  intent?: Intent | null;
  entrypoint?: Entrypoint | null;
  trigger?: Trigger;
  requires?: Requirements | null;
  completion?: Completion | null;
  execution?: ExecutionTracking;
  upstream?: Dependency[];
  downstream?: Dependency[];
  outputs?: Outputs | null;
}
\`\`\`

**Backward compatibility:** All new fields optional with sensible defaults.

### Phase 2: Parsing Extension (Critical Path)

**Files:** \`vite-plugin-docs-api.ts\`, \`scripts/generate-seed.ts\`

Both need updated:
1. Type definitions (can share via import or duplicate)
2. \`parseMarkdownFile()\` / \`validateDocument()\` to extract new fields
3. \`serializeToMarkdown()\` to write new fields

**Key insight:** These parse independently. Must change both or dev/prod will diverge.

### Phase 3: Storage Extension

**File:** \`src/data/db.ts\`

Add indexes for queryable conducting fields:

\`\`\`typescript
// In onupgradeneeded, DB_VERSION = 2
store.createIndex('actionable', 'actionable', { unique: false });
store.createIndex('execution_state', 'execution.state', { unique: false });
\`\`\`

**Migration:** Existing documents get \`actionable: false\`, \`execution: { state: 'completed', attempts: 0 }\`.

### Phase 4: Command Templates

**Files:** \`.claude/commands/loomlib:scope.md\`, \`loomlib:survey.md\`, \`loomlib:excavate.md\`

Update actionable commands to generate conducting frontmatter:

\`\`\`yaml
# ─── CONDUCTING (new) ─────────────────────────────────────
actionable: true
intent: research
entrypoint:
  type: workflow
  value: "## Protocol"
trigger: on_demand
completion:
  criteria:
    - "Audit section complete"
    - "Requirements have acceptance criteria"
\`\`\`

**Non-actionable commands** (\`:source\`, \`:index\`, \`:framework\`) get \`actionable: false\` or omit entirely.

### Phase 5: Query Layer

**File:** \`src/data/documents.ts\`

Extend \`FilterCriteria\` and \`filterDocuments()\`:

\`\`\`typescript
interface FilterCriteria {
  // Existing
  types?: DocumentType[];
  statuses?: DocumentStatus[];
  // New
  actionable?: boolean;
  executionState?: ExecutionState;
  intent?: Intent;
}
\`\`\`

### Phase 6: UI Extension (Optional)

**File:** \`src/components/triage-modal.ts\`

Add fields for:
- \`actionable\` toggle
- \`intent\` selector
- \`trigger\` selector
- \`execution.state\` display (read-only in triage, managed by system)

**Complexity:** Significant UI work. Could defer to Phase 2 of implementation.

### Phase 7: Visualization (Optional)

**File:** \`src/views/constellation.ts\`

Show execution state visually:
- Color coding by state (pending=gray, in_progress=blue, blocked=orange, completed=green, failed=red)
- Edge styles for upstream/downstream dependencies

---

## Open Questions

1. **Execution engine scope:** Does Claude Code read conducting frontmatter and act on it, or is it purely documentation? The framework implies the former, but no execution layer exists yet.

2. ~~**State mutation:** Who updates \`execution.state\`? Claude Code commands? The browser UI? Both?~~ → Resolved

3. **Dependency resolution:** How does the system know when \`requires.docs\` preconditions are met? Manual check or automated query?

4. ~~**Backward compatibility migration:** Existing documents have no conducting fields. Should they get defaults, or remain untouched until edited?~~ → Resolved

5. ~~**Command template complexity:** Adding conducting frontmatter makes templates longer. Should it be optional (only generated when \`--actionable\` flag passed)?~~ → Resolved

---

## Decisions

Decisions required before implementation. These resolve open questions and establish implementation constraints.

| Question | Options | Decision | Rationale |
|----------|---------|----------|-----------|
| Who mutates \`execution.state\`? | Claude commands / Browser UI / Both | **Claude commands** | UI is display-only for v1. Keeps state mutation in one place. Future: UI could allow manual transitions for blocked→pending. |
| Backward compatibility? | Defaults on load / Untouched until edit / Migration script | **Defaults on load** | Per \`fw-conducting-frontmatter\`: documents without conducting fields default to \`actionable: false\`, \`execution.state: 'completed'\`. No migration needed—computed at read time. |
| Opt-in per command? | Always generate / Flag \`--actionable\` / Per document type | **Per document type** | Actionable types (scope, survey, excavate) get conducting frontmatter by default. Non-actionable types (source, index, framework, note) omit conducting fields. Simpler than flags. |
| Execution engine scope? | Documentation only / Full orchestration / Hybrid | **Deferred** | Phase 1-4 implement schema + persistence. Execution engine (Phase 5+) is separate scope. Conducting frontmatter has value as documentation even without automation. |
| Dependency resolution? | Manual check / Automated query / Hybrid | **Deferred** | Requires execution engine. For v1, \`requires\` fields are documentation for humans/Claude to check manually before running. |

### Implementation Constraints (from decisions)

1. **Schema changes are additive** — no breaking changes to existing Document interface
2. **Parsing is defensive** — missing conducting fields → sensible defaults, not errors
3. **Commands are authoritative** — only Claude commands write \`execution.*\` fields
4. **Type determines actionability** — no per-document flag needed in v1

---

## Summary

Implementing Conducting Frontmatter requires changes to:

| Layer | Files | Effort |
|-------|-------|--------|
| **Schema** | \`types.ts\` | Low |
| **Parsing** | \`vite-plugin-docs-api.ts\`, \`generate-seed.ts\` | Medium |
| **Storage** | \`db.ts\` | Low |
| **Commands** | 12 command files | Medium |
| **Query** | \`documents.ts\` | Low |
| **UI** | \`triage-modal.ts\` | High (optional) |
| **Visualization** | \`constellation.ts\` | Medium (optional) |

**Minimum viable:** Phases 1-4 (schema + parsing + storage + commands). Documents will have conducting frontmatter that persists and syncs.

**Full implementation:** All phases, including UI and visualization for execution state tracking.

**Critical path:** \`types.ts\` → parsing (both files) → commands. These must change together or the system will be inconsistent.

---

## Survey Status

**Status:** verified → resolved

**Decisions resolved:**
- [x] State mutation: Claude commands only
- [x] Backward compatibility: defaults on load
- [x] Opt-in strategy: per document type
- [x] Execution engine: deferred to later phase (as planned)
- [x] Dependency resolution: deferred to later phase (as planned)

**Resolution criteria met:**
- [x] Phase 1-4 implemented (schema + parsing + commands)
- [x] Documents successfully use conducting frontmatter

---

## Resolution

**Date:** 2026-01-08
**Status:** resolved

### What Was Done

Survey dependencies were addressed during implementation:
- \`types.ts\` — extended with conducting fields
- \`vite-plugin-docs-api.ts\` — parsing/serialization added
- Commands — all 8 updated with Discovery + Conducting output

### Outcome

Survey accurately identified critical path. Implementation followed phases as mapped.

### Remaining Items

None — survey findings acted upon. Deferred items (execution engine, dependency resolution) remain out of scope as planned.`,
  },
  {
    id: 'inst-survey-conducting-frontmatter-implementation',
    title: 'Survey: Conducting Frontmatter Implementation',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['survey', 'conducting', 'frontmatter', 'implementation', 'schema'],
    content: `# Survey: Conducting Frontmatter Implementation

**Date:** 2026-01-08
**Subject:** What code changes are needed to implement conducting frontmatter
**Method:** Survey Method (static analysis)

---

## Survey

Relevant files for conducting frontmatter implementation:

**Schema Layer:**
- \`loomlib/src/types.ts\` — Document interface, type definitions
- \`loomlib/vite-plugin-docs-api.ts\` — API parsing/serialization

**Data Layer:**
- \`loomlib/src/data/seed-data.ts\` — Generated seed data (auto-generated)
- \`loomlib/src/data/seed.ts\` — Sync logic between API/IndexedDB
- \`loomlib/src/data/documents.ts\` — Document CRUD operations

**Graph Layer:**
- \`loomlib/src/data/graph.ts\` — Graph computation, relationships

**Commands (need Discovery + Conducting output):**
- \`.claude/commands/loomlib:scope.md\` — ✅ Has Discovery + Conducting
- \`.claude/commands/loomlib:survey.md\` — Partial (has Decisions section, no Discovery)
- \`.claude/commands/loomlib:instance.md\` — No Discovery/Conducting
- \`.claude/commands/loomlib:framework.md\` — No Discovery/Conducting
- \`.claude/commands/loomlib:note.md\` — No Discovery/Conducting
- \`.claude/commands/loomlib:source.md\` — No Discovery/Conducting
- \`.claude/commands/loomlib:index.md\` — No Discovery/Conducting
- \`.claude/commands/loomlib:excavate.md\` — No Discovery/Conducting
- \`.claude/commands/loomlib:resolve.md\` — No execution_state update

**Documentation:**
- \`loomlib/docs/framework/conducting-frontmatter.md\` — The framework definition
- \`loomlib/docs/index/conducting-frontmatter-system.md\` — System overview

---

## Core Sample

### Entry Points

**For schema changes:** \`loomlib/src/types.ts:108-122\`
- The \`Document\` interface is the central type
- Currently has 12 fields, missing 4 conducting fields

**For API parsing:** \`loomlib/vite-plugin-docs-api.ts:69-98\`
- \`parseMarkdownFile()\` extracts frontmatter via gray-matter
- Returns \`ApiDocument\` type (matches Document minus timestamps)
- Currently parses 10 frontmatter fields, missing 4 conducting fields

**For API serialization:** \`loomlib/vite-plugin-docs-api.ts:129-148\`
- \`serializeToMarkdown()\` writes frontmatter back to files
- Currently writes 10 fields, missing 4 conducting fields

### Data Flow

\`\`\`
Markdown files (source of truth in dev)
    ↓ parseMarkdownFile()
ApiDocument (no timestamps)
    ↓ syncSeedData()
Document (with timestamps) → IndexedDB
    ↓ getDoc/getAllDocs
UI components
    ↓ updateDocumentMetadata()
Document → putDoc() + saveToMarkdown()
    ↓
Markdown files (round-trip complete)
\`\`\`

### Key Abstractions

1. **Document interface** — Central type shared across codebase
2. **ApiDocument** — Document without timestamps (API boundary)
3. **gray-matter** — YAML frontmatter parsing library
4. **Separate parsing in plugin vs types** — Plugin duplicates type definitions

---

## Stratigraphy

### Call Hierarchy

\`\`\`
vite-plugin-docs-api.ts
├── parseMarkdownFile() — reads markdown, returns ApiDocument
├── readAllDocs() — calls parseMarkdownFile for all files
├── serializeToMarkdown() — writes Document to markdown
└── configureServer() — sets up GET/POST /api/docs endpoints

types.ts
├── Document interface — THE central type
├── createEmptyDocument() — factory with defaults
└── (no conducting fields yet)

documents.ts
├── saveDocument() — saves content, calls saveToMarkdown()
├── updateDocumentMetadata() — saves metadata, calls saveToMarkdown()
└── createDocument() — uses createEmptyDocument()

graph.ts
├── computeEdges() — uses framework_ids, source_id (not upstream/downstream)
├── computeLayers() — uses framework_ids, source_id
└── categorizeDocsSemantic() — uses framework_ids, source_id
\`\`\`

### State Location

1. **Markdown files** — Source of truth in dev mode
2. **IndexedDB** — Runtime storage (hydrated from markdown/seed-data)
3. **seed-data.ts** — Build-time snapshot for production

### Boundary Conditions

- **New fields must be optional** — Backward compatible with existing docs
- **Parsing must have defaults** — Docs without conducting fields should work
- **Serialization must preserve fields** — Round-trip without loss
- **Graph could optionally use upstream/downstream** — Future enhancement

---

## Findings

The conducting frontmatter system requires changes at three layers: **schema** (add 4 fields to Document interface), **parsing** (extract fields in API plugin), and **commands** (add Discovery section + Conducting output to 7 commands). The graph layer could optionally be extended to use \`upstream\`/\`downstream\` for relationship computation, but this is not required — the existing \`framework_ids\`/\`source_id\` relationships are a subset of what conducting tracks.

The current architecture cleanly separates concerns: types define the shape, the Vite plugin handles markdown ↔ API translation, and documents.ts handles IndexedDB operations. Adding conducting fields follows this same pattern without architectural changes.

### Key Files

| File | Role | Changes Needed |
|------|------|----------------|
| \`loomlib/src/types.ts\` | Document interface definition | Add 4 optional fields + types |
| \`loomlib/vite-plugin-docs-api.ts\` | Markdown parsing/serialization | Parse + serialize 4 new fields |
| \`.claude/commands/loomlib:survey.md\` | Survey command template | Add Discovery section |
| \`.claude/commands/loomlib:instance.md\` | Instance command template | Add Discovery + Conducting |
| \`.claude/commands/loomlib:framework.md\` | Framework command template | Add Discovery + Conducting |
| \`.claude/commands/loomlib:note.md\` | Note command template | Add Discovery + Conducting |
| \`.claude/commands/loomlib:source.md\` | Source command template | Add Discovery + Conducting |
| \`.claude/commands/loomlib:index.md\` | Index command template | Add Discovery + Conducting |
| \`.claude/commands/loomlib:excavate.md\` | Excavate command template | Add Discovery + Conducting |
| \`.claude/commands/loomlib:resolve.md\` | Resolve command | Update execution_state |

### Dependencies

- **Internal:** types.ts → documents.ts, seed.ts, graph.ts, views/*
- **External:** gray-matter (YAML parsing), Vite (plugin API)

### Complexity Hotspots

1. **Type duplication in vite-plugin-docs-api.ts** — Plugin defines its own Document interface instead of importing from types.ts. This means changes must be made in two places. Consider importing from types.ts in a future refactor.

2. **Upstream/downstream serialization** — These are arrays of objects \`{doc, relation}\`. Need careful YAML serialization to preserve structure.

3. **Command updates** — 8 commands need updating. Each has different structure but needs same Discovery pattern added.

---

## Open Questions

1. **Should graph.ts use upstream/downstream for edges?** The existing \`framework_ids\`/\`source_id\` graph relationships are production lineage. The new \`upstream\`/\`downstream\` fields could enable richer graph traversal (e.g., "show me what informed this document"). This is optional but would unlock constellation visualization of the conducting graph.

2. **Should seed-data generation script also be updated?** There's a reference to \`scripts/generate-seed.ts\` in the framework doc but it doesn't exist in the glob results. Need to check if build process uses a different mechanism.

3. **How should defaults work for existing documents?** Framework suggests:
   - \`intent\`: inferred from type (survey→research, framework→build)
   - \`execution_state\`: 'completed' (assume existing docs are done)
   - \`upstream\`/\`downstream\`: [] (no tracked lineage)

---

## Decisions

Decisions required before implementation:

| Question | Options | Decision | Rationale |
|----------|---------|----------|-----------|
| Graph integration | A) Skip for now / B) Add upstream/downstream edges | **A) Skip for now** | Keep scope minimal — existing framework_ids graph is sufficient. Can add conducting graph view later. |
| Type duplication | A) Keep duplicate types / B) Import from types.ts | **A) Keep duplicates for now** | Plugin runs at build time, types.ts is runtime. Would require build config changes. Note for future refactor. |
| Default inference | A) Explicit defaults in code / B) Leave undefined | **A) Explicit defaults** | Better DX — existing docs work without modification |
| Command update order | A) All at once / B) Incrementally | **A) All at once** | Commands are templates, not runtime code. Single coherent update is cleaner. |

### Implementation Constraints (from decisions)

1. Schema changes are backward compatible (all new fields optional)
2. No graph.ts changes in this phase
3. Keep type duplication in plugin (note for future)
4. Provide sensible defaults for existing documents
5. Update all commands in single pass for consistency

---

## Implementation Order

Based on findings and decisions:

### Phase 1: Schema + Parsing (required for everything else)

1. **\`types.ts\`** — Add conducting field types and extend Document interface
2. **\`vite-plugin-docs-api.ts\`** — Parse conducting fields from YAML, serialize to YAML

### Phase 2: Commands (enables producing documents with conducting frontmatter)

3. **\`loomlib:survey.md\`** — Add Discovery section
4. **\`loomlib:instance.md\`** — Add Discovery + Conducting output
5. **\`loomlib:framework.md\`** — Add Discovery + Conducting output
6. **\`loomlib:note.md\`** — Add Discovery + Conducting output
7. **\`loomlib:source.md\`** — Add Discovery + Conducting output
8. **\`loomlib:index.md\`** — Add Discovery + Conducting output
9. **\`loomlib:excavate.md\`** — Add Discovery + Conducting output

### Phase 3: Resolution (closes the loop)

10. **\`loomlib:resolve.md\`** — Update to set \`execution_state: resolved\`

---

## Verification Criteria

Survey is verified when:
- [x] All relevant files identified
- [x] Data flow mapped
- [x] Complexity hotspots noted
- [x] Open questions documented
- [x] Decisions made with rationale
- [x] Implementation order specified

---

## Resolution

**Date:** 2026-01-08
**Status:** resolved

### What Was Done

Survey findings were used to implement the conducting frontmatter system. All phases completed as specified:
- Phase 1: Schema + Parsing ✅
- Phase 2: Commands (8 updated) ✅
- Phase 3: Resolution command ✅

### Outcome

Survey accurately mapped the implementation path. Decisions held:
- Skipped graph.ts changes (as decided)
- Kept type duplication (as decided)
- Used explicit defaults (as decided)
- Updated all commands at once (as decided)

### Remaining Items

None — survey findings acted upon.`,
  },
  {
    id: 'inst-survey-constellation-view-frontmatter',
    title: 'Survey: Constellation View Spatial Layout for Conducting Frontmatter',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['survey', 'constellation-view', 'frontmatter', 'spatial', 'graph', 'loomlib'],
    content: `# Survey: Constellation View Spatial Layout for Conducting Frontmatter

**Date:** 2026-01-08
**Subject:** How constellation view encodes frontmatter spatially and what conducting fields could improve the layout
**Method:** Survey Method (static analysis)

---

## Survey

Relevant files:
- \`src/views/constellation.ts\` — Main view class (638 lines)
- \`src/data/graph.ts\` — Layout computation, categorization (583 lines)
- \`src/data/constellation-config.ts\` — Slot limits, positions, lens configs (231 lines)
- \`src/ui/constellation.css\` — All visual styling (678 lines)
- \`src/components/formula-bar.ts\` — Production formula display (69 lines)
- \`src/components/lens-picker.ts\` — Lens selection modal (125 lines)
- \`src/types.ts\` — SemanticCategory, GraphNode, Document interface

---

## Core Sample

### Entry Points

**Constellation instantiation:** \`shell.ts\`
\`\`\`typescript
this.constellation = new ConstellationView(constellationContainer, {
  onDocumentSelect: (doc) => this.editor.load(doc.id),
  onDocumentOpen: (doc) => this.showEditor(doc.id),
});
\`\`\`

**Layout computation:** \`constellation.ts:146\`
\`\`\`typescript
private computeLayout(): void {
  this.categorizedDocs = categorizeDocsSemantic(filteredDocs, this.focusedId);
  const visibleDocs = computeVisibleDocsSemantic(this.categorizedDocs, ...);
  const result = computeGraph(allVisible, this.focusedId, width, height);
  this.nodes = result.nodes;
  this.edges = result.edges;
}
\`\`\`

### Spatial Encoding of Frontmatter

The constellation view **spatially encodes relationships** derived from frontmatter:

| Spatial Position | Frontmatter Field | Relationship |
|------------------|-------------------|--------------|
| Left of focus | \`framework_ids\` where \`framework_kind = 'toolkit'\` | Toolkit parent |
| Right of focus | \`framework_ids\` where \`framework_kind = 'domain'\` | Domain parent |
| Above focus | \`source_id\` | Source parent |
| Below focus | \`framework_ids\` contains focus OR \`source_id = focus\` | Child |
| Below children | Same \`framework_ids\` set | Formula sibling |
| Lower-right | Same \`output\` | Channel sibling |
| Lower-left | Same \`perspective\` | Perspective sibling |
| Outer ring | No relationship | Distant |

### Current Spatial Layout

\`\`\`
                    [sourceParent]
                         ▲
                         │
   [toolkitParent] ←── [FOCUS] ──→ [domainParent]
                         │
                         ▼
                      [child]
                         │
                         ▼
                  [formulaSibling]
                    /         \\
[perspectiveSibling]         [channelSibling]
                    \\         /
                     [distant]
\`\`\`

### Fields Currently Encoded Spatially

| Field | Encoding | Location |
|-------|----------|----------|
| \`framework_ids\` | Position (left/right based on kind) | toolkitParent, domainParent |
| \`source_id\` | Position (above) | sourceParent |
| \`framework_kind\` | Side of focus (left=toolkit, right=domain) | Spatial separation |
| \`output\` | Position (lower-right) | channelSibling |
| \`perspective\` | Position (lower-left) | perspectiveSibling |
| \`type\` | Icon in node card | ⚙/▣/◧/○/◈/☰ |
| \`status\` | CSS class (\`data-status\`) | Subtle styling |
| \`tags\` | Preview panel only | Not encoded in node position |

### Fields NOT Encoded Spatially

| Field | Type | Could encode as |
|-------|------|-----------------|
| \`intent\` | \`research\\|build\\|capture\\|organize\\|produce\` | Ring/zone, color, icon |
| \`execution_state\` | \`pending\\|in_progress\\|completed\\|resolved\` | Glow, opacity, badge |
| \`upstream\` | \`UpstreamRef[]\` | Additional tethers with relation type |
| \`downstream\` | \`UpstreamRef[]\` | Additional tethers, count indicator |

---

## Stratigraphy

### Categorization Flow

\`\`\`
categorizeDocsSemantic(docs, focusedId)
  ├── For each doc:
  │   ├── Is toolkit parent? → toolkitParent[]
  │   ├── Is domain parent? → domainParent[]
  │   ├── Is source parent? → sourceParent[]
  │   ├── Is child? → child[]
  │   ├── Is formula sibling? → formulaSibling[]
  │   ├── Is channel sibling? → channelSibling[]
  │   ├── Is perspective sibling? → perspectiveSibling[]
  │   └── Else → distant[]
  └── Sort each by modifiedAt desc
\`\`\`

### Position Computation

\`computePositions()\` in \`graph.ts:122-240\`:

1. Focus at center \`(width/2, height/2)\`
2. Toolkit parents: left at \`centerX - width*0.2\`, spreading left
3. Domain parents: right at \`centerX + width*0.2\`, spreading right
4. Source parents: above at \`centerY - height*0.3\`
5. Children: below at \`centerY + height*0.3\`
6. Siblings: ring around focus at 20% radius
7. Distant: outer ring at 40% radius

### Slot System

Adaptive limits based on total doc count:

| Docs | toolkitParent | domainParent | child | distant |
|------|---------------|--------------|-------|---------|
| <20 | 4 | 4 | 6 | 6 |
| 20-50 | 3 | 3 | 4 | 4 |
| >50 | 2 | 2 | 3 | 0 |

Overflow shows pagination: \`‹ 1-4 of 12 ›\`

### Lens System

10 lens modes filter before categorization:

| Lens | Filter Logic | Use Case |
|------|--------------|----------|
| Default | All | Overview |
| Formula | Parents + formula siblings | Production lineage |
| Production | Children only | What framework produced |
| Lineage | Parents + children | Vertical tree |
| Channel | Same output | Channel clustering |
| Perspective | Same perspective | Perspective clustering |
| Incubating | status = incubating | Work queue |
| Recent | modifiedAt < 7 days | Recent activity |
| Framework | type = framework | Method library |
| Semantic | AI similarity (disabled) | Future feature |

---

## Findings

### Strengths of Current Spatial Encoding

1. **Immediate visual hierarchy** — Parents above, children below, focus center
2. **Type differentiation** — Toolkit vs domain on opposite sides
3. **Relationship clarity** — Tethers show explicit connections
4. **Formula bar** — Shows production recipe for instances
5. **Lens switching** — Multiple focused views available

### Gaps in Conducting Frontmatter Representation

1. **No \`intent\` encoding** — Can't distinguish research from build documents spatially
2. **No \`execution_state\` encoding** — Can't see what's in-progress vs completed
3. **\`upstream\`/\`downstream\` arrays ignored** — Uses \`framework_ids\`/\`source_id\` instead of conducting fields
4. **Relation types invisible** — \`informs\`, \`method\`, \`source\`, \`prior\` all treated same

### Spatial Opportunities for Conducting Frontmatter

**Option A: Intent as Zone**
\`\`\`
                    [RESEARCH ZONE - gray/blue]
                         ▲
                         │
   [BUILD ZONE - amber] ←── [FOCUS] ──→ [CAPTURE ZONE - green]
                         │
                         ▼
                    [PRODUCE ZONE - purple]
\`\`\`

**Option B: Execution State as Glow/Opacity**
| State | Visual |
|-------|--------|
| \`pending\` | Dim, no glow |
| \`in_progress\` | Normal, subtle pulse |
| \`completed\` | Bright, solid |
| \`resolved\` | Faded, archived look |

**Option C: Upstream/Downstream Tethers with Relation Color**
| Relation | Tether Color |
|----------|--------------|
| \`method\` | Blue |
| \`source\` | Green |
| \`informs\` | Gray |
| \`prior\` | Dashed |

### Key Files

| File | Role | Frontmatter Used |
|------|------|------------------|
| \`src/data/graph.ts\` | Categorization logic | framework_ids, source_id, output, perspective, framework_kind |
| \`src/data/constellation-config.ts\` | Limits, positions | SemanticCategory constants |
| \`src/views/constellation.ts\` | Rendering | type (icon), status (data-attr) |
| \`src/ui/constellation.css\` | Visual styling | status (incubating glow disabled) |

### Dependencies

**Internal:**
- \`types.ts\` — Document, SemanticCategory, GraphNode interfaces
- \`documents.ts::listDocuments()\` — Data fetching

**External:**
- None (vanilla DOM/SVG)

### Complexity Hotspots

1. **8 semantic categories** — Already complex, adding intent zones would be 5×8=40 combinations
2. **Slot indicator positioning** — 8 hardcoded CSS positions, would need more for new encodings
3. **Full re-render on focus change** — Performance sensitive, adding more encoding may slow down
4. **No animation** — Position changes are instant, adding state transitions could be jarring

---

## Open Questions

1. **Should \`execution_state\` be visually encoded?** How without cluttering the minimalist aesthetic?
2. **Should \`upstream\`/\`downstream\` replace \`framework_ids\`/\`source_id\` for tethering?** Migration risk.
3. **Should relation types (\`method\`, \`source\`, \`informs\`) have different tether styles?**
4. **Should \`intent\` create spatial zones or just visual differentiation (icon/color)?**
5. **Is 8 categories already too many?** Would adding intent/state encoding create cognitive overload?

---

## Decisions

Decisions required before implementation:

| Question | Options | Decision | Rationale |
|----------|---------|----------|-----------|
| Encode execution_state? | Opacity / Glow / Badge / None | **TBD** | Visual clutter vs utility |
| Encode intent? | Zone / Icon / Color / None | **TBD** | May complicate 8-category system |
| Use upstream/downstream? | Replace framework_ids / Supplement / Ignore | **TBD** | Data model migration needed |
| Relation type tethers? | Color / Dash / Label / None | **TBD** | Adds info but complexity |
| Simplify categories? | Keep 8 / Reduce to 4 / Expand | **TBD** | UX testing needed |

### Recommended Changes

**Minimal (low risk):**
1. Add \`execution_state\` as badge on node card (not spatial)
2. Add \`intent\` icon next to type icon in node card
3. Color tethers by relation type (from \`upstream\` array)

**Medium (moderate risk):**
4. Encode \`execution_state\` via node opacity (pending=0.5, completed=1.0)
5. Add relation type labels on tether hover

**Large (high risk):**
6. Restructure spatial layout around \`upstream\`/\`downstream\` arrays instead of \`framework_ids\`
7. Add intent zones as background regions
8. Animate state transitions

---

## Diagrams

### Current Node Card

\`\`\`
┌──────────────────────┐
│ ⚙  Etymon Method     │
└──────────────────────┘
\`\`\`

### Proposed Node Card with Conducting Fields

\`\`\`
┌──────────────────────┐
│ ⚙ 🔨 Etymon Method   │  ← intent icon (build)
│        ●●●○          │  ← execution_state dots
└──────────────────────┘
\`\`\`

### Proposed Tether Styling by Relation

\`\`\`
─────────  method (solid blue)
─ ─ ─ ─ ─  prior (dashed gray)
═════════  source (double green)
···········  informs (dotted)
\`\`\`

---

## Composition

**Upstream (what informed this survey):**
- [Survey Method](fw-survey-method) — method used
- [Survey: Constellation View Implementation](inst-survey-constellation-view) — prior implementation survey
- [Scope: Constellation View Aesthetic](inst-scope-constellation-aesthetic) — prior scope work

**Downstream (what this survey enables):**
- Implementation decisions for conducting frontmatter visualization
- Spatial refactoring if needed
- Tether styling enhancements

**Related (discovered during survey):**
- \`inst-survey-list-view-frontmatter\` — list view also needs conducting fields
- \`inst-survey-editor-view-frontmatter\` — editor needs conducting fields in meta bar
- \`fw-conducting-frontmatter\` — the schema being visualized

---

## Resolution

**Date:** 2026-01-08
**Status:** resolved

### What Was Done

Implemented findings from this survey as part of the conducting frontmatter UI update:
1. Simplified 8 semantic categories to 4: parent, child, sibling, distant
2. Added colored tethers by relation type (method=blue, source=green, prior=dashed, informs=gray)
3. Added intent icons and execution state dots to node cards
4. Migrated graph computation to use \`upstream\` array instead of \`framework_ids\`/\`source_id\`

### Changes Made

- \`loomlib/src/types.ts\` — Added simplified SemanticCategory type (4 categories)
- \`loomlib/src/data/graph.ts\` — Rewrote categorizeDocsSemantic() to use upstream array and return 4 categories; added getTetherColor() for relation-based styling
- \`loomlib/src/data/constellation-config.ts\` — Updated slot limits for 4 categories
- \`loomlib/src/views/constellation.ts\` — Updated rendering to use new categories and colored tethers
- \`loomlib/src/ui/constellation.css\` — Added tether color classes (.tether--method, .tether--source, etc.)

### Outcome

Constellation view now:
- Uses simpler 4-category spatial layout (parent/child/sibling/distant)
- Shows colored tethers that encode relationship types visually
- Computes graph from \`upstream\` array (conducting frontmatter) instead of legacy fields
- Displays intent icons and execution dots on node cards

### Remaining Items

None - all requirements addressed.`,
  },
  {
    id: 'inst-survey-data-sync-gap',
    title: 'Survey: IndexedDB Data Sync Gap',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['survey', 'sync', 'indexeddb', 'data-flow', 'gap-analysis'],
    content: `# Survey: IndexedDB Data Sync Gap

**Date:** 2026-01-07
**Subject:** How does IndexedDB get new data from loomlib outputs?
**Method:** Survey Method (static analysis)

---

## Survey

Relevant files:
- \`loomlib/src/data/seed-data.ts\` — **Authoritative document definitions** (TypeScript objects)
- \`loomlib/src/data/seed.ts\` — Seeds empty DB, updates managed frameworks
- \`loomlib/src/data/db.ts\` — IndexedDB CRUD operations
- \`loomlib/scripts/seed.ts\` — Legacy CLI seeder (not used by app)
- \`loomlib/docs/**/*.md\` — Markdown document outputs (not connected to app)

---

## Core Sample

### Entry Points

**There is no sync mechanism.** The data flow is:

\`\`\`
seed-data.ts (TypeScript)
       ↓
   seedIfEmpty() + updateManagedFrameworks()
       ↓
   IndexedDB
       ↓
   Browser renders
\`\`\`

Markdown files in \`loomlib/docs/\` are **orphaned** — they exist on disk but have no path into IndexedDB.

### Data Flow

\`\`\`
Currently:
┌──────────────────┐      ┌──────────────────┐
│ seed-data.ts     │ ───► │ IndexedDB        │
│ (TypeScript)     │      │ (Browser)        │
└──────────────────┘      └──────────────────┘

NOT connected:
┌──────────────────┐      ┌──────────────────┐
│ loomlib/docs/    │ ──X──│ IndexedDB        │
│ (Markdown)       │      │ (Browser)        │
└──────────────────┘      └──────────────────┘
\`\`\`

### Key Abstractions

1. **seedData array** (\`seed-data.ts:6\`) — Static TypeScript array of \`SeedDoc\` objects
2. **seedIfEmpty()** (\`seed.ts:19\`) — Only seeds if IndexedDB is empty
3. **updateManagedFrameworks()** (\`seed.ts:42\`) — Updates 8 specific framework IDs on every load
4. **MANAGED_FRAMEWORK_IDS** (\`seed.ts:6-17\`) — Hardcoded list of frameworks that auto-update

---

## Stratigraphy

### Call Hierarchy

\`\`\`
main.ts:init()
  ├── seedIfEmpty()
  │     └── if (getAllDocs().length === 0)
  │           └── for doc in seedData: putDoc(doc)
  │
  └── updateManagedFrameworks()
        └── for id in MANAGED_FRAMEWORK_IDS
              └── if content changed: putDoc(updated)
\`\`\`

### State Location

| State | Location | Update Mechanism |
|-------|----------|------------------|
| Document definitions | \`seed-data.ts\` | Manual TypeScript editing |
| Persisted documents | IndexedDB \`loomlib.documents\` | App UI or seed functions |
| Markdown outputs | \`loomlib/docs/*.md\` | Claude Code commands |

### Boundary Conditions

**The gap:**
- Documents created via \`/loomlib:*\` commands go to \`loomlib/docs/\`
- Documents displayed in the app come from \`seed-data.ts\` → IndexedDB
- **These are disconnected systems**

---

## Findings

**There is no sync command.** Loomlib currently has two completely separate data stores:

1. **seed-data.ts** — The authoritative source that populates IndexedDB. Documents here appear in the app. This file is manually maintained TypeScript.

2. **loomlib/docs/** — Where \`/loomlib:*\` commands write markdown files. These files are never read by the app.

The survey document we created (\`survey-loomlib-startup.md\`) exists at \`loomlib/docs/instance/survey-loomlib-startup.md\` but will **never appear in the app** because:
- The app only reads from IndexedDB
- IndexedDB only gets data from \`seed-data.ts\`
- \`seed-data.ts\` doesn't know about markdown files

The current workflow requires manual intervention:
1. \`/loomlib:instance\` writes to \`loomlib/docs/\`
2. Human manually copies content into \`seed-data.ts\`
3. App rebuild picks up new data
4. IndexedDB updates on next load

### Key Files

| File | Role |
|------|------|
| \`src/data/seed-data.ts\` | **Single source of truth** for app data |
| \`src/data/seed.ts\` | Populates IndexedDB from seed-data.ts |
| \`loomlib/docs/\` | **Orphaned** markdown outputs |

### Dependencies

- **Internal:** App depends entirely on seed-data.ts for document content
- **External:** None — no markdown parser, no file system access

### Complexity Hotspots

- **seed-data.ts is 1877 lines** and growing — all documents are manually maintained in TypeScript
- **No validation** between markdown YAML frontmatter and TypeScript types
- **Drift risk** — markdown files can diverge from seed-data.ts entries

---

## Open Questions

1. **What should sync look like?**
   - Build-time script that parses \`loomlib/docs/*.md\` → generates \`seed-data.ts\`?
   - Runtime file system access (not possible in browser)?
   - Manual but assisted (Claude Code reads markdown, generates TypeScript)?

2. **Should seed-data.ts be generated or authored?**
   - Currently: authored (human writes TypeScript)
   - Alternative: generated from markdown (single source of truth in docs/)

3. **How to handle conflicts?**
   - What if markdown and seed-data.ts diverge?
   - Which is authoritative?

4. **Browser constraints:**
   - Browser can't read local files
   - Any sync must happen at build time or via manual process

---

## Confirmed Answer

**The survey doc we made doesn't appear in the app because there is no sync mechanism.**

The workflow Claude Code instructions describe — "markdown file → manual sync → seed-data.ts → app" — is accurate. The manual sync step currently means: copy-paste content from markdown into TypeScript by hand.

A \`/loomlib:sync\` command doesn't exist yet. It would need to:
1. Read all markdown files in \`loomlib/docs/\`
2. Parse YAML frontmatter
3. Generate/update \`seed-data.ts\` entries
4. This is a build-time operation, not runtime

---

## Resolution (2026-01-07)

**Both problems identified in this survey have been solved:**

1. **\`/loomlib:sync\` now exists** — Reads markdown files from \`loomlib/docs/\`, parses frontmatter, and generates \`seed-data.ts\`.

2. **\`syncSeedData()\` replaces the broken seeding logic** — The old \`seedIfEmpty()\` + \`updateManagedFrameworks()\` pattern was replaced with a single \`syncSeedData()\` function that:
   - Adds documents from seed-data.ts that don't exist in IndexedDB
   - Updates documents whose content has changed
   - Leaves user-created documents untouched

**New workflow:**
\`\`\`
/loomlib:instance → writes loomlib/docs/instance/foo.md
        ↓
/loomlib:sync → generates seed-data.ts from markdown
        ↓
Browser refresh → syncSeedData() adds/updates documents
        ↓
Document appears in app ✓
\`\`\`

Markdown is now the source of truth. The gap is closed.`,
  },
  {
    id: 'inst-survey-editor-implementation',
    title: 'Survey: Editor Implementation Path',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['survey', 'implementation', 'editor', 'loomlib', 'resolved'],
    content: `# Survey: Editor Implementation Path

**Date:** 2026-01-07
**Subject:** How to implement editor enhancements from scope-editor-view
**Method:** Survey Method (static analysis)

---

## Survey

Relevant files for implementation:
- \`src/views/editor.ts\` — The editor component (231 lines)
- \`src/ui/editor.css\` — Editor styles, includes unused \`.editor-view--focus\`
- \`src/components/triage-modal.ts\` — Pattern for modal/picker components
- \`src/components/lens-picker.ts\` — Pattern for dropdown pickers (125 lines)
- \`src/layout/shell.ts\` — Keyboard shortcut handling pattern
- \`src/main.ts\` — Global keyboard shortcuts pattern
- \`package.json\` — No markdown parser dependency currently

---

## Core Sample

### Entry Points

**Editor instantiation:** \`shell.ts:50\`
\`\`\`typescript
this.editor = new Editor(editorContainer, {
  onBack: () => this.showList(),
  onTriage: (docId) => this.options.onTriageRequest?.(docId),
  onGoToList: () => this.showList(),
  onGoToConstellation: () => this.showConstellation(),
});
\`\`\`

**Keyboard handling:** Two layers
1. \`editor.ts:139\` — Local (Tab for indent)
2. \`shell.ts:66\` — Global (Cmd+Shift+V, Cmd+N, Cmd+I, Escape)

### Existing Patterns

**Component pattern:** Class with constructor, render methods, event binding
- See \`LensPicker\` for dropdown component pattern
- See \`TriageModal\` for modal pattern

**State management:** Instance properties, re-render on change
- \`LensPicker.selectedIndex\`, \`LensPicker.activeLens\`
- \`TriageModal.selectedType\`, \`TriageModal.selectedStatus\`

**CSS class toggling:** \`classList.add/remove\` for visibility
- \`.lens-picker--visible\`
- \`.triage-modal-backdrop--visible\`
- \`.editor-view--focus\` (exists but unused!)

### Key Abstractions

**No external markdown parser.** Would need to add dependency for preview.

Options:
1. \`marked\` — Popular, 28kb minified
2. \`micromark\` — Smaller, 14kb
3. Native regex — Minimal but limited
4. Iframe sandbox — Most isolated

---

## Stratigraphy

### Call Hierarchy for Keyboard Shortcuts

\`\`\`
document.addEventListener('keydown')
  ├── main.ts:84 (Cmd+O, Cmd+Shift+L)
  └── shell.ts:58 (Cmd+Shift+V, Cmd+N, Cmd+I, Escape)
        └── this.handleGlobalKeydown
              └── editor.ts:139 (Tab only, local)
\`\`\`

**Gap:** No Cmd+. or Cmd+P handled anywhere.

### State Location for Focus Mode

**CSS ready:** \`.editor-view--focus\` already defined in editor.css:234
\`\`\`css
.editor-view--focus .editor-view__header {
  display: none;
}
.editor-view--focus .editor-view__textarea {
  padding: var(--space-xl);
  max-width: 720px;
  margin: 0 auto;
}
\`\`\`

**Missing:** Toggle mechanism and state tracking in editor.ts

### Inline Editing Boundaries

**Current flow:**
1. Click status badge in meta bar → nothing happens (read-only)
2. Click Triage button → opens full modal

**Proposed inline flow:**
1. Click status badge → show dropdown (like LensPicker)
2. Select new status → save immediately

---

## Findings

The editor implementation path is straightforward because the codebase already has patterns for every feature:

- **Focus mode:** CSS exists, just add \`isFocusMode\` state and \`Cmd+.\` handler to toggle \`editor-view--focus\` class
- **Status dropdown:** Clone \`LensPicker\` pattern, bind to status badge click
- **Tag inline edit:** More complex — need chip input component (new pattern)
- **Preview:** Requires external dependency — most complex addition

The codebase follows a consistent component pattern: class with constructor, private state, \`render()\` method, event binding. All four features can follow this pattern.

### Key Files

| File | Role | Changes Needed |
|------|------|----------------|
| \`src/views/editor.ts\` | Editor component | Add focus toggle, preview pane, inline pickers |
| \`src/ui/editor.css\` | Editor styles | Add preview styles, focus mode already exists |
| \`src/components/status-picker.ts\` | **New** | Dropdown for status (clone LensPicker) |
| \`src/components/tag-input.ts\` | **New** | Chip input for tags |
| \`package.json\` | Dependencies | Add markdown parser if preview needed |

### Dependencies

**Internal:**
- \`documents.ts::updateDocumentMetadata\` — Already exists for saving inline changes
- \`types.ts::DocumentStatus\` — Already has status enum

**External (new):**
- Markdown parser for preview (marked, micromark, or none if skip preview)

### Complexity Hotspots

1. **Tag inline editing** — No existing chip input pattern, must build new component
2. **Preview sync** — Need to decide: side-by-side, toggle, or live preview
3. **Keyboard shortcut conflicts** — Cmd+. and Cmd+P must not conflict with browser

---

## Implementation Plan

### Phase 1: Focus Mode (Easiest)
**Effort:** 30 minutes
**Files:** editor.ts, editor.css (already done)

1. Add \`private isFocusMode = false\` to Editor class
2. Add \`Cmd+.\` handler in \`handleKeydown\`:
   \`\`\`typescript
   if ((e.metaKey || e.ctrlKey) && e.key === '.') {
     e.preventDefault();
     this.toggleFocusMode();
   }
   \`\`\`
3. Add \`toggleFocusMode()\`:
   \`\`\`typescript
   private toggleFocusMode(): void {
     this.isFocusMode = !this.isFocusMode;
     this.container.classList.toggle('editor-view--focus', this.isFocusMode);
   }
   \`\`\`
4. Add Escape handler to exit focus mode before navigating

### Phase 2: Inline Status Picker
**Effort:** 1-2 hours
**Files:** editor.ts, new status-picker.ts, editor.css

1. Create \`StatusPicker\` component (clone LensPicker pattern)
   - Same dropdown structure
   - Options from \`STATUS_OPTIONS\` (already in triage-modal.ts)
2. In editor.ts:
   - Add click handler to \`.editor-view__status\` badge
   - On selection, call \`updateDocumentMetadata()\` and re-render meta bar
3. Add CSS for status picker positioning

### Phase 3: Cmd+S Acknowledgment (Polish)
**Effort:** 15 minutes
**Files:** editor.ts

1. Add \`Cmd+S\` handler:
   \`\`\`typescript
   if ((e.metaKey || e.ctrlKey) && e.key === 's') {
     e.preventDefault();
     this.showSaveStatus('saved');  // Flash "Saved" indicator
   }
   \`\`\`

### Phase 4: Markdown Preview (Most Complex)
**Effort:** 3-4 hours
**Files:** editor.ts, editor.css, package.json

1. Add dependency: \`npm install marked\` (or micromark)
2. Add \`private showPreview = false\` state
3. Add \`Cmd+P\` handler to toggle
4. Modify render to include preview pane:
   \`\`\`html
   <div class="editor-view__content">
     <textarea class="editor-view__textarea"></textarea>
     <div class="editor-view__preview"></div>
   </div>
   \`\`\`
5. Add CSS for side-by-side or stacked layout
6. Add \`updatePreview()\` method called on input

### Phase 5: Tag Inline Editing (Deferred)
**Effort:** 4+ hours
**Files:** new tag-input.ts, editor.ts, editor.css

This is most complex because:
- Need chip/pill UI with X buttons
- Need autocomplete from existing tags
- Need keyboard navigation within chips
- Consider deferring or using triage modal

---

## Open Questions

- **Preview toggle vs split:** Should preview replace textarea or show alongside?
- **Preview live vs manual:** Update on every keystroke or on toggle/button?
- **Tag input complexity:** Worth building or keep using triage modal?
- **Mobile:** Does focus mode work on mobile? Touch targets for inline pickers?
- **Undo across saves:** If inline picker saves immediately, can user undo?

---

## Recommended Order

1. **Focus mode** — Trivial, immediate value, CSS already exists
2. **Cmd+S** — Trivial, respects user muscle memory
3. **Status picker** — Moderate, high value, proven pattern
4. **Preview** — Complex but expected, requires dependency decision
5. **Tag input** — Defer, triage modal works fine

---

## Resolution

**Date:** 2026-01-07
**Status:** Phases 1, 3, 4 complete. Phases 2, 5 deferred.

### Implemented

| Phase | Feature | Status | Notes |
|-------|---------|--------|-------|
| 1 | Focus Mode | **Done** | \`Cmd+.\` toggles, \`Escape\` exits, auto-exits on hide/load |
| 3 | Cmd+S Feedback | **Done** | Flashes "Saved" indicator |
| 4 | Markdown Preview | **Done** | \`Cmd+P\` or button toggles side-by-side preview |

### Files Changed

- \`src/views/editor.ts\` — Added \`isFocusMode\`, \`showPreview\`, keyboard handlers, preview rendering
- \`src/ui/editor.css\` — Added preview pane styles, actions group, updated focus mode for new structure
- \`package.json\` — Added \`marked\` dependency

### Keyboard Shortcuts Added

| Shortcut | Action |
|----------|--------|
| \`Cmd+.\` | Toggle focus mode (hide chrome, center textarea) |
| \`Cmd+S\` | Flash "Saved" indicator (muscle memory acknowledgment) |
| \`Cmd+P\` | Toggle markdown preview (side-by-side) |
| \`Escape\` | Exit focus mode (then navigate if not in focus mode) |

### Open Questions Resolved

- **Preview toggle vs split:** Side-by-side (both visible simultaneously)
- **Preview live vs manual:** Live update on every keystroke
- **Dependency choice:** \`marked\` (GFM support, widely used)

### Remaining Work

| Phase | Feature | Status | Recommendation |
|-------|---------|--------|----------------|
| 2 | Inline Status Picker | Deferred | Clone LensPicker pattern when needed |
| 5 | Inline Tag Editing | Deferred | Triage modal sufficient for now |

### Bundle Impact

- CSS: +2.7kb (preview pane styling)
- JS: +42kb (marked library)
- Total bundle: 230kb (was 188kb)`,
  },
  {
    id: 'inst-survey-editor-view-frontmatter',
    title: 'Survey: Editor View for Conducting Frontmatter',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['survey', 'editor-view', 'frontmatter', 'ui', 'loomlib'],
    content: `# Survey: Editor View for Conducting Frontmatter

**Date:** 2026-01-08
**Subject:** How editor view renders and edits frontmatter, what conducting fields are missing
**Method:** Survey Method (static analysis)

---

## Survey

Relevant files:
- \`src/views/editor.ts\` — Editor view class (329 lines)
- \`src/ui/editor.css\` — Editor styles (413 lines)
- \`src/components/triage-modal.ts\` — Frontmatter editing modal
- \`src/types.ts\` — Document interface with conducting fields

---

## Core Sample

### Entry Points

**Editor instantiation:** \`shell.ts\`
\`\`\`typescript
this.editor = new Editor(editorContainer, {
  onBack: () => this.showList(),
  onTriage: (docId) => this.options.onTriageRequest?.(docId),
  onGoToList: () => this.showList(),
  onGoToConstellation: () => this.showConstellation(),
});
\`\`\`

**Document loading:** \`editor.ts:92\`
\`\`\`typescript
async load(docId: string): Promise<void> {
  const doc = await loadDocument(docId);
  this.currentDoc = doc;
  this.renderMetaBar();
}
\`\`\`

### Data Flow

\`\`\`
Editor.load(docId)
  → loadDocument(docId)           // fetch from IndexedDB
  → this.currentDoc = doc
  → this.textarea.value = doc.content
  → renderMetaBar()               // display frontmatter
\`\`\`

### Meta Bar Structure

The meta bar renders frontmatter in \`editor.ts:119-138\`:

\`\`\`typescript
private renderMetaBar(): void {
  const doc = this.currentDoc;
  const icon = getDocumentIcon(doc);
  const color = getDocumentColor(doc);
  const typeLabel = doc.type + (doc.framework_kind ? \` / \${doc.framework_kind}\` : '');
  const tags = doc.tags.map(t => \`<span class="editor-view__tag">\${t}</span>\`).join('');

  this.metaBar.innerHTML = \`
    <span class="editor-view__type-icon" style="color: \${color}">\${icon}</span>
    <span class="editor-view__type-label">\${typeLabel}</span>
    <span class="editor-view__status editor-view__status--\${doc.status}">\${doc.status}</span>
    \${tags ? \`<span class="editor-view__tags">\${tags}</span>\` : ''}
  \`;
}
\`\`\`

### Fields Currently Displayed

| Field | Where | Rendering | Editable? |
|-------|-------|-----------|-----------|
| \`type\` | \`.editor-view__type-icon\` | Colored icon (⚙/▣/◧/○/◈/☰) | Via Triage |
| \`type\` | \`.editor-view__type-label\` | Text ("framework / toolkit") | Via Triage |
| \`status\` | \`.editor-view__status\` | Colored badge | Via Triage |
| \`tags\` | \`.editor-view__tags\` | Tag pills | Via Triage |

### Fields NOT Displayed

| Field | Type | Could show as |
|-------|------|---------------|
| \`intent\` | \`research\\|build\\|capture\\|organize\\|produce\` | Icon or badge |
| \`execution_state\` | \`pending\\|in_progress\\|completed\\|resolved\` | Progress indicator |
| \`upstream\` | \`UpstreamRef[]\` | Links or relationship panel |
| \`downstream\` | \`UpstreamRef[]\` | "Used by" panel |
| \`framework_ids\` | \`string[]\` | Parent document links |
| \`source_id\` | \`string\\|null\` | Parent source link |
| \`perspective\` | \`string\\|null\` | Badge |
| \`output\` | \`string\\|null\` | Channel badge |

---

## Stratigraphy

### Call Hierarchy

\`\`\`
Editor
├── constructor(container, options)
│   └── Creates DOM: header, nav, title area, meta bar, textarea, preview
├── load(docId)
│   └── loadDocument() → currentDoc → renderMetaBar()
├── renderMetaBar()
│   └── Renders type icon, type label, status badge, tags
├── handleInput()
│   └── Debounced save, title update, preview update
├── handleKeydown()
│   └── Cmd+. (focus mode), Cmd+S (save flash), Cmd+P (preview), Tab
├── toggleFocusMode()
│   └── Hides chrome, centers textarea
├── togglePreview()
│   └── Shows markdown preview pane
└── save()
    └── saveDocument(id, content)
\`\`\`

### State Location

| State | Location | Scope |
|-------|----------|-------|
| \`currentDoc\` | \`Editor.currentDoc\` | Full document object |
| \`isDirty\` | \`Editor.isDirty\` | Unsaved changes flag |
| \`isFocusMode\` | \`Editor.isFocusMode\` | Chrome visibility |
| \`showPreview\` | \`Editor.showPreview\` | Preview pane visibility |

### CSS Structure

\`\`\`
.editor-view
├── .editor-view__header
│   ├── .editor-view__nav (list + constellation buttons)
│   ├── .editor-view__title-area (title + save status)
│   └── .editor-view__actions (preview toggle + triage btn)
├── .editor-view__meta (TYPE ICON | TYPE LABEL | STATUS | TAGS)
└── .editor-view__content
    ├── .editor-view__textarea
    └── .editor-view__preview
\`\`\`

---

## Findings

The editor's meta bar only surfaces **descriptive** frontmatter (type, status, tags). All **conducting** frontmatter (intent, execution_state, upstream, downstream) is completely invisible.

This means:
1. Users cannot see or update \`execution_state\` from the editor
2. The production graph (upstream/downstream) is hidden
3. No way to see what frameworks produced this document
4. No way to see what documents this framework produced

### Current Meta Bar Visual

\`\`\`
⚙ framework / toolkit    [draft]    tag1  tag2
\`\`\`

### Proposed Meta Bar with Conducting Fields

\`\`\`
⚙ framework / toolkit    [draft]    🔨build    ●●○○ in_progress    tag1  tag2
                         ↑          ↑          ↑
                         status     intent     execution_state
\`\`\`

Or with a second row for graph relationships:

\`\`\`
⚙ framework / toolkit    [draft]    🔨build    ●●○○ in_progress    tag1  tag2
─────────────────────────────────────────────────────────────────────────────
⤴ Survey Method, Etymon Method    →    Used by: 3 documents
↑                                      ↑
upstream (framework_ids)               downstream
\`\`\`

### Key Files

| File | Role | Frontmatter Used |
|------|------|------------------|
| \`src/views/editor.ts\` | View class | type, framework_kind, status, tags |
| \`src/ui/editor.css\` | Styles | status (colored badges) |
| \`src/components/triage-modal.ts\` | Editing | type, framework_kind, status, tags, framework_ids, source_id, perspective, output |

### Dependencies

**Internal:**
- \`data/documents.ts::loadDocument()\`, \`saveDocument()\` — Data operations
- \`types.ts::deriveTitle()\`, \`getDocumentIcon()\`, \`getDocumentColor()\` — Helpers
- \`marked\` — Markdown preview rendering

**External:**
- \`marked\` (npm) — Markdown to HTML

### Complexity Hotspots

1. **Meta bar is inline HTML string** — Hard to extend without refactoring
2. **Triage modal is separate concern** — Could inline some fields in meta bar
3. **No inline editing** — All field changes require triage modal
4. **Graph relationships invisible** — upstream/downstream not shown anywhere

---

## Open Questions

1. **Should meta bar show execution_state?** Progress dots or text badge?
2. **Should meta bar show intent?** Icon (🔬🔨📝📁⚡) or text?
3. **Should upstream/downstream be visible?** Links, count, or expandable panel?
4. **Should some fields be inline-editable?** Click status badge to cycle?
5. **Should there be a second meta row for graph relationships?**

---

## Decisions

Decisions required before implementation:

| Question | Options | Decision | Rationale |
|----------|---------|----------|-----------|
| Show execution_state? | Progress dots / Badge / Dropdown | **TBD** | High value for task tracking |
| Show intent? | Icon / Badge / None | **TBD** | Clarifies document purpose |
| Show upstream? | Links / Count / Panel / None | **TBD** | Critical for graph navigation |
| Show downstream? | Links / Count / Panel / None | **TBD** | Shows document influence |
| Inline editing? | Yes / No | **TBD** | UX tradeoff: speed vs modal confirmation |

### Recommended Changes

**Minimal (low risk):**
1. Add \`intent\` icon after type label
2. Add \`execution_state\` progress indicator after status

**Medium (moderate risk):**
3. Add second meta row for upstream (clickable links to parent docs)
4. Add downstream count badge ("→ 3 children")

**Large (high risk):**
5. Make status/execution_state clickable for inline cycling
6. Add expandable panel showing full graph relationships

---

## Composition

**Upstream (what informed this survey):**
- [Survey Method](fw-survey-method) — method used
- [Survey: Editor Implementation Path](inst-survey-editor-implementation) — prior implementation survey
- [Scope: Editor View](inst-scope-editor-view) — prior scope work

**Downstream (what this survey enables):**
- Implementation of conducting frontmatter display in editor
- UX decisions about inline editing
- Graph navigation features

**Related (discovered during survey):**
- \`inst-survey-list-view-frontmatter\` — list view also missing conducting fields
- \`inst-survey-constellation-view\` — constellation shows graph relationships spatially

---

## Resolution

**Date:** 2026-01-08
**Status:** resolved

### What Was Done

Implemented all findings from this survey as part of the conducting frontmatter UI update:
1. Added intent icons (🔬🔨📝📁⚡) to editor meta bar
2. Added execution state progress dots (○○○○/●●○○/●●●●/✓) to meta bar
3. Added inline click-to-cycle for execution state
4. Added relations bar showing upstream links and downstream count

### Changes Made

- \`loomlib/src/types.ts\` — Added INTENT_ICONS, EXECUTION_STATE_DOTS constants and getIntentIcon(), getExecutionDots() helpers
- \`loomlib/src/views/editor.ts\` — Added intent icon, execution state dots, relations bar rendering, and cycleExecutionState() method
- \`loomlib/src/ui/editor.css\` — Added styles for .editor-view__intent, .editor-view__execution, .editor-view__relations, .editor-view__rel-*

### Outcome

Editor view now displays all conducting frontmatter fields:
- Intent icons show document purpose at a glance
- Progress dots show lifecycle state inline
- Click-to-cycle allows quick state updates without triage modal
- Relations bar exposes graph connectivity with clickable upstream links

### Remaining Items

None - all requirements addressed.`,
  },
  {
    id: 'inst-survey-list-view-frontmatter',
    title: 'Survey: List View for Conducting Frontmatter',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['survey', 'list-view', 'frontmatter', 'ui', 'loomlib'],
    content: `# Survey: List View for Conducting Frontmatter

**Date:** 2026-01-08
**Subject:** How list view renders documents and what conducting frontmatter fields are used/missing
**Method:** Survey Method (static analysis)

---

## Survey

Relevant files:
- \`src/views/list.ts\` — List view class (122 lines)
- \`src/components/document-card.ts\` — Card rendering (135 lines)
- \`src/ui/list.css\` — List layout styles (105 lines)
- \`src/ui/card.css\` — Card component styles
- \`src/types.ts\` — Document interface with conducting fields

---

## Core Sample

### Entry Points

**List view instantiation:** \`shell.ts\`
\`\`\`typescript
this.listView = new ListView(listContainer, {
  onDocumentSelect: (doc) => this.showEditor(doc.id),
  onNewDocument: () => this.options.onTriageRequest?.(),
});
\`\`\`

**Card rendering:** \`document-card.ts:110\`
\`\`\`typescript
export function renderCardList(
  container: HTMLElement,
  docs: Document[],
  allDocs: Document[],
  onClick?: (doc: Document) => void
): void
\`\`\`

### Data Flow

\`\`\`
ListView.refresh()
  → listDocuments()              // fetch all docs from IndexedDB
  → this.docs = [...]            // store locally
  → render()
    → renderCardList()           // delegate to document-card.ts
      → for each doc: createDocumentCard(doc, parentDocs, options)
\`\`\`

### Key Abstractions

**Document fields currently displayed:**
| Field | Where | Rendering |
|-------|-------|-----------|
| \`title\` | \`.doc-card__title\` | Text, "Untitled" fallback |
| \`type\` | \`.doc-card__badge\` | Text badge |
| \`framework_kind\` | \`.doc-card__badge\` | Shows "toolkit" or "domain" instead of "framework" |
| \`framework_ids\` | \`.doc-card__lineage\` | Parent doc titles with "⤴" prefix |
| \`source_id\` | \`.doc-card__lineage\` | Parent doc title with "⤴" prefix |
| \`modifiedAt\` | \`.doc-card__time\` | Relative time via \`relativeTime()\` |
| \`status\` | \`.doc-card--incubating\` | CSS class for glow effect |

**Document fields NOT displayed:**
| Field | Type | Could show as |
|-------|------|---------------|
| \`intent\` | \`research\\|build\\|capture\\|organize\\|produce\` | Badge or icon |
| \`execution_state\` | \`pending\\|in_progress\\|completed\\|resolved\` | Status indicator |
| \`upstream\` | \`UpstreamRef[]\` | Relationship count or icons |
| \`downstream\` | \`UpstreamRef[]\` | "Used by N" count |
| \`perspective\` | \`string\` | Badge |
| \`output\` | \`string\` | Channel icon |
| \`tags\` | \`string[]\` | Tag pills |

---

## Stratigraphy

### Call Hierarchy

\`\`\`
ListView
├── constructor(container, options)
│   └── Creates DOM structure, binds events
├── refresh()
│   └── renderCardList() → document-card.ts
├── handleSearch()
│   └── Filters by title, content, tags
├── handleKeydown()
│   └── Arrow nav, Enter to select
└── updateSelection()
    └── Highlights selected card
\`\`\`

### State Location

| State | Location | Scope |
|-------|----------|-------|
| \`docs\` | \`ListView.docs\` | Full document list |
| \`filteredDocs\` | \`ListView.filteredDocs\` | Search results |
| \`selectedIndex\` | \`ListView.selectedIndex\` | Keyboard nav |

### Boundary Conditions

**Search filters on:**
- \`d.title.toLowerCase().includes(query)\`
- \`d.content.toLowerCase().includes(query)\`
- \`d.tags.some(t => t.toLowerCase().includes(query))\`

**Does NOT filter on:**
- \`type\`, \`status\`, \`intent\`, \`execution_state\`, \`perspective\`, \`output\`

---

## Findings

The list view is a thin wrapper that delegates all card rendering to \`document-card.ts\`. It currently shows the **descriptive** frontmatter (type, status, lineage) but ignores all **conducting** frontmatter fields (intent, execution_state, upstream, downstream).

This means:
1. Users cannot see which documents are \`pending\` vs \`in_progress\` vs \`completed\`
2. Users cannot filter by \`intent\` (research vs build vs produce)
3. The graph relationships (\`upstream\`/\`downstream\`) are invisible in list view

### Key Files

| File | Role | Frontmatter Used |
|------|------|------------------|
| \`src/views/list.ts\` | Container, search, nav | None directly |
| \`src/components/document-card.ts\` | Card rendering | type, framework_kind, framework_ids, source_id, status, modifiedAt |
| \`src/ui/card.css\` | Card styles | status (for incubating glow) |

### Dependencies

**Internal:**
- \`data/documents.ts::listDocuments()\` — Data fetching
- \`types.ts::getDocumentIcon()\`, \`getDocumentColor()\` — Visual styling
- \`utils/time.ts::relativeTime()\` — Time formatting

**External:**
- None

### Complexity Hotspots

1. **Search is basic** — Only text matching, no faceted filtering
2. **No sorting options** — Always newest first (modifiedAt desc)
3. **Lineage lookup is eager** — Looks up all parents for all cards on every render

---

## Open Questions

1. **Should list view show \`execution_state\`?** A progress indicator (●○○○) could help track work.
2. **Should list view allow filtering by conducting fields?** e.g., "show only pending documents"
3. **Should \`intent\` have an icon?** 🔬research, 🔨build, 📝capture, 📁organize, ⚡produce
4. **Should \`downstream\` count be shown?** "Used by 3 documents" badge

---

## Decisions

Decisions required before implementation:

| Question | Options | Decision | Rationale |
|----------|---------|----------|-----------|
| Show execution_state? | Badge / Icon / Progress dots / None | **TBD** | Need user input |
| Show intent? | Icon / Badge / None | **TBD** | Need user input |
| Add filter chips? | Type / Status / Intent / State / None | **TBD** | Scope creep risk |
| Show downstream count? | Number / "Used by N" / None | **TBD** | May add clutter |

### Recommended Changes

**Minimal (low risk):**
1. Add \`execution_state\` indicator to card (colored dot or progress icon)
2. Add \`intent\` icon next to type icon

**Medium (moderate risk):**
3. Add filter buttons/chips above search: Type, Status, Intent, Execution State
4. Show \`downstream\` count as badge

**Large (high risk):**
5. Full faceted search with AND/OR logic

---

## Composition

**Upstream (what informed this survey):**
- [Survey Method](fw-survey-method) — method used
- [Scope: List View Aesthetic](inst-scope-list-view-aesthetic) — prior scope work

**Downstream (what this survey enables):**
- Implementation of conducting frontmatter in list view
- UX decisions about which fields to surface

**Related (discovered during survey):**
- \`inst-survey-editor-implementation\` — editor already shows some meta
- \`inst-scope-editor-view\` — editor scope work

---

## Resolution

**Date:** 2026-01-08
**Status:** resolved

### What Was Done

Implemented all findings from this survey as part of the conducting frontmatter UI update:
1. Added intent icons (🔬🔨📝📁⚡) to document cards
2. Added execution state progress dots (○○○○/●●○○/●●●●/✓) to cards
3. Added upstream/downstream relationship counts (⤴/↴) to cards
4. Added filter chips for intent and execution_state above search

### Changes Made

- \`loomlib/src/types.ts\` — Added INTENT_ICONS, EXECUTION_STATE_DOTS constants and getIntentIcon(), getExecutionDots() helpers
- \`loomlib/src/components/document-card.ts\` — Added intent icon, execution state dots, and relationship counts to card rendering
- \`loomlib/src/ui/card.css\` — Added styles for .doc-card__intent, .doc-card__state, .doc-card__relations
- \`loomlib/src/views/list.ts\` — Added filter chips for intent and execution_state with toggle filtering
- \`loomlib/src/ui/list.css\` — Added styles for filter chips

### Outcome

List view now displays all conducting frontmatter fields:
- Intent icons show at a glance what kind of work each document represents
- Progress dots show lifecycle state without requiring click
- Relationship counts expose graph connectivity
- Filter chips enable filtering by conducting fields

### Remaining Items

None - all requirements addressed.`,
  },
  {
    id: 'inst-survey-seed-architecture',
    title: 'Survey: Seed Architecture Redundancy',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['survey', 'architecture', 'seed', 'build', 'redundancy'],
    content: `# Survey: Seed Architecture Redundancy

**Date:** 2026-01-07
**Subject:** Why does seed-data.ts duplicate markdown content?
**Method:** Survey Method (static analysis)

---

## Survey

Relevant files:
- \`loomlib/docs/**/*.md\` — Markdown documents (source of truth)
- \`loomlib/src/data/seed-data.ts\` — 2300+ lines of duplicated content
- \`loomlib/scripts/seed.ts\` — Node script with its own hardcoded seedData array
- \`loomlib/src/data/seed.ts\` — Browser-side sync function
- \`.claude/commands/loomlib:sync.md\` — Claude Code command that copies md → seed-data.ts

---

## Core Sample

### Current Architecture (Redundant)

\`\`\`
loomlib/docs/*.md (markdown files)
        ↓
/loomlib:sync (Claude Code command)
        ↓
seed-data.ts (2300 lines of duplicated TypeScript)
        ↓
syncSeedData() (browser)
        ↓
IndexedDB
\`\`\`

**Problem:** Content exists in TWO places:
1. Markdown files (human-authored)
2. seed-data.ts (generated copy)

### scripts/seed.ts (Unused Legacy)

The \`scripts/seed.ts\` file has its own hardcoded \`seedData\` array (970 lines) that's completely separate from \`src/data/seed-data.ts\`. It uses \`fake-indexeddb\` for Node.js but is never actually used in the build pipeline.

### Key Insight

**The browser cannot read local files.** This is why seed-data.ts exists — the content must be bundled into JavaScript at build time.

But there's a better way: **generate seed-data.ts from markdown at build time**, not via a manual Claude Code command.

---

## Stratigraphy

### Current Data Flow

\`\`\`
AUTHOR TIME:
  Human writes → loomlib/docs/*.md

MANUAL SYNC (via Claude Code):
  /loomlib:sync reads markdown
  /loomlib:sync writes seed-data.ts
  (This is the redundant step)

BUILD TIME:
  Vite bundles seed-data.ts into JS

RUNTIME:
  syncSeedData() → IndexedDB
\`\`\`

### Better Data Flow

\`\`\`
AUTHOR TIME:
  Human writes → loomlib/docs/*.md

BUILD TIME:
  npm run build:seed
    → Node script reads loomlib/docs/*.md
    → Parses YAML frontmatter
    → Generates seed-data.ts
    → Vite bundles into JS

RUNTIME:
  syncSeedData() → IndexedDB
\`\`\`

### State Location

| State | Current Location | Problem |
|-------|------------------|---------|
| Document content | docs/*.md AND seed-data.ts | Duplicated |
| Document metadata | YAML frontmatter AND TypeScript | Duplicated |
| Seed logic | scripts/seed.ts AND src/data/seed.ts | Two separate implementations |

---

## Findings

**The current architecture has unnecessary redundancy.** Markdown files are the source of truth, but their content is manually duplicated into seed-data.ts via the \`/loomlib:sync\` Claude Code command. This creates:

1. **Maintenance burden** — Every document change requires running sync
2. **Drift risk** — Markdown and TypeScript can get out of sync
3. **Wasted context** — Claude Code spends tokens copying content
4. **Two seed scripts** — \`scripts/seed.ts\` (unused) and \`src/data/seed.ts\` (browser-side)

The solution is to make \`scripts/seed.ts\` a **build-time generator** that:
1. Reads all \`loomlib/docs/**/*.md\` files
2. Parses YAML frontmatter using a library like \`gray-matter\`
3. Generates \`src/data/seed-data.ts\`
4. Runs as part of \`npm run build\`

This eliminates the need for \`/loomlib:sync\` to copy content — it would only need to verify the markdown is valid.

### Key Files

| File | Current Role | Better Role |
|------|--------------|-------------|
| \`docs/**/*.md\` | Source of truth | Source of truth (unchanged) |
| \`src/data/seed-data.ts\` | Manual copy of markdown | **Generated** from markdown |
| \`scripts/seed.ts\` | Unused legacy with hardcoded data | **Build script** that generates seed-data.ts |
| \`src/data/seed.ts\` | Browser sync to IndexedDB | Browser sync (unchanged) |

### Dependencies

**Current:**
- Claude Code for sync (manual process)
- No build-time markdown parsing

**Better:**
- \`gray-matter\` npm package for YAML frontmatter parsing
- Build script runs before Vite bundle

### Complexity Hotspots

- **scripts/seed.ts** has 970 lines of hardcoded seed data that's completely out of sync with the real documents
- **seed-data.ts** is 2300+ lines and growing — all manually maintained
- **/loomlib:sync** does work that should be automated

---

## Open Questions

1. **Should this be a Vite plugin or a prebuild script?**
   - Vite plugin: integrates with dev server, hot reload
   - Prebuild script: simpler, runs before \`vite build\`

2. **What about the existing seed-data.ts content?**
   - 27+ documents exist in seed-data.ts that don't have markdown files
   - Need to either create markdown files for them OR keep a hybrid approach

3. **Dependencies:**
   - \`gray-matter\` for YAML parsing — acceptable to add?
   - Or use a simpler regex-based parser to avoid dependencies?

4. **What happens to /loomlib:sync?**
   - Could become a validation command (check markdown is valid)
   - Or could be deprecated entirely

---

## Proposed Architecture

\`\`\`
loomlib/
├── docs/
│   ├── framework/*.md      ← Source of truth
│   ├── instance/*.md
│   ├── index/*.md
│   └── source/*.md
├── scripts/
│   └── generate-seed.ts    ← NEW: reads docs/, writes seed-data.ts
├── src/data/
│   ├── seed-data.ts        ← GENERATED (never hand-edit)
│   └── seed.ts             ← Browser sync (unchanged)
└── package.json
    scripts:
      "prebuild": "tsx scripts/generate-seed.ts"
      "build": "tsc && vite build"
\`\`\`

**Result:**
- Markdown is single source of truth
- No manual sync step
- No Claude Code command needed for content sync
- seed-data.ts is always in sync with markdown`,
  },
  {
    id: 'inst-survey-seed-not-showing',
    title: 'Survey: Why Synced Documents Don\'t Appear',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['survey', 'seed', 'sync', 'indexeddb', 'bug-analysis'],
    content: `# Survey: Why Synced Documents Don't Appear

**Date:** 2026-01-07
**Subject:** Why documents added via /loomlib:sync don't appear in the app
**Method:** Survey Method (static analysis)

---

## Survey

Relevant files:
- \`loomlib/src/data/seed.ts\` — Seed and update logic
- \`loomlib/src/data/seed-data.ts\` — Document definitions (just updated with 3 new docs)
- \`loomlib/src/data/db.ts\` — IndexedDB CRUD operations
- \`loomlib/src/main.ts\` — Application bootstrap

---

## Core Sample

### Entry Points

**Bootstrap sequence (main.ts:31-42):**
\`\`\`
init() →
  1. loadTheme()
  2. seedIfEmpty()           ← ONLY seeds if DB is empty
  3. updateManagedFrameworks() ← ONLY updates 8 hardcoded framework IDs
\`\`\`

### Data Flow

\`\`\`
seed-data.ts (30 documents including 3 new)
      ↓
seedIfEmpty() ← BLOCKED: DB has existing docs
      ↓
updateManagedFrameworks() ← BLOCKED: only looks at 8 specific IDs
      ↓
IndexedDB (still has old 27 documents, never gets 3 new ones)
\`\`\`

### Key Abstractions

**The problem is in seed.ts lines 6-17 and 19-24:**

\`\`\`typescript
// Only these 8 IDs get auto-updated
const MANAGED_FRAMEWORK_IDS = [
  'fw-etymon-method',
  'fw-invariants-variants',
  'fw-diagnostic-frames',
  'fw-reading-10k',
  'fw-oikonomia-chrematistics',
  'fw-four-knowings',
  'fw-agonal-identity',
  'fw-context-weaving',
];

// seedIfEmpty() only runs when DB is empty
export async function seedIfEmpty(): Promise<boolean> {
  const existing = await getAllDocs();
  if (existing.length > 0) {  // ← BLOCKS because DB already has docs
    console.log(\`Database has \${existing.length} documents, skipping seed.\`);
    return false;
  }
  // ... never reaches seeding code
}
\`\`\`

---

## Stratigraphy

### Call Hierarchy

\`\`\`
main.ts:init()
  │
  ├── seedIfEmpty()
  │     └── getAllDocs() returns 27 docs
  │     └── if (27 > 0) → return false  ← STOPS HERE
  │     └── (seed loop never runs)
  │
  └── updateManagedFrameworks()
        └── for id in MANAGED_FRAMEWORK_IDS (8 IDs only)
        │     └── 'fw-survey-method' NOT in list → skipped
        │     └── 'inst-survey-*' NOT in list → skipped
        └── (only checks 8 predefined frameworks)
\`\`\`

### State Location

| State | Location | Problem |
|-------|----------|---------|
| New docs in seed-data.ts | TypeScript file | ✓ Present |
| Existing docs in IndexedDB | Browser storage | 27 docs, never cleared |
| MANAGED_FRAMEWORK_IDS | Hardcoded array | Only 8 frameworks, no instances |

### Boundary Conditions

**Two gates block new documents:**

1. **seedIfEmpty() gate:** Only seeds if \`getAllDocs().length === 0\`. Since the DB already has documents from a previous seed, this never runs.

2. **MANAGED_FRAMEWORK_IDS gate:** Only 8 specific framework IDs are "managed" (auto-updated). The new documents we added are:
   - \`fw-survey-method\` — NOT in the list
   - \`inst-survey-loomlib-startup\` — NOT in the list (instances never managed)
   - \`inst-survey-data-sync-gap\` — NOT in the list (instances never managed)

---

## Findings

**The sync worked correctly — seed-data.ts has the new documents.** The problem is the app's seeding logic:

1. \`seedIfEmpty()\` only runs when IndexedDB is completely empty. If you've ever loaded the app before, it already has documents, so this function returns early without adding new ones.

2. \`updateManagedFrameworks()\` only updates 8 hardcoded framework IDs. It was designed to keep core frameworks in sync with seed-data.ts, but:
   - \`fw-survey-method\` is not in the list
   - Instance documents are never managed (the list only has \`fw-*\` IDs)

**To see the new documents, the user must clear their IndexedDB** — either through browser DevTools or by calling \`_resetDB()\`. On the next page load, \`seedIfEmpty()\` will run and insert all documents including the new ones.

### Key Files

| File | Role |
|------|------|
| \`src/data/seed.ts:6-17\` | **MANAGED_FRAMEWORK_IDS** — hardcoded list of 8 frameworks |
| \`src/data/seed.ts:19-24\` | **seedIfEmpty()** — only seeds empty DB |
| \`src/data/seed.ts:42-79\` | **updateManagedFrameworks()** — only updates listed IDs |

### Dependencies

- **Internal:** seed.ts depends on seed-data.ts for content, db.ts for storage
- **External:** Browser IndexedDB API

### Complexity Hotspots

- **MANAGED_FRAMEWORK_IDS is manually maintained** — every new framework requires editing this list
- **No mechanism for adding new documents to non-empty DB** — sync adds to seed-data.ts but the app ignores it
- **Instance documents are never auto-updated** — they fall outside the managed framework pattern

---

## Open Questions

1. **What should the sync behavior be?**
   - Option A: Add missing documents (compare seed-data IDs to IndexedDB IDs)
   - Option B: Update all documents like managed frameworks do (compare content)
   - Option C: Full sync (add missing, update changed, optionally remove orphaned)

2. **Should all documents be "managed" or just frameworks?**
   - Currently: only 8 frameworks
   - Alternative: all documents in seed-data.ts

3. **What about user-created documents?**
   - If sync updates all seed-data docs, user edits to those docs would be overwritten
   - Need to distinguish "seed documents" from "user documents"?

4. **Immediate workaround:**
   - Clear IndexedDB in browser DevTools → Application → IndexedDB → loomlib → Delete
   - Refresh page → seedIfEmpty() runs → all 30 docs appear

---

## Root Cause Summary

\`\`\`
seed-data.ts has 30 documents (including 3 new)
                ↓
          seedIfEmpty()
                ↓
     DB has 27 docs? → YES → return (skip seeding)
                ↓
     updateManagedFrameworks()
                ↓
     Is 'fw-survey-method' in MANAGED_FRAMEWORK_IDS? → NO → skip
     Is 'inst-survey-*' in MANAGED_FRAMEWORK_IDS? → NO → skip
                ↓
     IndexedDB still has only 27 documents
\`\`\`

**Fix options:**
1. Add \`fw-survey-method\` to MANAGED_FRAMEWORK_IDS (doesn't help instances)
2. Create \`seedMissingDocuments()\` function that adds docs not yet in IndexedDB
3. Make all seed-data docs "managed" (update on every load if changed)

---

## Resolution (2026-01-07)

**Fix option #3 was implemented.**

The old \`seedIfEmpty()\` + \`updateManagedFrameworks()\` pattern was replaced with a single \`syncSeedData()\` function in \`loomlib/src/data/seed.ts\`:

\`\`\`typescript
export async function syncSeedData(): Promise<{ added: number; updated: number }> {
  // For each doc in seedData:
  // - If not in IndexedDB: add it
  // - If content differs: update it
  // - User-created docs (not in seedData): untouched
}
\`\`\`

**Result:** After running \`/loomlib:sync\`, a browser refresh immediately shows new documents. No need to clear IndexedDB.

The \`MANAGED_FRAMEWORK_IDS\` array was deleted — all seed-data documents are now managed.`,
  },
  {
    id: 'inst-survey-sync-workflow',
    title: 'Survey: The New Sync Workflow',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'verified',
    tags: ['survey', 'sync', 'workflow', 'build', 'documentation'],
    content: `# Survey: The New Sync Workflow

**Date:** 2026-01-07
**Subject:** How documents now flow from authoring to app
**Method:** Survey Method (static analysis)

---

## Survey

Relevant files:
- \`loomlib/docs/**/*.md\` — Source of truth (32 documents)
- \`loomlib/scripts/generate-seed.ts\` — Build-time generator
- \`loomlib/src/data/seed-data.ts\` — Generated TypeScript (never hand-edit)
- \`loomlib/src/data/seed.ts\` — Browser-side sync to IndexedDB
- \`loomlib/package.json\` — Build hooks (prebuild, predev)

---

## Core Sample

### The New Flow

\`\`\`
1. AUTHOR
   Human or Claude writes → loomlib/docs/{type}/{slug}.md

2. BUILD (automatic)
   npm run dev / npm run build
       ↓
   prebuild hook runs generate-seed.ts
       ↓
   Reads all markdown, parses frontmatter
       ↓
   Generates src/data/seed-data.ts

3. BUNDLE
   Vite bundles seed-data.ts into JavaScript

4. RUNTIME
   Browser loads app
       ↓
   syncSeedData() compares seed-data to IndexedDB
       ↓
   Adds new documents, updates changed ones
       ↓
   Documents appear in UI
\`\`\`

### Key Insight

**No manual sync step.** The \`prebuild\` and \`predev\` hooks in package.json ensure \`generate-seed.ts\` runs automatically before every build or dev server start.

---

## Stratigraphy

### Before (Old Workflow)

\`\`\`
Write markdown → /loomlib:sync (manual) → seed-data.ts → app
                      ↑
              Claude Code command
              (manual, error-prone)
\`\`\`

### After (New Workflow)

\`\`\`
Write markdown → npm run dev → seed-data.ts → app
                      ↑
              Automatic prebuild hook
              (zero manual steps)
\`\`\`

### State Location

| State | Location | Authoritative? |
|-------|----------|----------------|
| Document content | \`loomlib/docs/**/*.md\` | **YES** |
| Generated TypeScript | \`src/data/seed-data.ts\` | No (generated) |
| Runtime documents | IndexedDB | No (synced from seed-data) |

---

## Findings

**Markdown is now the single source of truth.** When you create or edit a document in \`loomlib/docs/\`, running \`npm run dev\` or \`npm run build\` automatically regenerates \`seed-data.ts\`. The browser then syncs this to IndexedDB on page load. There are no manual sync commands needed.

### Key Files

| File | Role |
|------|------|
| \`loomlib/docs/**/*.md\` | Source of truth for all documents |
| \`scripts/generate-seed.ts\` | Parses markdown, generates TypeScript |
| \`src/data/seed-data.ts\` | Auto-generated, bundled into app |
| \`src/data/seed.ts\` | \`syncSeedData()\` updates IndexedDB |
| \`package.json\` | \`predev\` and \`prebuild\` hooks |

### Commands

| Command | What It Does |
|---------|--------------|
| \`npm run dev\` | Regenerates seed-data.ts, starts dev server |
| \`npm run build\` | Regenerates seed-data.ts, builds for production |
| \`npm run generate:seed\` | Just regenerates seed-data.ts (no build) |

### Dependencies

- **gray-matter** — Parses YAML frontmatter from markdown
- **tsx** — Runs TypeScript build script

---

## The Workflow Now

### Creating a New Document

1. Run \`/loomlib:instance\` (or \`:framework\`, \`:note\`, etc.)
2. Claude writes \`loomlib/docs/{type}/{slug}.md\`
3. Run \`npm run dev\` (or it's already running — Vite will rebuild)
4. Refresh browser → document appears

### Editing an Existing Document

1. Edit the markdown file in \`loomlib/docs/\`
2. Save the file
3. If dev server is running, it will rebuild automatically
4. Refresh browser → changes appear

### Validating Documents

\`\`\`bash
cd loomlib && npm run generate:seed
\`\`\`

This will report any validation errors:
- Missing required frontmatter fields
- Invalid enum values (type, status, framework_kind)
- ID prefix mismatches
- Duplicate IDs

---

## Open Questions

1. **Should seed-data.ts be committed?**
   - Currently: Yes (committed for transparency)
   - Alternative: Add to .gitignore (cleaner diffs)

2. **Hot reload for markdown changes?**
   - Currently: Need to restart dev server or manually trigger rebuild
   - Could add: Vite plugin that watches \`docs/\` and regenerates

3. **What about user-created documents?**
   - \`syncSeedData()\` only adds/updates seed documents
   - User documents in IndexedDB are untouched
   - No way to export user documents back to markdown yet`,
  },
  {
    id: 'inst-tutor',
    title: 'TUTOR',
    type: 'instance',
    framework_kind: null,
    perspective: 'linguistic-recovery',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'verified',
    tags: ['etymology', 'guardian', 'instructor', 'drift', 'fiduciary'],
    content: `# TUTOR

**Type:** Instance
**Frameworks:** Etymon Method
**Output:** Etymon
**Status:** Verified

## TUTOR AS Guardian

The operator: **AS** — recovers original sense

---

## Excavation

Latin *tutor* — guardian, protector, defender. From *tueri* — to watch, guard, protect.

The tutor was not an instructor. The tutor was the one who *watched over*. In Roman law, a *tutor* was appointed to protect the interests of those who couldn't protect themselves — orphans, the young, those not yet capable of managing their own affairs.

The relationship was fiduciary. The tutor's job was to guard the ward's interests until they could guard their own. Success meant the tutor was no longer needed.

## Drift

**Tutor → Instructor → Content Deliverer**

The guardian became a teacher. The teacher became a content delivery mechanism. The fiduciary relationship disappeared entirely.

Modern "tutoring" means supplementary instruction — someone who helps you pass tests. The tutoring industry sells hours of explanation. No one asks: tutoring *toward what*? When is the student ready to not need a tutor?

The drift follows a pattern:
1. **Guardian** — watches over development toward independence
2. **Teacher** — transmits knowledge and skill
3. **Instructor** — delivers curriculum
4. **Tutor** — helps with homework

Each step loses something. The guardian's job was to *end the relationship well*. The modern tutor's job is to maintain billable hours.

## Recovery

What would tutoring-as-guardianship look like?

- **Developmental telos:** The tutor's success is measured by the student's independence, not continued dependence
- **Fiduciary structure:** The tutor's interests legally bound to the student's interests
- **Watch over, not talk at:** Attention to the whole person, not just the subject matter
- **Protection function:** Guarding the student from premature exposure, bad influences, exploitation
- **Exit criteria:** Clear markers for when guardianship ends

The question for any educational relationship: Is this structured to end well, or to perpetuate itself?

---

## The Compression

**TUTOR:** From guardian of development to vendor of explanation. The one who watches over became the one who talks at. Recovery means restoring the fiduciary structure — the tutor succeeds when they're no longer needed.`,
  },
  {
    id: 'inst-excavate-algorithm',
    title: 'Algorithm: FROM Person TO Procedure',
    type: 'instance',
    framework_kind: null,
    perspective: 'linguistic-recovery',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'draft',
    tags: ['algorithm', 'al-khwarizmi', 'procedure', 'computation', 'method', 'mechanization'],
    content: `# Algorithm: FROM Person TO Procedure

**Framework:** Etymon Method
**Operator:** FROM... TO
**Channel:** etymon

---

## The Excavation

*Algorithm* comes from a man's name: **al-Khwarizmi** — Muhammad ibn Musa al-Khwarizmi, a 9th-century Persian mathematician working in Baghdad's House of Wisdom. His name meant "the one from Khwarezm," a region in present-day Uzbekistan.

When his mathematical treatises were translated into Latin, his name became *Algoritmi* or *Algorismus*. The word referred not to any procedure but to **the methods this specific person taught** — particularly his book on Hindu-Arabic numerals that revolutionized calculation in Europe.

The etymon: a person's authority. A named source. A teacher whose methods you followed because he had proven them.

---

## The Drift

**Stage 1 — From Person to Method (Medieval)**
"Algorithm" initially meant: the specific procedures al-Khwarizmi taught. Not any procedure — *his* procedures. To do "algorism" was to calculate using the methods from his books, particularly decimal place-value arithmetic. The person remained in the word.

**Stage 2 — From Method to Any Procedure (17th-18th century)**
As mathematics formalized, "algorithm" generalized. Now it meant any step-by-step procedure. The person disappeared. What remained was the structure: do this, then this, then this. Al-Khwarizmi's name became an abstraction.

**Stage 3 — From Procedure to Black Box (20th century)**
With computation, algorithms became invisible. Not procedures you follow but procedures machines follow. Not methods you understand but processes that produce outputs. The operational meaning — "do these steps in this order" — remained, but the human practitioner vanished.

**Stage 4 — From Black Box to Authority (21st century)**
The contemporary inversion: "The algorithm" as a faceless power. Social media says "the algorithm" decides what you see. Hiring platforms say "the algorithm" filters candidates. The word that once named a person's authority now names **authority without a person** — judgment without a judge, decision without a decider.

---

## The Operational Loss

What capacity was available when *algorithm* meant al-Khwarizmi's methods?

1. **Attribution**: Methods came from someone. You could evaluate, question, disagree. The procedure had a face.

2. **Transmission**: You learned algorithms from teachers who learned from teachers. The chain of warrant mattered.

3. **Judgment**: Following a method required understanding it. You were the practitioner, not the substrate.

4. **Contestability**: Named methods could be debated. "Al-Khwarizmi says X, but consider Y." Authority was earned and challengeable.

What's lost in the contemporary drift:

1. **Anonymity**: "The algorithm" has no author. Even when engineers write it, the appeal is to procedural authority, not personal warrant.

2. **Opacity**: You don't follow the algorithm; it processes you. The human moved from practitioner to input.

3. **Inevitability**: "The algorithm decided" functions as a terminus. It ends inquiry rather than inviting it.

4. **Deference**: The same word that once meant "do what this wise teacher showed" now means "accept what this process produces."

---

## The Recovery

What would it mean to recover the etymon?

**Algorithm as attributed method**: Insist on the person behind the procedure. Not "the algorithm ranked you" but "engineers at Company X designed a system that ranked you, using these principles, with these tradeoffs." Attribution restores contestability.

**Algorithm as practiced skill**: Shift the human from input back to practitioner. An algorithm is something you *do*, not something done *to* you. The procedural literacy that was algorism's original gift — understanding method well enough to execute it — becomes legible again.

**Algorithm as teaching lineage**: Procedures come from somewhere. They encode decisions, priorities, worldviews. Asking "whose algorithm?" is asking "whose judgment, trained by whom, serving what ends?"

**The recovery test**: Can you name the al-Khwarizmi? Not in all cases — sometimes procedures are genuinely collective or evolved. But where human decisions designed the system, the recovery is: *make the deciders legible again*.

---

## The Insight

The drift from al-Khwarizmi to "the algorithm" traces a particular kind of modern displacement: **authority without accountability**. The word that once concentrated judgment in a named person now disperses it into procedural anonymity.

Contemporary "algorithm" functions as a secularized providence — an invisible hand that sorts and ranks and decides, but to whom no appeal is possible because there is no *whom*.

The etymological recovery is this: there is always a who. Al-Khwarizmi's name in every algorithm is a reminder that procedures don't emerge from nowhere. They are taught, designed, implemented, deployed. The question "whose algorithm?" is never a category error.

When we forget the person in the procedure, we surrender contestability. The recovery is not nostalgia for simpler times but clarity about how decisions hide behind process.

---

## Summary

| Element | Analysis |
|---------|----------|
| **Etymon** | al-Khwarizmi — "the one from Khwarezm," a named teacher |
| **Original sense** | Methods from a specific authority, learned and practiced |
| **Drift mechanism** | Generalization → mechanization → anonymization |
| **What's lost** | Attribution, contestability, practitioner agency |
| **Recovery** | Insist on the person behind the procedure |
| **Operator** | FROM person TO procedure (and back) |

---

## Verification Notes

**Status:** draft — awaiting source verification

**Sources needed for promotion to verified:**
- [ ] OED entry for "algorithm" — confirm Latin *Algoritmi* derivation
- [ ] Etymonline entry — cross-reference drift stages
- [ ] Al-Khwarizmi's *Kitab al-Jabr* — primary source on original methods
- [ ] Secondary source on medieval reception of Hindu-Arabic numerals in Europe

**Core claims to verify:**
1. Al-Khwarizmi's name → Algoritmi/Algorismus in Latin translations
2. Original usage referred specifically to his decimal arithmetic methods
3. Generalization timeline (17th-18th century)
4. Contemporary "the algorithm" as authority-without-person is accurate characterization`,
  },
  {
    id: 'inst-invariants-variants-systems-thinking',
    title: 'Invariants/Variants OF Systems Thinking Mastery',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-invariants-variants', 'fw-four-knowings'],
    source_id: 'src-systems-thinking',
    output: null,
    status: 'draft',
    tags: ['systems-thinking', 'mastery', 'invariants', 'variants', 'expertise'],
    content: `# Invariants/Variants OF Systems Thinking Mastery

**Operator:** OF — characteristic quality
**Formula:** Invariants/Variants + Four Knowings
**Source:** src-systems-thinking

---

## The Question

What's fixed and what's open in becoming exceptional at systems thinking? And what necessarily emerges from such mastery versus what might?

---

## INVARIANTS OF MASTERY

These cannot change without breaking systems thinking. If absent, what remains isn't systems thinking—it's something else wearing the label.

### 1. Seeing Loops (not lines)

**The invariant:** Circular causality perception. Output returning to input. A affects B affects A.

**Test:** Can you identify a feedback loop in any situation within 30 seconds? If you only see linear cause→effect chains, you're not doing systems thinking yet.

**What breaks if absent:** Without loops, you can analyze *sequences* but not *systems*. You'll misdiagnose every self-reinforcing or self-correcting dynamic. You'll intervene on symptoms while ignoring the structure that regenerates them.

### 2. Stock/Flow Discrimination

**The invariant:** Distinguishing accumulations from rates-of-change. What you can measure *at a moment* (stock) versus what happens *over time* (flow).

**Test:** Given any situation, can you name what's accumulating and what's flowing into/out of it? Trust is a stock. Actions that build or erode trust are flows.

**What breaks if absent:** You'll confuse snapshots with dynamics. You'll mistake the bathtub's water level for the faucet and drain. Every intervention will mis-time because you won't know what changes fast versus slow.

### 3. Emergence Recognition

**The invariant:** Understanding that wholes have properties not present in parts. The traffic jam exists; no individual car is a jam.

**Test:** Can you identify system-level properties that no component possesses? Can you explain why studying parts won't predict wholes?

**What breaks if absent:** You'll try to fix systems by fixing components. You'll be baffled when the same people in different structures produce different outcomes. Reductionism will seem complete to you.

### 4. Delay Awareness

**The invariant:** Knowing that causes and effects are often separated in time. Action now, consequence later—sometimes much later.

**Test:** When something goes wrong, do you look only at recent events? Or do you trace back to decisions made months or years ago?

**What breaks if absent:** You'll attribute effects to proximate causes. You'll blame the match for the explosion, not the gas leak. Policy feedback will seem arbitrary rather than delayed.

### 5. Boundary Skepticism

**The invariant:** Recognizing that system boundaries are choices, not discoveries. Where you draw the line determines what you see.

**Test:** Can you redraw the boundary of any system and see something different? Can you name what the current boundary includes and excludes?

**What breaks if absent:** You'll naturalize arbitrary boundaries. You'll miss crucial variables because they're "outside" your frame. You'll optimize subsystems at the expense of the whole.

---

## VARIANTS OF MASTERY

These differ across excellent systems thinkers. Presence or absence doesn't determine whether someone *is* a systems thinker—only *which kind*.

### 1. Hard vs. Soft Orientation

**The variant:** Quantitative modeling (Forrester, system dynamics) versus qualitative interpretation (Checkland, soft systems methodology).

**Both are legitimate:** Some masters build simulations. Others facilitate workshops. The invariants (loops, stocks, emergence) appear in both—expressed differently.

### 2. Domain Specialization

**The variant:** Ecology, organizations, software, cities, bodies, economies—systems thinking applies everywhere but masters often specialize.

**The transferable core:** The invariants transfer. The domain vocabulary doesn't. An ecologist and an organizational consultant both see feedback loops; they call them different things.

### 3. Intervention vs. Understanding Orientation

**The variant:** Some masters focus on *leverage points*—where to intervene. Others focus on *comprehension*—how to model accurately.

**Both produce value:** Donella Meadows did both. But individuals often lean toward action or understanding.

### 4. Visual vs. Verbal Processing

**The variant:** Some masters think in causal loop diagrams, stock-flow charts, system archetypes. Others think in narratives, scenarios, verbal models.

**Neither is superior:** The same system insight can be expressed graphically or textually. Visual tools help some; they constrain others.

### 5. Formal vs. Intuitive

**The variant:** Some masters require explicit models, defined variables, testable predictions. Others develop intuitive pattern recognition that operates faster than formal modeling.

**The intuitive isn't inferior:** Senge notes that successful complexity handlers often work intuitively. Formalization is one path, not the only path.

---

## INVARIANTS OF OUTPUT

What necessarily comes from systems thinking mastery. If these don't emerge, mastery wasn't achieved.

### 1. Reduced Surprise at Unintended Consequences

**The invariant output:** Systems thinkers are less surprised when interventions backfire. They expect it. They look for it.

**Test:** When a well-intentioned policy produces perverse results, is your first reaction "that's weird" or "let me find the feedback loop"?

### 2. Longer Time Horizons

**The invariant output:** Concern shifts from immediate results to delayed effects. Quarterly thinking becomes inadequate.

**Test:** When evaluating a decision, how far forward do you naturally project? Systems thinkers project further than non-systems thinkers.

### 3. Suspicion of Simple Causation

**The invariant output:** "X caused Y" claims trigger skepticism. What else was involved? What feedback maintained it? What context enabled it?

**Test:** When someone offers a single-cause explanation, do you accept it or probe for structure?

### 4. Structural Attribution

**The invariant output:** When things go wrong, systems thinkers blame structures before blaming people. The system produced this; the person was in the system.

**Test:** Is your instinct to find fault in individuals or in arrangements? Systems mastery shifts attribution toward structure.

---

## VARIANTS OF OUTPUT

What might come from systems thinking mastery. Depends on the individual and context.

### 1. Fatalism vs. Strategic Hope

**Some masters become fatalistic:** The system is too complex; intervention is futile; we're trapped.

**Others become strategically hopeful:** Leverage points exist; small changes can cascade; patience wins.

**Both emerge from the same mastery.** The invariants don't determine which response.

### 2. Specialization vs. Generalism

**Some masters dive deep:** Become the world expert on urban traffic systems or fisheries management or organizational learning.

**Others stay broad:** Apply systems thinking across domains without specializing in any.

**Both are outputs of mastery.** Neither is more legitimate.

### 3. Teaching vs. Doing

**Some masters teach:** Write books, lead workshops, develop curricula.

**Others do:** Run organizations, design policies, build systems.

**Both apply mastery.** The output channel varies.

### 4. Optimism About Modeling vs. Humility About Limits

**Some masters believe:** Better models will solve more problems. Quantification is progress.

**Others conclude:** Models are always partial. The map is never the territory. Humility about our representations is warranted.

**Both are coherent outputs.** The invariants don't settle which is right.

---

## THE FOUR KNOWINGS APPLIED

Systems thinking mastery requires all four:

| Knowing Type | What Mastery Requires | How It's Acquired |
|--------------|----------------------|-------------------|
| **Propositional** | Vocabulary: feedback, stock, flow, emergence, leverage | Study, reading, instruction |
| **Procedural** | Can draw causal loops, identify delays, map boundaries | Practice on real systems |
| **Perspectival** | Loops become *salient*—you see them without trying | Repeated exposure until pattern recognition is automatic |
| **Participatory** | Identity as "someone who thinks systemically"—membership in the community | Recognition by others, initiation through projects |

**The integration problem:** You can know propositionally that feedback loops exist (read Meadows) without procedurally being able to find them (need practice) or perspectivally seeing them automatically (need exposure) or participatorily being a systems thinker (need recognition).

**Mastery = integration across all four.**

---

## FALSE INVARIANTS

Things that look fixed but aren't:

| False Invariant | Actually Variant |
|-----------------|------------------|
| Must use formal models | Intuitive mastery is legitimate |
| Must be quantitative | Soft systems is systems thinking |
| Must intervene | Understanding without action counts |
| Must use the vocabulary | The concepts matter, not the jargon |
| Must study the canon | Multiple paths to the invariants |

## HIDDEN INVARIANTS

Things that look open but actually constrain:

| Hidden Invariant | Why It's Fixed |
|------------------|----------------|
| Must overcome linear bias | Everyone starts there; everyone must transcend it |
| Must tolerate discomfort | Loops and delays frustrate; mastery requires sitting with that |
| Must give up single-cause explanations | The comfort of "X caused Y" must be abandoned |
| Must accept you're in systems, not outside them | The observer is part of the observed |

---

## Composition

**Upstream (what informed this instance):**
- [Invariants/Variants](fw-invariants-variants) — primary method
- [The Four Knowings](fw-four-knowings) — mastery structure
- [Systems Thinking](src-systems-thinking) — content source
- [Excavation: FEEDBACK](inst-excavate-feedback) — conceptual grounding

**Downstream (what this instance enables):**
- Curriculum design for teaching systems thinking
- Self-assessment rubric for aspiring systems thinkers
- Hiring criteria for systems-capable roles

**Related:**
- Meadows' *Thinking in Systems* (direct source for vocabulary)
- Senge's *Fifth Discipline* (organizational application)`,
  },
  {
    id: 'inst-odysseus-spirited-inquiry',
    title: 'Odysseus AS Spirited Response to Divine Unintelligibility',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-etymon-method', 'fw-apologetic-method'],
    source_id: null,
    output: 'etymon',
    status: 'draft',
    tags: ['odysseus', 'thumos', 'epistemology', 'homer', 'divine', 'cunning', 'nostos'],
    content: `# Odysseus AS Spirited Response to Divine Unintelligibility

## The Recovery

**Odysseus is not the curious traveler. He is the man who knows because the gods have destroyed him and he survived.**

The dominant reading makes Odysseus a proto-Enlightenment figure: the hero of intellect, the patron of liberal arts, the cosmopolitan who experiences difference as enrichment. This reading confirms our values. It makes Homer safe.

But Odysseus's intelligence is not curiosity. It is *polytropos* — the many-turning quality forced upon you when the cosmic order cannot be trusted. His wandering is not exploration. It is survival under conditions of divine hostility that offers no explanation for itself.

---

## Excavation: The Original Sense

### Thumos, Not Trauma

The humanist tradition psychologizes Odysseus's anger. His rage at the suitors becomes "unresolved feelings." Socrates uses him as an example of reason mastering passion (*Republic* 441b-c).

But *thumos* is not psychological anger. It is "energetic thinking that leads to action" — the fire in the heart that seethes and boils when honor is violated, when property is threatened, when the order of things is ruptured. Thumos drives men to stand up. It is not pathology. It is the appropriate response to violated justice.

Odysseus's slaughter of the suitors is not a lapse in self-control. It is *nostos* completing itself — the return to light and life that requires blood to restore order.

### Divine Unintelligibility, Not Metaphor

Poseidon does not want Odysseus dead. He wants him destroyed slowly. This is *orgē* — slow-burning resentment, the grudge that does not forget, the anger that festers and waits. For blinding Polyphemus, Odysseus wanders ten years. Shipwrecks. Storms. Horrors.

The secular reading makes the gods into narrative devices or psychological projections. But the original text assumes something we cannot assume: divine action is real, hostile, and does not explain itself. There is no "relationship" with Poseidon. There is no negotiation. The cosmos owes you nothing — not your life, not your home, not an explanation.

### Cunning, Not Cleverness

Odysseus survives the Cyclops by calling himself "Nobody" — *Outis*. Adorno and Horkheimer saw the dialectic: "He acknowledges himself to be himself by denying himself under the name Nobody; he saves his life by losing himself."

This is not cleverness. It is the intelligence that emerges when you cannot trust anything — not the gods, not the laws of hospitality, not even your own name. Cunning is "defiance that has become rational." It preserves the self by negating the self.

### Nostos, Not Journey

*Nostos* does not mean "journey home." The root *nes-* carries a meaning that the secular reading cannot hear: "return to light and life." It connects to solar mythology — the rising of the sun, the overcoming of death itself. This is not personal growth. This is cosmological restoration.

Odysseus's return is not about becoming a better person through travel. It is about the sun rising again after darkness. It is about order restored through violence. The suitors are not "antagonists." They are disorder itself, consuming the household, and *nostos* requires their destruction.

---

## The Drift

How did we lose this?

### Liberalizing
The Renaissance humanists wanted Odysseus as patron of the liberal arts — the well-rounded man, intellectually curious, self-possessed. They suppressed the violence because it didn't fit the cardinal virtues. They made *polytropos* into "versatility" rather than survival intelligence.

### Psychologizing
The Stoic-influenced tradition made thumos into passion to be controlled by reason. Odysseus becomes an example of self-mastery — the mind commanding the emotions. What disappears: the righteous anger that *should* drive action when justice is violated.

### Secularizing
Modern readers treat the gods as literary devices. Poseidon's wrath becomes "obstacles to the hero's journey." What disappears: the genuine unintelligibility of divine action, the cosmos that does not owe you an explanation.

### Aestheticizing
Homer becomes "great literature" — a cultural accomplishment to be appreciated. The Odyssey becomes a "classic." What disappears: the form of life that the text assumes, the strangeness that should unsettle us.

---

## The Recovery

What becomes available if we let Odysseus be strange?

### An Epistemology of Betrayal

What does it mean to know when knowledge is forced upon you? Not chosen as leisure, not pursued out of curiosity, but beaten into you by circumstances you did not ask for and cannot control?

Odysseus knows the world because the world has destroyed him. His *polytropos* nature — his many-turning — is the intelligence of the betrayed. He cannot trust the gods. He cannot trust hosts who might be monsters. He cannot even use his own name. And yet he survives. And yet he returns.

This is not the curious traveler's epistemology. This is knowing forged in betrayal.

### The Right to Spirited Response

If we recover thumos, we recover the legitimacy of anger. Not pathological anger to be processed. Not resentment to be therapized away. But the spirited response appropriate to violated justice.

The modern subject is not supposed to be angry. Anger is dysfunction. But Odysseus's rage at the suitors is not dysfunction. It is the demand for cosmic order, expressed in violence, that restores his household and completes his *nostos*.

We might ask: what are we not allowed to be angry about? What violated justice have we been trained to "process" rather than respond to?

### Divine Unintelligibility as Real Condition

The cosmos does not explain itself. The gods — or whatever operates at that level — do not owe you an account. Poseidon never justifies his wrath. He simply enacts it.

This is not primitive superstition. It is a recognition that we live in a world that did not ask our permission and does not answer our questions. The modern subject assumes intelligibility — assumes that reality can be made to answer. Odysseus assumes nothing. His intelligence operates in the gap between what happens and any explanation for why.

### Nostos as Stakes

If return is not journey but "return to light and life," then failure is not disappointment but death — or worse than death. Achilles knows he will not have a *nostos*. This is why he chooses *kleos* (glory). The choice is not lifestyle preference. It is cosmological.

We might ask: what would it mean to take return seriously? Not as metaphor, not as personal growth, but as the sun rising or not rising. As order restored or order collapsing into chaos.

---

## Application

### For Inquiry

When knowledge is forced upon you by hostile circumstances:
- You are not a curious traveler. You are *polytropos* — many-turning, surviving.
- Your intelligence is cunning, not cleverness. It operates without trust.
- You have the right to spirited response. Anger at violated justice is not pathology.

### For Return

When you are trying to get home:
- Home is not a lifestyle. It is cosmic order.
- Return requires violence against disorder. The suitors must die.
- *Nostos* is not guaranteed. Some heroes — Achilles, Agamemnon — do not return.

### For Divine Unintelligibility

When the world does not explain itself:
- This is not a problem to be solved. It is a condition to be navigated.
- Intelligence operates in the gap between event and explanation.
- You do not have a "relationship" with what destroys you. You survive it or you don't.

---

## The Formula

**Odysseus AS spirited response to divine unintelligibility**

Not: Odysseus as curious humanist
Not: Odysseus as self-mastering Stoic
Not: Odysseus as proto-Enlightenment subject

But: The man who knows because the gods have destroyed him. Whose intelligence is survival, not curiosity. Whose anger is justice, not pathology. Whose return is cosmological, not personal.

The recovery makes available: an epistemology of betrayal, the legitimacy of spirited response, and the genuine strangeness of a world that does not owe you an explanation.`,
  },
  {
    id: 'inst-recon-economic-genealogy',
    title: 'Recon: Economic Genealogy',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-recon-method'],
    source_id: null,
    output: 'etymon',
    status: 'draft',
    tags: ['recon', 'economics', 'genealogy', 'philology', 'aristotle', 'chrematistics'],
    content: `# Recon: Economic Genealogy

**Date initiated:** 2026-01-09
**Last updated:** 2026-01-09 (Execute mode collection)
**Domain:** Economic Genealogy — the philological archaeology of economic concepts
**Intent:** Populate strategic categories to support the Etymon channel's economic vocabulary recovery project
**Scope:** Terms and structures that govern modern economic thought but whose buried meanings reveal different possibilities

---

## Strategic Context

The project: Etymon channel recovers degraded concepts by excavating their original operational meanings. The economic vocabulary is a primary target — words like "capital," "credit," "interest" once carried relational, bounded, mortal meanings that modern usage has stripped away.

The thesis (from Oikonomia vs Chrematistics): Modern economics is chrematistic by definition — the study of unlimited wants meeting scarce means. The oikonomic frame (bounded household, telos, flourishing) is absent from the discipline. Economic genealogy traces this drift and recovers alternatives.

---

## Collection Plan

### Disciplines Selected

| Discipline | Applicable? | Status | Instrument | Notes |
|------------|-------------|--------|------------|-------|
| **Philological** | ✓ | **~40%** | Etymon Method | Core discipline — 8 excavations now |
| **Genealogical** | ✓ | **~30%** | Source capture | Polanyi + Graeber captured |
| **Structural** | ○ | N/A | — | Financial structures (10-Ks, balance sheets) |
| **Network** | ○ | N/A | — | — |
| **Phenomenological** | ○ | N/A | — | — |
| **Doctrinal** | ✓ | Minimal | Source capture | Official economic discourse |

### Products Generated

| Product | ID | Type | Status | Notes |
|---------|-----|------|--------|-------|
| CAPITAL | \`inst-capital\` | excavation | ✓ **verified** | Exemplar — cattle → fund → system |
| CREDIT | \`inst-credit\` | excavation | ◐ incubating | Belief → calculation |
| INTEREST | \`inst-interest\` | excavation | ◐ incubating | Being-between → rate |
| CORPORATION | \`inst-corporation\` | excavation | ◐ incubating | Body → immortal fiction |
| ACCOUNT | \`inst-account\` | excavation | ◐ incubating | Reckoning → compliance |
| PETTY COMMODITY | \`inst-petty-commodity\` | excavation | ◐ incubating | Small-scale → trivial |
| **DEBT** | \`inst-excavate-debt\` | excavation | ✓ **completed** | **NEW** — Schuld = guilt + debt |
| **MORTGAGE** | \`inst-excavate-mortgage\` | excavation | ✓ **completed** | **NEW** — Death pledge |
| **WEALTH** | \`inst-excavate-wealth\` | excavation | ✓ **completed** | **NEW** — Wela = well-being |
| Oikonomia/Chrematistics | \`fw-oikonomia-chrematistics\` | framework | ✓ verified | Core diagnostic |
| Aristotle Politics | \`src-aristotle-politics\` | source | ◐ incubating | Thin — needs expansion |
| **Polanyi** | \`src-polanyi-great-transformation\` | source | ✓ **completed** | **NEW** — Embeddedness thesis |
| **Graeber** | \`src-graeber-debt\` | source | ✓ **completed** | **NEW** — Debt genealogy |

### Gaps (remaining)

**Philological (more terms to excavate):**
- [x] ~~DEBT — the guilt structure~~ ✓ Completed
- [x] ~~MORTGAGE — death pledge~~ ✓ Completed
- [x] ~~WEALTH — well-being~~ ✓ Completed
- [ ] STOCK — tree trunk, living thing
- [ ] BOND — binding, obligation
- [ ] SECURITY — freedom from care (se + cura)
- [ ] COMMODITY — convenience, makeshift
- [ ] VALUE — strength, worth
- [ ] PRICE — reward, praise
- [ ] MARKET — boundary, limit
- [ ] ECONOMY — household law (revisit as standalone excavation)
- [ ] BANK — bench, counter
- [ ] PROFIT — to make forward
- [ ] INVEST — to clothe
- [ ] PROPERTY — proper to, fitting
- [ ] PRIVATE — deprived

**Genealogical (historical context):**
- [x] ~~Polanyi, *The Great Transformation*~~ ✓ Completed
- [x] ~~Graeber, *Debt: The First 5000 Years*~~ ✓ Completed
- [ ] Mehrling, *The New Lombard Street* — money view vs finance view
- [ ] Berle & Means, *The Modern Corporation* — separation of ownership/control
- [ ] Ciepley on corporations — constitutional approach

---

## Key Findings from This Collection

### DEBT (inst-excavate-debt)

**Etymology:** Latin *debitum* → but the German *Schuld* means BOTH debt AND guilt

**The discovery:** No other Western European language preserves this unity. Romance languages split them (Spanish: *deuda* vs *culpa*). The Lord's Prayer in German: "Vergib uns unsere Schulden" — forgive us our debts/guilt.

**Drift:** Social obligation → financial instrument. Strategic default erases the guilt structure.

**Recovery:** Debt is subordination. The debtor is in the creditor's power. Recovering Schuld would restore friction.

**Operator:** DEBT AND GUILT (the systematic connection)

---

### MORTGAGE (inst-excavate-mortgage)

**Etymology:** Old French *mort gage* — literally "death pledge"

**The discovery:** The deal must die — either by payment (debt dies) or by forfeiture (property dies to you). Sir Edward Coke (1664) explained it as a pledge that ends in death.

**Drift:** Death pledge → "product." 30-year commitments spoken of as purchases.

**Recovery:** Hear the death. "Getting a mortgage" = giving a death pledge on your shelter.

**Operator:** MORTGAGE AS Death Pledge

---

### WEALTH (inst-excavate-wealth)

**Etymology:** Old English *wela* = well-being, prosperity. Same root as "well" and "will."

**The discovery:** Wealth meant HOW YOU ARE, not WHAT YOU HAVE. The narrowing (~1250-1430) reduced flourishing to fortune. "Commonwealth" preserves the old sense.

**Drift:** Well-being → assets. You can have enough well-being; you cannot have enough assets.

**Recovery:** This IS the oikonomic concept. Wealth-as-wela has a satiation point. Wealth-as-assets doesn't.

**Operator:** WEALTH AS Well-Being

---

### Polanyi (src-polanyi-great-transformation)

**Core thesis:** Economies were once **embedded** in social relations. The "great transformation" was their **disembedding** — making labor, land, and money into fictitious commodities.

**Key vocabulary:**
- **Embeddedness** — economy subordinate to society (oikonomic)
- **Disembedding** — economy separated from society (chrematistic)
- **Commodity fiction** — treating labor/land/money as if produced for sale
- **Double movement** — society's spontaneous self-protection against full commodification

**Significance:** Provides the historical-anthropological frame for the drift. Market society is not natural — it was created through state violence in 18th-19th century England.

---

### Graeber (src-graeber-debt)

**Core thesis:** Credit came before coin. The "myth of barter" (barter → money → credit) is backwards. Actual history: credit → coins → barter (only when systems collapse).

**Key vocabulary:**
- **Myth of barter** — the false origin story economists tell
- **Human economies** — where persons cannot be quantified
- **Commercial economies** — where violence enables quantification
- **Primordial debt** — the state's claim that you owe an unpayable debt (legitimation technique)

**Significance:** Debt is not neutral financial instrument — it's social relationship tied to power and violence. The German *Schuld* is not accident; it's evidence.

---

## Processing

### Taxonomic

**Terms by Origin (updated):**
| Language | Terms |
|----------|-------|
| Latin | capital, credit, interest, corporation, account, value, price, profit, invest, property, private |
| Greek | economy, chrematistics |
| Old French | **debt**, **mortgage**, stock, bond, market, bank |
| Germanic/Old English | **wealth** |

**Terms by Drift Pattern (updated):**
| Pattern | Examples |
|---------|----------|
| Concrete → Abstract | capital (heads → fund), stock (trunk → shares) |
| Relational → Calculational | credit (belief → score), interest (concern → rate) |
| Mortal → Immortal | corporation (body → perpetual), **mortgage (death → product)** |
| Bounded → Unbounded | economy (household → discipline), **wealth (well-being → assets)** |
| Narrative → Compliance | account (reckoning → audit) |
| **Moral → Neutral** | **debt (guilt → leverage)** |

### Relational

**Updated Conceptual Network:**
\`\`\`
                    ┌─────────────────┐
                    │     WEALTH      │ ← well-being (wela)
                    │   (oikonomic)   │
                    └────────┬────────┘
                             │
         ┌───────────────────┼───────────────────┐
         ▼                   ▼                   ▼
   ┌─────────┐         ┌─────────┐         ┌─────────┐
   │ CAPITAL │         │  DEBT   │         │MORTGAGE │
   │ (heads) │         │ (Schuld)│         │(death   │
   │mortality│         │  guilt  │         │ pledge) │
   └────┬────┘         └────┬────┘         └────┬────┘
        │                   │                   │
        ▼                   ▼                   ▼
   ┌─────────┐         ┌─────────┐         ┌─────────┐
   │  fund   │         │leverage │         │"product"│
   │immortal │         │ neutral │         │  death  │
   └────┬────┘         └────┬────┘         │  hidden │
        │                   │              └────┬────┘
        └───────────────────┼───────────────────┘
                            ▼
                    ┌─────────────────┐
                    │    ASSETS       │ ← chrematistic
                    │   (unbounded)   │
                    └─────────────────┘
\`\`\`

---

## Analysis

### Diagnostic Assessment (updated)

The three new excavations confirm the pattern:

1. **DEBT** — Moral weight → neutral instrument. The Schuld (guilt) disappears; "strategic default" becomes thinkable.

2. **MORTGAGE** — Mortality visible → mortality hidden. You no longer hear the death in death-pledge; it's just a "product."

3. **WEALTH** — Qualitative → quantitative. Well-being shrinks to net worth; flourishing becomes fortune.

All three demonstrate the same chrematistic drift: what was bounded, mortal, relational, moral becomes unbounded, immortal, calculable, neutral.

### Strategic Assessment (updated)

**New leverage points from this collection:**

1. **WEALTH as well-being** — This is the positive oikonomic concept. Recovery here is not just critique but alternative. "Are you wealthy?" = "Are you well?"

2. **DEBT as guilt** — The Schuld connection is dramatic. Bilingual demonstration (German Lord's Prayer) makes the recovery vivid.

3. **MORTGAGE as death pledge** — Most people have mortgages. Naming it "death pledge" creates immediate recognition and unease.

**Graeber + Polanyi provide genealogical grounding:**
- Polanyi: Market society is not natural (embeddedness → disembedding)
- Graeber: Debt is not neutral (credit-as-trust → credit-as-calculation)

Both support the oikonomia/chrematistics frame with anthropological-historical evidence.

---

## Strategic Categories (updated)

### Actors

| Entity | Role | Notes |
|--------|------|-------|
| Aristotle | Origin of oikonomia/chrematistics | Politics Book I |
| Pacioli | Double-entry bookkeeping | Accounting's narrative structure |
| **Polanyi** | Embeddedness thesis | **Source now captured** |
| **Graeber** | Debt as social relation | **Source now captured** |
| Mehrling | Money view | Still needed |
| Berle & Means | Corporation genealogy | Still needed |
| Sir Edward Coke | Legal definition of mortgage | 1664 commentary |

### Structures

| Structure | Function | Notes |
|-----------|----------|-------|
| Double-entry bookkeeping | Narrative coherence in numbers | Balance = story consistency |
| Corporate personhood | Immortal accumulation vehicle | Body without body |
| Credit scoring | Calculation replacing trust | Algorithmic credit |
| **Mortgage system** | Death pledges as products | **NEW: Death hidden in product** |
| **Debt-as-leverage** | Guilt removed from obligation | **NEW: Schuld forgotten** |

### Dynamics

| Dynamic | Direction | Implications |
|---------|-----------|--------------|
| Chrematistic drift | Ongoing | Each term loses its bounded meaning |
| Financialization | Accelerating | More domains become calculable |
| **Guilt erasure** | **Complete** | **Debt has no moral weight** |
| **Death domestication** | **Complete** | **Mortgages are "products"** |
| Alternative movements | Emerging | Steward ownership, co-ops, B-corps |

### Instruments (updated)

| Instrument | Purpose | Availability |
|------------|---------|--------------|
| Etymon Method | Excavate degraded terms | ✓ Available |
| Oikonomia/Chrematistics lens | Diagnose bounded/unbounded | ✓ Available |
| Reading 10-K framework | Analyze corporate filings | ✓ Available |
| **Polanyi's embeddedness** | Historical-anthropological context | ✓ **Captured** |
| **Graeber's debt genealogy** | Debt as social relation | ✓ **Captured** |

### Openings (updated)

| Opening | Nature | Risk/Reward |
|---------|--------|-------------|
| Etymon channel content | Educational media | Low risk, uncertain reach |
| **WEALTH video** | **Most positive recovery** | **High leverage — not just critique** |
| **DEBT video** | **Schuld demonstration** | **Bilingual hook is vivid** |
| **MORTGAGE video** | **Universally relatable** | **Everyone knows mortgages** |

---

## Coverage Assessment (updated)

| Discipline | Coverage | Products |
|------------|----------|----------|
| Philological | **~40%** | 8 excavations (1 verified, 7 incubating/completed) |
| Genealogical | **~30%** | 2 sources captured (Polanyi, Graeber) |
| Structural | 0% | No 10-K analysis yet |
| Network | 0% | Not attempted |
| Phenomenological | 0% | Not attempted |
| Doctrinal | ~5% | Aristotle source (thin) |

**Overall legibility:** **Moderate** (up from low-moderate)
- Strong framework (oikonomia/chrematistics)
- Strong method (Etymon)
- Exemplar instance (CAPITAL)
- **Three new high-quality excavations**
- **Genealogical grounding now exists (Polanyi, Graeber)**

**Adequate for action?** **Yes, for Etymon production**
- DEBT, MORTGAGE, WEALTH are production-ready
- CREDIT, INTEREST can be strengthened with Graeber reference
- Series structure is emerging

---

## Next Actions

### Immediate (production-ready)
1. **Promote DEBT to full instance** — Use DEBT AND GUILT operator
2. **Promote MORTGAGE to full instance** — Use MORTGAGE AS Death Pledge operator
3. **Promote WEALTH to full instance** — Use WEALTH AS Well-Being operator

### Short-term (strengthen existing)
1. Update CREDIT with Graeber source references
2. Update INTEREST with Graeber on usury history
3. Capture Mehrling source for money view

### Medium-term (expand coverage)
1. \`/loomlib:excavate security\` — freedom from care
2. \`/loomlib:excavate value\` — strength, worth
3. \`/loomlib:source Berle-Means\` — for CORPORATION

### Synthesis (when ready)
- \`/loomlib:synthesize inst-excavate-debt + inst-excavate-mortgage + inst-credit\` — Debt/obligation cluster
- Create index: Economic Genealogy Channel

---

## Composition

**Upstream (what informed this campaign):**
- [Recon Method](fw-recon-method) — orchestration framework
- [Oikonomia vs Chrematistics](fw-oikonomia-chrematistics) — core diagnostic lens
- [Etymon Method](fw-etymon-method) — collection instrument

**Downstream (what this campaign enables):**
- Etymon channel economic vocabulary series
- Coherent framing for individual excavations
- Gap identification for prioritized production

**Products generated (this session):**
- \`inst-excavate-debt\` — DEBT excavation (Schuld = guilt + debt)
- \`inst-excavate-mortgage\` — MORTGAGE excavation (death pledge)
- \`inst-excavate-wealth\` — WEALTH excavation (wela = well-being)
- \`src-polanyi-great-transformation\` — Polanyi source
- \`src-graeber-debt\` — Graeber source`,
  },
  {
    id: 'inst-scope-composable-commands',
    title: 'Scope: Composable Commands for Emergent Outcomes',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method', 'fw-invariants-variants'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'commands', 'composition', 'emergence', 'ai-orchestration'],
    content: `# Scope: Composable Commands for Emergent Outcomes

**Date:** 2026-01-08
**Subject:** What commands would enrich loomlib's ability to produce well-composed knowledge?
**Method:** Scope Method + Invariants/Variants

---

## Current State

### Existing Commands (12)

| Command | Intent | What It Does |
|---------|--------|--------------|
| \`loomlib\` | route | Parse intent, delegate to specialist |
| \`loomlib:survey\` | research | Investigate before changing |
| \`loomlib:scope\` | research | Derive UX requirements |
| \`loomlib:excavate\` | research | Etymological investigation |
| \`loomlib:framework\` | build | Create reusable method/lens |
| \`loomlib:instance\` | produce | Apply frameworks to content |
| \`loomlib:note\` | capture | Raw thought, pre-structure |
| \`loomlib:source\` | capture | External reference material |
| \`loomlib:index\` | organize | Curate document collections |
| \`loomlib:triage\` | meta | Classify document type |
| \`loomlib:promote\` | workflow | Advance status |
| \`loomlib:resolve\` | workflow | Close out document |

### Current Document Distribution

| Intent | Count | Commands Serving It |
|--------|-------|---------------------|
| research | 28 | survey, scope, excavate |
| produce | 17 | instance |
| build | 11 | framework |
| organize | 4 | index |
| capture | 3 | note, source |

### What's Working

1. **Discovery protocol** — Commands query existing docs before producing
2. **Typed relationships** — \`upstream\`/\`downstream\` create traceable lineage
3. **Specialized protocols** — Each command has its method (Survey Method, Etymon Method, etc.)
4. **Status workflow** — incubating → draft → verified progression

### What's Missing

The commands operate **document-at-a-time**. No commands for:
- Synthesizing across multiple documents
- Surfacing patterns in the graph
- Validating composition quality
- Navigating relationships
- Batch operations

---

## Proposed Commands

### Tier 1: High Impact, High Composability

#### \`/loomlib:synthesize\`

**Intent:** produce
**What it does:** Combine insights from multiple documents into a new synthesis

\`\`\`
/loomlib:synthesize inst-excavate-feedback + inst-excavate-system + src-systems-thinking
\`\`\`

**Protocol:**
1. Discover: Load specified documents + their upstreams
2. Extract: Pull key claims, vocabulary, findings from each
3. Weave: Identify tensions, complements, emergent patterns
4. Output: New instance with all inputs as upstream (relation: \`synthesizes\`)

**Why it matters:**
- Creates **emergent knowledge** not present in any single document
- Forces explicit integration across research
- Produces higher-order instances

**Relation type needed:** \`synthesizes\` (new)

---

#### \`/loomlib:lineage\`

**Intent:** organize
**What it does:** Trace and visualize the production genealogy of a document

\`\`\`
/loomlib:lineage inst-excavate-feedback
\`\`\`

**Protocol:**
1. Discover: Walk upstream recursively to sources
2. Walk downstream to what this enables
3. Output: Graph visualization (ASCII or markdown table) + narrative summary

**Why it matters:**
- Makes composition **visible**
- Answers "where did this come from?" and "what does this enable?"
- Validates that lineage claims are accurate

**Output format:**
\`\`\`
src-systems-thinking
    ↓ [source]
inst-excavate-feedback
    ↓ [informs]
inst-invariants-variants-systems-thinking
\`\`\`

---

#### \`/loomlib:review\`

**Intent:** research
**What it does:** Structured review against quality criteria for status promotion

\`\`\`
/loomlib:review inst-excavate-feedback
\`\`\`

**Protocol:**
1. Discover: Load document + its claimed upstreams
2. Verify: Check claims against upstream sources
3. Assess: Apply status criteria (draft → verified requires X)
4. Output: Review document with findings, recommendation (promote/revise)

**Why it matters:**
- Currently, promotion is manual and arbitrary
- Structured review creates **quality gates**
- Documents what "verified" actually means

**Quality criteria by type:**
| Type | Verified Requires |
|------|------------------|
| excavate | Etymology sourced, drift documented, recovery claim testable |
| survey | Files accurate, findings reproducible |
| scope | Expectations derived from evidence, gaps actionable |
| instance | Upstream claims verified, operator appropriate |

---

### Tier 2: Medium Impact, Structural

#### \`/loomlib:compare\`

**Intent:** research
**What it does:** Structured comparison of two or more documents

\`\`\`
/loomlib:compare inst-excavate-feedback inst-excavate-system
\`\`\`

**Protocol:**
1. Load documents
2. Align: Match vocabulary, claims, structure
3. Contrast: Identify differences, tensions, complements
4. Output: Comparison table + synthesis opportunities

**Why it matters:**
- VERSUS instances require comparison work
- Makes implicit comparison explicit
- Surfaces where synthesis would be valuable

---

#### \`/loomlib:orphans\`

**Intent:** organize
**What it does:** Find documents with weak or missing composition

\`\`\`
/loomlib:orphans
\`\`\`

**Protocol:**
1. Query all documents
2. Flag: No upstream refs, no downstream refs, missing framework_ids
3. Output: List organized by severity

**Orphan types:**
| Type | Description | Severity |
|------|-------------|----------|
| Rootless | No upstream refs | Medium |
| Dead-end | No downstream refs | Low (might be current work) |
| Unframed | instance with no framework_ids | High |
| Sourceless | Claims without source_id | Medium |

**Why it matters:**
- Surfaces **composition debt**
- Guides where to focus connection work
- Maintains graph health

---

#### \`/loomlib:cluster\`

**Intent:** organize
**What it does:** Find documents that should be connected but aren't

\`\`\`
/loomlib:cluster --by tags
/loomlib:cluster --by perspective
\`\`\`

**Protocol:**
1. Query documents by grouping dimension
2. Within each group, check for missing relationships
3. Suggest: "These 3 documents share tags but have no upstream/downstream links"

**Why it matters:**
- Surfaces **implicit clusters** that should be explicit
- Guides index creation
- Identifies synthesis opportunities

---

### Tier 3: Utility, Workflow

#### \`/loomlib:status\`

**Intent:** organize
**What it does:** Dashboard of current graph state

\`\`\`
/loomlib:status
\`\`\`

**Output:**
\`\`\`
Documents: 63 total
  - verified: 38 (60%)
  - draft: 15 (24%)
  - incubating: 10 (16%)

By intent:
  - research: 28 (surveys: 15, scopes: 8, excavations: 5)
  - produce: 17
  - build: 11
  - organize: 4
  - capture: 3

Composition health:
  - Orphans: 5 (see /loomlib:orphans)
  - Avg upstream refs: 1.8
  - Most connected: idx-conducting-frontmatter-system (6 upstream)

Incubating needing attention:
  - inst-account (incubating 14 days)
  - inst-corporation (incubating 14 days)
\`\`\`

**Why it matters:**
- Quick orientation to graph state
- Surfaces what needs attention
- Tracks composition quality over time

---

#### \`/loomlib:batch\`

**Intent:** workflow
**What it does:** Apply operation to multiple documents

\`\`\`
/loomlib:batch promote --status draft --tag etymology
/loomlib:batch resolve --execution_state completed --older-than 7d
\`\`\`

**Protocol:**
1. Query documents matching criteria
2. Preview: Show what would change
3. Confirm: User approves
4. Execute: Apply operation to all

**Why it matters:**
- Currently, every status change is manual
- Batch operations for hygiene tasks
- Dangerous, so requires preview + confirm

---

### Tier 4: Experimental

#### \`/loomlib:similar\`

**Intent:** research
**What it does:** Find semantically similar documents (when embeddings available)

\`\`\`
/loomlib:similar inst-excavate-feedback
\`\`\`

**Protocol:**
1. Compute embedding for target document
2. Find nearest neighbors in vector space
3. Output: Ranked list with similarity scores

**Why it matters:**
- Discovery beyond text matching
- Surfaces unexpected connections
- Enables "more like this" exploration

**Dependency:** Requires embeddings implementation (currently \`available: false\`)

---

#### \`/loomlib:contradict\`

**Intent:** research
**What it does:** Find documents that might contradict or tension with target

\`\`\`
/loomlib:contradict inst-excavate-feedback
\`\`\`

**Protocol:**
1. Extract key claims from target
2. Search for documents with opposing vocabulary/claims
3. Output: Potential tensions to investigate

**Why it matters:**
- Surfaces **productive conflict**
- Prevents echo chamber composition
- Guides VERSUS instance creation

---

## Composition Quality Metrics

If these commands existed, we could track:

| Metric | What It Measures | Target |
|--------|-----------------|--------|
| **Orphan rate** | % docs with no upstream | < 10% |
| **Dead-end rate** | % docs with no downstream | < 30% |
| **Avg composition depth** | Mean upstream chain length | > 2 |
| **Synthesis ratio** | Syntheses / total instances | > 10% |
| **Verification rate** | % docs verified | > 60% |
| **Review coverage** | % docs with review document | > 50% |

---

## Implementation Priority

| Command | Impact | Complexity | Priority |
|---------|--------|------------|----------|
| \`synthesize\` | High | Medium | 1 |
| \`lineage\` | High | Low | 1 |
| \`review\` | High | Medium | 1 |
| \`orphans\` | Medium | Low | 2 |
| \`status\` | Medium | Low | 2 |
| \`compare\` | Medium | Medium | 2 |
| \`cluster\` | Medium | Medium | 3 |
| \`batch\` | Medium | Medium | 3 |
| \`similar\` | High | High (needs embeddings) | 4 |
| \`contradict\` | Medium | High | 4 |

---

## New Relation Types Needed

| Relation | Meaning | Used By |
|----------|---------|---------|
| \`synthesizes\` | Combined multiple docs into new insight | synthesize |
| \`reviews\` | Quality assessment of target | review |
| \`compares\` | Structured comparison | compare |
| \`tensions\` | Identified contradiction | contradict |

---

## The Emergence Thesis

**Current state:** Commands produce documents that link to each other.

**With these additions:** Commands can:
- **Synthesize** — create knowledge not in any single document
- **Navigate** — trace how knowledge was composed
- **Validate** — verify composition quality
- **Surface** — find patterns, gaps, tensions

**Emergence happens when:**
1. Synthesis creates higher-order instances
2. Lineage reveals unexpected dependencies
3. Review forces quality through verification
4. Orphan detection maintains graph health
5. Cluster discovery surfaces implicit structure

**The composable pattern:**
\`\`\`
/loomlib:survey topic →
/loomlib:excavate TERM →
/loomlib:synthesize survey + excavation →
/loomlib:review synthesis →
/loomlib:promote synthesis verified
\`\`\`

Each command's output feeds the next. The graph grows richer. Emergence compounds.

---

## Composition

**Upstream (what informed this scope):**
- [Scope Method](fw-scope-method) — structured requirements derivation
- [Invariants/Variants](fw-invariants-variants) — what's fixed vs open
- [Survey: AI Orchestration Evaluation](inst-survey-ai-orchestration-evaluation) — what patterns excel
- [Index: Conducting Frontmatter System](idx-conducting-frontmatter-system) — current architecture

**Downstream (what this enables):**
- Implementation of priority 1 commands
- Command template development
- Composition health dashboard

**Decision needed:**
Which commands to implement first? Recommendation: \`synthesize\`, \`lineage\`, \`review\` as a coherent trio that enables verification of emergent composition.`,
  },
  {
    id: 'inst-scope-constellation-aesthetic',
    title: 'Scope: Constellation View Aesthetic',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'ux', 'constellation', 'graph', 'visualization', 'aesthetic'],
    content: `# Scope: Constellation View Aesthetic

**Date:** 2026-01-08
**Subject:** Visual design and interaction quality of the constellation graph view
**Method:** Scope Method (UX analysis)
**Prerequisite:** survey-constellation-view.md

---

## Audit

### Current UX Flow

1. User enters constellation view → sees focused document at center
2. Related documents arranged spatially by relationship type
3. SVG tethers connect focus to related nodes
4. Hover on any node → preview panel appears
5. Click → change focus, Double-click → open editor
6. Lens indicator (top-left) → click to change view mode
7. Formula bar (top-center) → shows production formula for instances
8. Slot indicators (edges) → paginate when categories overflow

### Key Interactions

| Element | Interaction | Feedback |
|---------|-------------|----------|
| Node card | Hover | Preview panel appears |
| Node card | Click | 250ms delay, then refocuses constellation |
| Node card | Double-click | Opens document in editor |
| Lens indicator | Click | Opens lens picker modal |
| Slot indicator | ‹/› buttons | Scrolls that category's visible set |
| Keyboard \`[\`/\`]\` | Press | Scrolls active slot category |
| Keyboard Tab | Press | Cycles active slot category |
| Keyboard ⌘L | Press | Opens lens picker |

### Visual Inventory

- **Background:** Dark void with radial gradient + subtle noise
- **Nodes:** Glassmorphism cards (blur + gradient + border highlight)
- **Tethers:** SVG lines with glow filter on focused connections
- **Focus node:** 1.06x scale, accent border, max-width 240px
- **Context nodes:** 0.95x scale, 85% opacity, max-width 180px
- **Distant nodes:** 0.9x scale, 70% opacity
- **Slot indicators:** Up to 8 pagination controls around edges
- **Preview panel:** Fixed-width (280px) glassmorphism card

---

## Affordances

### What the UI Promises

| Visual Element | Implied Promise |
|----------------|-----------------|
| Spatial layout | Position encodes relationship type |
| Focus node prominence | "This is what you're looking at" |
| Tethers | "These are connected" |
| Depth scaling | "Closer = more relevant" |
| Lens indicator | "You can change the view" |
| Formula bar | "This is how this was made" |
| Slot pagination | "There's more in this direction" |

### Mental Models Invoked

- **Star map / planetarium** — Central object with orbiting relationships
- **Mind map** — Ideas connected by lines
- **File graph** — Dependencies visualized

### What It *Should* Feel Like (but doesn't)

- **Living organism** — Relationships should breathe, not feel static
- **Navigable space** — Should feel like exploring, not clicking menus
- **Contextual insight** — Should reveal patterns, not just enumerate

---

## Expectations

### What Users Would Expect

1. **Smooth transitions** — Changing focus should animate, not jump
2. **Immediate click response** — No 250ms delay
3. **Spatial navigation** — Arrow keys move spatially, not through list
4. **Zoom/pan** — Explore dense graphs without losing overview
5. **Relationship legibility** — Understand connection types at a glance
6. **Progressive disclosure** — Start simple, reveal complexity on demand
7. **Overview mode** — See entire graph before drilling in

### Natural User Flows

- "What's this connected to?" → Expect to see at a glance (works, but cluttered)
- "How was this made?" → Formula bar (works for instances only)
- "What else is like this?" → Lens change (works, but hidden)
- "Show me everything" → No overview mode (gap)
- "Navigate to related" → Click (250ms delay feels broken)

---

## Gaps

| Gap | Type | Description |
|-----|------|-------------|
| **Click delay** | Blocking | 250ms delay on every click to disambiguate double-click |
| **No layout animation** | Friction | Nodes jump to new positions on focus change |
| **8 slot indicators** | Friction | Visual clutter, cognitive overload |
| **No overview mode** | Friction | Can't see entire graph; always focused |
| **No zoom/pan** | Friction | Dense graphs become unusable |
| **Tethers only show for focus** | Friction | Lose context of overall graph structure |
| **Arrow keys navigate list, not space** | Friction | Mental model mismatch |
| **Depth blur disabled** | Polish | Depth vars exist but set to 0 |
| **Color inconsistency** | Polish | Hex in types.ts vs oklch in CSS |
| **Formula bar instances-only** | Polish | Other types get no contextual info |
| **Slot indicator styling** | Polish | rgba backgrounds don't match glassmorphism |
| **Incubating animation disabled** | Polish | CSS exists but not used |
| **No directionality on tethers** | Polish | Can't tell parent from child visually |
| **Uniform node size** | Polish | Only focus node is larger |
| **Preview can occlude** | Polish | Positioning doesn't guarantee visibility |

### Gap Categories

**Blocking (prevents core task):**
- Click delay (fundamental interaction feels broken)

**Friction (hinders flow):**
- No layout animation
- 8 slot indicators creating clutter
- No overview mode
- No zoom/pan
- Tethers only for focus
- Arrow keys navigate wrong mental model

**Polish (works but rough):**
- Depth blur disabled
- Color inconsistency
- Formula bar scope
- Slot indicator styling
- Animation disabled
- No tether directionality
- Uniform node sizing
- Preview occlusion

---

## Requirements

### Must Have (Blocking → Usable)

- [x] **Remove click delay** — Use pointerdown/pointerup pattern or accept first click as focus change immediately
  - *Acceptance: Click on node changes focus with no perceptible delay*

- [x] **Animate layout transitions** — Nodes lerp to new positions on focus change
  - *Acceptance: Focus change produces smooth 200-300ms animation, not instant jump*

### Should Have (Friction → Pleasant)

- [ ] **Consolidate slot indicators** — Either collapse 8→4 categories or show indicators only on hover/need
  - *Acceptance: User doesn't see 8 pagination controls simultaneously*

- [ ] **Add overview mode** — Way to see entire graph (zoom out, mini-map, or different layout)
  - *Acceptance: User can view all documents at once without focus filtering*

- [ ] **Enable spatial keyboard navigation** — Arrow keys navigate to nearest node in that direction
  - *Acceptance: Pressing → selects node to the right of current focus*

- [ ] **Show relationship tethers beyond focus** — At least show parent→child tethers for context nodes
  - *Acceptance: User can see graph structure without hovering each node*

### Could Have (Polish)

- [ ] **Enable depth blur** — Re-enable the depth system blur for distant nodes
- [ ] **Add tether directionality** — Arrowheads or gradient showing parent→child direction
- [ ] **Vary node size by importance** — More children or references = larger node
- [ ] **Unify color system** — Convert TYPE_COLORS to oklch or vice versa
- [ ] **Add zoom/pan** — Scroll to zoom, drag to pan (or dedicated controls)
- [ ] **Contextual info for all types** — Formula bar equivalent for frameworks/sources
- [ ] **Re-enable incubating animation** — Subtle pulse for incubating nodes
- [ ] **Smart preview positioning** — Guarantee preview doesn't occlude focus node

### Out of Scope

- Full force-directed graph physics (too complex for current architecture)
- 3D visualization
- WebGL/Canvas rewrite (keep DOM-based for now)
- AI-powered semantic lens (marked unavailable in config)
- Multi-select operations

---

## Design Direction

### Core Aesthetic to Preserve

The "planetarium control room" aesthetic is strong:
- Dark void background with subtle gradient
- Glassmorphism cards
- Muted OKLCH colors
- Spatial depth encoding

### What Needs to Change

The interaction model, not the visual language:

1. **Responsiveness** — Clicks should feel instant
2. **Animation** — Transitions should feel smooth, not jarring
3. **Simplicity** — Reduce visual clutter (slot indicators)
4. **Legibility** — Graph structure should be scannable
5. **Navigation** — Movement should feel spatial

### Reference Points

- **Obsidian graph view** — Good overview mode, poor detail
- **Roam graph** — Force-directed but chaotic
- **Notion relation graphs** — Clean but too simplified
- **This could be better than all of them** — The semantic categorization is powerful, just needs better UX

---

## Notes

- The 8-category semantic system is architecturally sound; the problem is visual presentation
- Lens system is powerful but undiscoverable — consider making it more prominent
- Formula bar concept is excellent — extend to other document types
- Consider whether "constellation" metaphor should commit harder (stars, orbits, gravity)
- Performance is fine for current scale but no virtualization means eventual ceiling

---

## Implementation Sequence (Suggested)

1. Remove click delay (quick win, major impact)
2. Add layout animation (CSS transitions on transform)
3. Consolidate slot indicators (reduce from 8 → contextual)
4. Spatial keyboard navigation (medium complexity)
5. Tether improvements (directionality, show more)
6. Overview mode (bigger architectural change)
7. Polish items as time permits

---

## Resolution

**Date:** 2026-01-08
**Status:** partial

### What Was Done

Implemented the two **Must Have** requirements from this scope:

1. **Removed click delay** — Replaced timer-based double-click disambiguation with immediate response:
   - Click on unfocused node → focuses immediately (no 250ms wait)
   - Click on already-focused node → opens document
   - Native double-click → also opens document (works on any node)

2. **Added layout transition animations** — Nodes now animate smoothly to new positions:
   - DOM node elements cached between renders (not recreated)
   - Position updates via style changes instead of innerHTML replacement
   - CSS transitions on \`left\` and \`top\` properties (300ms ease-out)

### Changes Made

- \`loomlib/src/views/constellation.ts\`:
  - Removed \`clickTimer\` and \`CLICK_DELAY\` properties
  - Added \`nodeElements: Map<string, HTMLElement>\` for DOM caching
  - Rewrote click handler: immediate focus, click-on-focused opens
  - Added native \`dblclick\` listener as fallback
  - Modified \`renderNodes()\` to update existing nodes instead of recreating
  - Modified \`refresh()\` to clear cache on data reload

- \`loomlib/src/ui/constellation.css\`:
  - Added \`left var(--transition-slow)\` and \`top var(--transition-slow)\` to node transitions

### Outcome

The constellation view now feels responsive:
- Clicks register instantly (no perceptible delay)
- Focus changes animate smoothly (nodes glide to new positions)
- Double-click still works for opening documents

### Remaining Items

**Should Have (not yet addressed):**
- [ ] Consolidate slot indicators (8 → contextual)
- [ ] Add overview mode
- [ ] Spatial keyboard navigation
- [ ] Show tethers beyond focus node

**Could Have (not yet addressed):**
- [ ] Enable depth blur
- [ ] Tether directionality
- [ ] Variable node sizing
- [ ] Unified color system
- [ ] Zoom/pan controls
- [ ] Formula bar for all types
- [ ] Incubating animation
- [ ] Smart preview positioning

These items remain valid requirements for future work.`,
  },
  {
    id: 'inst-scope-constellation-redesign',
    title: 'Scope: Constellation View Redesign for Conducting Frontmatter',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'constellation', 'graph', 'visualization', 'conducting-frontmatter', 'ux'],
    content: `# Scope: Constellation View Redesign for Conducting Frontmatter

**Date:** 2026-01-08
**Subject:** Rethinking the constellation view to fully leverage conducting frontmatter
**Method:** Scope Method (UX analysis)
**Prerequisite:** survey-constellation-view-frontmatter.md, fw-conducting-frontmatter.md

---

## Audit

### Current State (from Screenshot)

The screenshot shows the current constellation view:

\`\`\`
┌─────────────────────────────────────────────────────────────────────┐
│  ● Default  ⌘L                                                      │
│                                                                      │
│  ┌──────────────────────────────────────────────────────────────┐   │
│  │ ▪ Survey: Editor View for Conducting Frontmatter = ⚙ Survey  │   │
│  └──────────────────────────────────────────────────────────────┘   │
│                                                                      │
│      ┌───────────┐ ┌───────────┐                Parents 1-2 of 3    │
│      │⚡ Scope: E │ │▪ Survey:E │                                    │
│      └───────────┘ └───────────┘                                    │
│              ╲       ╱                                               │
│               ╲     ╱                                                │
│                ╲   ╱                                                 │
│         ┌─────────────────────────────┐                             │
│         │ ▪ ⚡ Survey: Editor View    │                             │
│         │   for Conducting            │  ← Focus node (selected)    │
│         │   Frontmatter          ✓    │                             │
│         └─────────────────────────────┘                             │
│                    │                                                 │
│            ┌───────────┐                                            │
│            │ ⚡ Survey:C│                Siblings 1-2 of 26          │
│            └───────────┘                                            │
│                                                                      │
│            ┌───────────┐                                            │
│            │ ⚡ Survey:L│                                            │
│            └───────────┘                                            │
│                                                                      │
│                                          Distant  1-0 of 27         │
└─────────────────────────────────────────────────────────────────────┘
\`\`\`

### Current UX Flow

1. User sees **focused document** at center with tethers to related nodes
2. **4 categories** with slot pagination: parent, child, sibling, distant
3. **Slot indicators** on edges showing overflow counts
4. **Lens selector** (top-left) for filtering views
5. **Formula bar** (top-center) showing production equation for instances
6. **Node cards** showing: type icon + intent icon + title + execution dots
7. Click to focus, click-focused to open, hover for preview

### What Conducting Frontmatter Provides (Not Fully Used)

| Field | Available | Currently Used? |
|-------|-----------|-----------------|
| \`intent\` | research, build, capture, organize, produce | Icon on card only |
| \`execution_state\` | pending, in_progress, completed, resolved | Dots on card only |
| \`upstream[]\` | Array of {doc, relation} | Used for parent detection |
| \`downstream[]\` | Array of {doc, relation} | Not used |
| \`relation\` types | method, source, informs, prior | Tether colors only |

### Visual Inventory (Current)

- **Background:** Dark void, radial gradient, subtle noise
- **Nodes:** Glassmorphism cards with type icon, intent icon, title, state dots
- **Tethers:** Colored by relation (blue=toolkit, purple=domain, green=source, amber=child)
- **Categories:** 4 spatial zones (parent above, child below, sibling ring, distant outer)
- **Formula bar:** Shows \`◧ TITLE = ⚙ Toolkit + ▣ Domain + ◈ Source\`

---

## Affordances

### What the Current UI Promises

| Element | Implied Promise |
|---------|-----------------|
| Spatial layout | "Position tells you relationship type" |
| Tether colors | "Colors tell you relationship quality" |
| Node clustering | "Nearby nodes are similar" |
| Pagination indicators | "There's more beyond what you see" |
| Lens selector | "You can filter the view" |
| Formula bar | "You can see how this was made" |
| Intent/state on cards | "You can see document lifecycle" |

### Mental Models Invoked

- **Star chart** — Central focus with orbiting documents
- **Dependency graph** — Parent → child flow visible
- **Production lineage** — Formula bar shows "ingredients"

### What the UI *Should* Promise (with Conducting Frontmatter)

| New Promise | How |
|-------------|-----|
| "See the flow of production" | Upstream/downstream as navigable paths |
| "Understand what's in progress" | Execution state as first-class visual |
| "Find what you should work on next" | Pending/in_progress documents highlighted |
| "See what this document enabled" | Downstream visible, not just upstream |
| "Understand relation types at a glance" | Relations (method/source/informs/prior) distinct |

---

## Expectations

### What Users Would Expect (with Conducting Frontmatter)

1. **Follow the thread** — Click upstream to see what informed this, click downstream to see what it enabled
2. **See workflow state** — Documents in_progress should be visually distinct from completed
3. **Find work queue** — Pending documents should be findable quickly
4. **Understand relation types** — "This was made with that method" vs "This was informed by that source"
5. **Navigate production flow** — Not just "what is related" but "what led to what"

### Natural User Flows (Not Currently Supported)

| Flow | Expectation | Current Reality |
|------|-------------|-----------------|
| "What informed this?" | See upstream with relation labels | Upstream visible, relations by color only |
| "What did this enable?" | See downstream documents | No downstream visualization |
| "What's in progress?" | Filter/highlight by execution_state | Can filter via lens, but no highlight |
| "Follow the production chain" | Navigate upstream → document → downstream | Can only navigate upstream |
| "What needs work?" | See pending documents prominently | No visual distinction |

---

## Gaps

| Gap | Type | Description |
|-----|------|-------------|
| **No downstream navigation** | Blocking | Can't see what a document enabled |
| **Execution state not scannable** | Friction | Dots on cards are subtle, no filtering by state |
| **Relation types require color decoding** | Friction | Blue vs purple vs green requires learning |
| **No "flow" visualization** | Friction | Graph shows connections, not directionality |
| **Pending/in_progress not prominent** | Friction | Work queue is hidden |
| **Formula bar is instance-only** | Polish | Other types get no "how was this made" context |
| **Upstream array supersedes legacy fields** | Debt | Code still references framework_ids/source_id |

### Gap Categories

**Blocking:**
- No downstream visualization (one-way navigation only)

**Friction:**
- Execution state is decorative, not actionable
- Relation types encoded only in color (accessibility issue)
- No "follow the production chain" flow
- Work queue (pending/in_progress) not prominent

**Polish/Debt:**
- Formula bar limited to instances
- Code still has legacy field references alongside upstream

---

## Requirements

### Must Have (Blocking → Usable)

- [ ] **Show downstream documents**
  - Documents that reference this doc via \`upstream[]\` should appear in a dedicated zone
  - Acceptance: User can see "what this document enabled" at a glance
  - Implementation: Add \`downstream\` category to spatial layout

- [ ] **Make execution_state actionable**
  - Execution state should be filterable, not just visible
  - Add "Work Queue" lens showing pending + in_progress documents
  - Acceptance: User can quickly find documents that need work

### Should Have (Friction → Pleasant)

- [ ] **Show relation types explicitly**
  - Tethers or node labels should show relation (method, source, informs, prior)
  - Not just color — text labels on hover or as badges
  - Acceptance: User understands relation without memorizing color codes

- [ ] **Visualize production flow direction**
  - Tethers should have directionality (arrowheads or gradient)
  - Upstream → focus → downstream should read as a flow
  - Acceptance: User can follow production chain visually

- [ ] **Highlight pending/in_progress prominently**
  - Documents with \`execution_state: pending\` or \`in_progress\` get visual emphasis
  - Subtle pulse, badge, or border treatment
  - Acceptance: Work queue items are instantly recognizable

- [ ] **Extend formula bar to all types**
  - Frameworks: Show what they've produced (downstream count)
  - Sources: Show what cites them
  - Notes: Show if they've been promoted
  - Acceptance: Formula bar provides context for any focused document type

### Could Have (Polish)

- [ ] **Upstream/downstream counters**
  - Badge on node showing count of upstream + downstream references
  - Helps identify "hub" documents

- [ ] **Relation-type filtering**
  - Lens option to show only "method" relations or only "source" relations
  - Helps understand production by type

- [ ] **Completed chain visualization**
  - Show full upstream → focus → downstream in a single linear view
  - "Lineage view" or "Thread view"

- [ ] **State-based sorting within categories**
  - In_progress documents appear first within each category
  - Keeps active work visible

### Out of Scope

- Full force-directed physics (current spatial algorithm is adequate)
- 3D visualization
- Multi-select operations
- AI-powered semantic similarity
- Real-time collaboration features

---

## Design Direction

### Core Principle: Production Flow as First-Class

The constellation view should visualize the **production graph**, not just document relationships. With conducting frontmatter:

\`\`\`
[upstream: method] → [upstream: source] → [FOCUS] → [downstream: enables]
     ↑                      ↑                              ↓
  "How was this made?"  "What informed it?"      "What did it enable?"
\`\`\`

### Spatial Layout Redesign

**Current (4 categories):**
\`\`\`
              [parent]
                 │
[sibling] ──── FOCUS ──── [sibling]
                 │
              [child]
              [distant]
\`\`\`

**Proposed (5 categories with directionality):**
\`\`\`
              [upstream]
                 │
                 ▼
              FOCUS
                 │
                 ▼
             [downstream]

[sibling: same output/perspective]  [distant]
\`\`\`

Key change: **upstream and downstream are explicit categories**, not just "parent" and "child".

### Execution State Visual Treatment

| State | Visual Treatment |
|-------|------------------|
| \`pending\` | Dim (70% opacity), dashed border |
| \`in_progress\` | Normal + subtle pulse animation |
| \`completed\` | Full brightness, solid border |
| \`resolved\` | Faded (50% opacity), archived look, grayscale tint |

### Relation Type Visual Treatment

| Relation | Tether Style | Label |
|----------|--------------|-------|
| \`method\` | Solid blue, arrowhead | "method" |
| \`source\` | Solid green, arrowhead | "source" |
| \`informs\` | Dashed gray, arrowhead | "informs" |
| \`prior\` | Dotted gray, no arrow | "prior" |

### New Lenses

| Lens | Description |
|------|-------------|
| **Work Queue** | Shows pending + in_progress, sorted by urgency |
| **Production Flow** | Shows full upstream → downstream chain |
| **Method Lineage** | Shows only \`relation: method\` connections |
| **Source Tree** | Shows only \`relation: source\` connections |

---

## Implementation Plan

### Phase 1: Core Conducting Integration

1. **Add downstream category**
   - Modify \`categorizeDocs()\` in graph.ts
   - Add downstream slot to spatial layout
   - Update slot indicators

2. **Make execution_state visual**
   - CSS for pending/in_progress/completed/resolved states
   - Node opacity and animation based on state

3. **Add Work Queue lens**
   - New lens that filters by execution_state

### Phase 2: Flow Visualization

4. **Add tether directionality**
   - SVG arrowheads or gradient direction
   - Point from upstream → downstream

5. **Relation type labels**
   - Hover tooltip showing relation type
   - Optional: small label on tether midpoint

6. **Extend formula bar**
   - Show downstream count for frameworks
   - Show citation count for sources

### Phase 3: Polish

7. **Upstream/downstream counters on nodes**
8. **State-based sorting within categories**
9. **Relation-type filtering lenses**

---

## Diagrams

### Current Node Card

\`\`\`
┌───────────────────────────────┐
│ ⚙ 🔬 Etymon Method      ●●●○ │
└───────────────────────────────┘
  │   │                    │
  │   └── intent icon      └── execution dots
  └── type icon
\`\`\`

### Proposed Node Card with State Visual

\`\`\`
┌───────────────────────────────┐
│ ⚙ 🔬 Etymon Method      ●●●○ │ ← completed: solid border, full opacity
└───────────────────────────────┘

┌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┐
│ ◧ 🔬 Survey: Editor View  ●○○○ │ ← pending: dashed border, dim
└╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌┘

┌───────────────────────────────┐
│ ◧ 🔨 Scope: Feature X   ●●○○ │ ← in_progress: pulse animation
└───────────────────────────────┘
    ∿∿∿∿∿ (subtle pulse)
\`\`\`

### Proposed Spatial Layout

\`\`\`
                    ┌─────────────┐
                    │ UPSTREAM    │
                    │ (method)    │
                    └─────────────┘
                          │
                          ▼
  ┌───────────┐    ┌─────────────┐    ┌───────────┐
  │ UPSTREAM  │ ──→│   FOCUS     │←── │ UPSTREAM  │
  │ (source)  │    │             │    │ (prior)   │
  └───────────┘    └─────────────┘    └───────────┘
                          │
                          ▼
                    ┌─────────────┐
                    │ DOWNSTREAM  │
                    │ (enables)   │
                    └─────────────┘

        ┌───────────┐        ┌───────────┐
        │ SIBLING   │        │ DISTANT   │
        │ (output)  │        │           │
        └───────────┘        └───────────┘
\`\`\`

### Flow Visualization Concept

\`\`\`
Lineage View (new lens):

 ┌───────────┐
 │ ⚙ Etymon  │ ─method──┐
 │   Method  │          │
 └───────────┘          │
                        ▼
 ┌───────────┐    ┌─────────────┐
 │ ◈ Source  │───→│   FOCUS     │
 │   X       │    │  ◧ Inst     │
 └───────────┘    └─────────────┘
       source           │
                        │ enables
                        ▼
                  ┌───────────┐
                  │ ◧ Child   │
                  │   Document│
                  └───────────┘
\`\`\`

---

## Notes

- The conducting frontmatter system is fully implemented — the view just needs to leverage it
- Backward compatibility is maintained (upstream array coexists with legacy fields)
- The slot system pagination is working well — keep it but add downstream as 5th category
- Lens system is powerful but underutilized — Work Queue lens would be high-value
- Performance is acceptable for current scale (~50 docs); no virtualization needed yet

---

## Acceptance Criteria Summary

| Requirement | Acceptance Criteria |
|-------------|---------------------|
| Downstream visible | User can see documents enabled by focus |
| Execution state actionable | Work Queue lens shows pending/in_progress |
| Relation types explicit | Tethers show direction; hover shows relation name |
| State visual treatment | pending=dim, in_progress=pulse, resolved=faded |
| Extended formula bar | All document types get contextual info |

---

## Composition

**Upstream (what informed this scope):**
- [Scope Method](fw-scope-method) — method used
- [Survey: Constellation View Spatial Layout](inst-survey-constellation-view-frontmatter) — technical analysis
- [Scope: Constellation View Aesthetic](inst-scope-constellation-aesthetic) — prior requirements (partially resolved)
- [Conducting Frontmatter](fw-conducting-frontmatter) — schema being visualized

**Downstream (what this enables):**
- Implementation of downstream visualization
- Work Queue lens implementation
- Tether directionality improvements
- Extended formula bar

**Related (discovered but not upstream):**
- \`inst-survey-constellation-view\` — original implementation survey
- \`inst-survey-editor-view-frontmatter\` — editor also uses conducting fields`,
  },
  {
    id: 'inst-scope-deck-view',
    title: 'Scope: Deck View',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'ux', 'deck', 'grid', 'lens', 'sortable'],
    content: `# Scope: Deck View

**Date:** 2026-01-10
**Subject:** Grid-based document navigation with lens-based reordering
**Method:** Scope Method (UX analysis)

---

## Context: Why Not Spatial?

The current spatial view (Ctrl+Shift+S) uses UMAP projection with d3-force collision resolution. Despite collision handling, the result is a **semantic blob**:

| Problem | Evidence |
|---------|----------|
| **Collision clusters** | \`image copy 3.png\` shows 50+ nodes piled in overlapping heaps |
| **Truncated titles** | Cards max at 180px, titles read "Survey: Edi...", "Scope: Con..." |
| **No sorting** | Overlays change colors, not arrangement |
| **No discrete navigation** | Pan/zoom, not "flip through" |

The spatial view answers: "What's semantically nearby?" But it fails at: "Show me all frameworks" or "What's most recent?"

**The deck metaphor addresses a different need:** sortable, browsable, readable document navigation where the user feels like they're going through organized stacks, not looking at a star map.

---

## Audit: Current Navigation Options

### List View (default)
- **Layout:** Vertical scroll of full-width cards
- **Sorting:** By \`modifiedAt\` (implicit, newest first)
- **Filtering:** State chips, intent chips, text search
- **Navigation:** Arrow keys + scroll
- **Strengths:** Readable, searchable, filterable
- **Weakness:** 1D — no spatial relationships visible

### Spatial View (Ctrl+Shift+S)
- **Layout:** UMAP 2D projection with pan/zoom
- **Sorting:** None (position is semantic similarity)
- **Filtering:** Overlay toggles (type, state, intent, recency, lineage)
- **Navigation:** Pan/zoom, click to select
- **Strengths:** Shows semantic clustering
- **Weakness:** Collisions, unreadable, unsortable

### Missing: Deck View
- **Layout:** Discrete grid slots (no overlaps)
- **Sorting:** By active lens (type, recency, intent, status, lineage depth)
- **Filtering:** Lens is both filter and sort
- **Navigation:** Arrow keys through grid, or "shuffle" animation on lens change
- **Metaphor:** Physical deck of cards you can reorder by different criteria

---

## Affordances

### What a Deck Should Promise

| Visual Element | Implied Promise |
|----------------|-----------------|
| Grid of discrete slots | Every document has one place, no overlaps |
| Lens selector | "Reshuffle by this criterion" |
| Animated reorder | Documents move to new positions, not replaced |
| Card faces with full titles | Every document is readable |
| Keyboard navigation | Arrow keys move through the deck |
| Current lens indicator | "You're viewing by [type/recency/etc.]" |

### Mental Models Invoked

- **Card catalog:** Flip through organized entries
- **Trello/Kanban:** Columns of categorized cards
- **Photo grid:** Thumbnails you can sort by date/name/size
- **iTunes album view:** Grid that re-sorts when you change criteria

### Mental Models Avoided

- **Star map:** No "nearest neighbors" — that's what spatial does
- **Mind map:** No free-form positioning
- **File tree:** No hierarchy by folder

---

## Expectations

### What Users Would Expect to Do

1. **"Show me all frameworks"** → Select "Type" lens → frameworks group together or come first
2. **"What's most recent?"** → Select "Recency" lens → newest cards at top-left
3. **"What's in progress?"** → Select "State" lens → in_progress cards grouped/first
4. **"What's research vs production?"** → Select "Intent" lens → research/build/capture/produce groups
5. **"Go through one by one"** → Arrow keys move focus through the deck order
6. **"Open this one"** → Enter on focused card → opens editor

### Lens-Based Reordering

| Lens | Sort/Group Logic | Visual Treatment |
|------|------------------|------------------|
| **Type** | Group by type (framework → instance → source → note → index) | Section headers or color bands |
| **Recency** | Sort by \`modifiedAt\` descending | Gradient fade (newest bright, oldest dim) |
| **State** | Group by execution_state (in_progress → pending → completed → resolved) | State colors as backgrounds |
| **Intent** | Group by intent (research → build → produce → capture → organize) | Intent icons prominent |
| **Lineage** | Sort by upstream chain length (roots first, derivatives later) | Depth indicators |
| **Semantic** | UMAP-derived row assignment (similar docs on same row) | Subtle clustering hint |

### Interaction Model

| Action | Result |
|--------|--------|
| Select lens | Grid reshuffles with animation |
| Arrow keys | Move focus through deck in lens order |
| Enter | Open focused document |
| Escape | Return to list view |
| Number keys 1-6 | Quick lens switch |
| Type to search | Filter visible cards (grays out non-matches) |

---

## Gaps: What Deck View Needs That Doesn't Exist

| Gap | Type | Description |
|-----|------|-------------|
| **No grid layout** | Blocking | Current views are list (1D) or canvas (2D continuous) |
| **No lens-based sorting** | Blocking | List sorts by date only; spatial doesn't sort |
| **No shuffle animation** | Friction | Need FLIP animation when reordering |
| **No discrete focus** | Friction | Spatial has focus but navigation is pan-based |
| **No grouping headers** | Polish | Type/intent lenses need visual section breaks |
| **No semantic lens** | Polish | UMAP as row-assignment (keeping semantic without collision) |

### Technical Gaps

| Need | Current State | Required |
|------|---------------|----------|
| Grid component | None | CSS grid with dynamic cell count |
| Lens state | \`activeOverlays\` in spatial | \`activeLens\` single selection |
| Sort functions | None | Sort by type, recency, state, intent, lineage |
| FLIP animation | None | \`d3-transition\` or Web Animations API |
| Keyboard grid nav | List has 1D nav | 2D arrow key navigation |

---

## Requirements

### Must Have (Blocking)

- [ ] **CSS Grid layout with discrete slots**
  - *Acceptance: 112 documents display without overlap, readable titles*
  - Grid auto-fills columns based on viewport width
  - Cards have fixed min-width (200px) for readability

- [ ] **Lens selector with 5 options**
  - *Acceptance: User can switch between Type, Recency, State, Intent, Lineage lenses*
  - Single active lens (not toggleable overlays)
  - Number keys 1-5 for quick switch

- [ ] **Sort implementation for each lens**
  - *Acceptance: Changing lens reorders the grid correctly*
  - Type: group by \`doc.type\`
  - Recency: sort by \`doc.modifiedAt\` desc
  - State: group by \`doc.execution_state\`
  - Intent: group by \`doc.intent\`
  - Lineage: sort by \`doc.upstream.length\` asc

- [ ] **Keyboard navigation through grid**
  - *Acceptance: Arrow keys move focus, Enter opens document*
  - Focus ring visible on current card
  - Tab/Shift+Tab also navigates

### Should Have (Friction)

- [ ] **FLIP shuffle animation when lens changes**
  - *Acceptance: Cards animate to new positions over 300ms*
  - Use \`requestAnimationFrame\` + CSS transforms
  - Cards that stay visible slide; cards that enter/exit fade

- [ ] **Section headers for grouped lenses**
  - *Acceptance: Type lens shows "Frameworks", "Instances", etc. headers*
  - Headers stick at top of section while scrolling

- [ ] **Search filter (type-ahead)**
  - *Acceptance: Typing dims non-matching cards, focuses first match*
  - Filter applies within current lens order

- [ ] **Readable cards with full titles**
  - *Acceptance: Titles don't truncate at reasonable card widths*
  - Two-line title wrapping allowed
  - Type icon, state dots, intent icon visible

### Could Have (Polish)

- [ ] **Semantic lens (6th option)**
  - Uses UMAP Y-coordinate to assign rows, X for position within row
  - "Similar documents on same row" without overlap

- [ ] **Card size toggle** (compact/normal/expanded)
  - Compact: icon + truncated title only
  - Normal: icon + title + state
  - Expanded: icon + title + state + preview snippet

- [ ] **Lens persistence**
  - Remember last active lens in localStorage

- [ ] **Multi-select for batch operations**
  - Shift+click to select range
  - Cmd+click to toggle selection

### Out of Scope

- Drag-and-drop reordering (deck is sorted by lens, not user)
- Custom card positions (that's spatial view's domain)
- Comparison mode (separate feature)
- Inline editing
- Virtual scrolling (unless 500+ docs require it)

---

## Design Direction

### Visual Language

Maintain the planetarium aesthetic:
- Dark void background with subtle gradient
- Glassmorphism cards
- OKLCH colors for type/state/intent
- Monospace for metadata, system sans for titles

### Grid Specifications

\`\`\`
┌─────────────────────────────────────────────────────────────────┐
│  [1 Type] [2 Recency] [3 State] [4 Intent] [5 Lineage]  ← lens │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐   │
│  │ ⚙       │ │ ⚙       │ │ ▣       │ │ ▣       │ │ ◧       │   │
│  │ Etymon  │ │ Survey  │ │ Oikono- │ │ Four    │ │ Credo   │   │
│  │ Method  │ │ Method  │ │ mia...  │ │ Knowings│ │ Ethics  │   │
│  │ ●●●● ✓  │ │ ●●○○    │ │ ●●●○    │ │ ●●●●    │ │ ●●○○    │   │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘   │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐   │
│  │ ...     │ │ ...     │ │ ...     │ │ ...     │ │ ...     │   │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘   │
│                                                                 │
│  [112 documents]                              [Type lens active]│
└─────────────────────────────────────────────────────────────────┘
\`\`\`

### Card Anatomy (Normal Size)

\`\`\`
┌────────────────────────┐
│ ⚙  Etymon Method       │  ← type icon + title (2 lines max)
│    ●●●● ⚡ verified     │  ← state dots + intent + status
└────────────────────────┘
\`\`\`

Width: 200-240px
Height: ~70px (2-line title)
Gap: 12px

### Lens Bar

\`\`\`
┌───────────────────────────────────────────────────────────┐
│ [1 Type●] [2 Recency] [3 State] [4 Intent] [5 Lineage]   │
└───────────────────────────────────────────────────────────┘
\`\`\`

- Active lens has filled indicator
- Number key hints visible
- Horizontal, top of view

---

## Implementation Path

### Phase 1: Grid Foundation
1. Create \`views/deck.ts\` following ListView pattern
2. Create \`ui/deck.css\` with CSS grid layout
3. Add to Shell view cycle (Cmd+Shift+D)
4. Render all docs in grid with placeholder sort

### Phase 2: Lens System
1. Define \`DeckLens\` type and sort functions
2. Implement lens selector component
3. Wire number keys to lens switching
4. Implement all 5 sort/group functions

### Phase 3: Animation
1. Implement FLIP animation on lens change
2. Add section headers for grouped lenses
3. Smooth focus transitions

### Phase 4: Polish
1. Type-ahead search filtering
2. Card size variants
3. Lens persistence
4. Semantic lens (UMAP-row)

---

## Composition

**Upstream (what informed this scope):**
- [Scope Method](fw-scope-method) — method used
- [Scope: Spatial Canvas List View](inst-scope-spatial-canvas-list) — original spatial concept
- [Survey: Spatial Canvas Implementation](inst-survey-spatial-canvas-implementation) — technical context
- [Scope: List View Aesthetic](inst-scope-list-view-aesthetic) — visual design context

**Downstream (what this scope enables):**
- Implementation of deck view
- Potential deprecation or demotion of spatial view
- New keyboard shortcut (Cmd+Shift+D)

**Related:**
- \`inst-survey-constellation-view\` — another spatial approach
- \`inst-scope-editor-view\` — card rendering patterns

---

## Notes

### Why Not Fix Spatial?

The spatial view's collision problem could be "fixed" by increasing node spacing, but this misses the point:

1. **Spatial answers the wrong question.** It shows semantic similarity (UMAP), but users want sortable browsing.
2. **Overlays aren't lenses.** Changing overlay colors doesn't help you "go through" documents.
3. **Pan/zoom isn't navigation.** A deck you flip through is different from a map you explore.

The deck view is a **different tool for a different job**, not a fix for spatial.

### Keyboard Shortcut Proposal

| Shortcut | View |
|----------|------|
| Cmd+Shift+L | List (existing, or keep as default) |
| Cmd+Shift+D | **Deck** (new) |
| Cmd+Shift+S | Spatial (existing, but demoted) |
| Cmd+Shift+V | Cycle through views |

### Performance Consideration

With 112 documents at 70px height + 12px gap = ~9240px total if single column. CSS Grid with \`auto-fill\` should handle this fine. Virtual scrolling not needed unless doc count exceeds ~500.

### Relationship to Spatial

Keep spatial view for:
- "What's semantically near X?" queries
- Embedding debugging
- Users who prefer the map metaphor

Deck becomes the new "browse all documents" view, replacing the role spatial was supposed to fill but couldn't due to collisions.`,
  },
  {
    id: 'inst-scope-domain-startup-performance',
    title: 'Scope: Domain Startup, Discovery, and Performance',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method', 'fw-loomlib-domains'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'domains', 'performance', 'architecture', 'startup', 'indexeddb'],
    content: `# Scope: Domain Startup, Discovery, and Performance

**Date:** 2025-01-11
**Intent:** Derive requirements for how loomlib identifies domain membership at startup, and address performance issues with the current 144+ document corpus.

---

## The Problem

The previous scope (\`inst-scope-frontmatter-ui-mapping\`) established that domains are **configurations** that control UI display. But two critical questions remain:

1. **How does loomlib know which documents belong to which domain at startup?**
2. **How do we handle the existing 144+ "Etymon" documents without breaking or slowing down?**

The screenshots show 144 documents. Users report speed issues. The current architecture loads everything into memory on startup.

---

## I. Current Architecture Analysis

### Startup Flow

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                          CURRENT STARTUP                                    │
│                                                                             │
│   init() → syncSeedData() → getAllDocs() → ensureEmbeddings() → shell.init()│
│              │                   │                │                         │
│              ▼                   ▼                ▼                         │
│         Fetch ALL docs     Load ALL docs    Embed ALL docs                 │
│         from /api/docs     to memory        (if missing)                   │
│         (144+ network)     (144+ records)   (144+ API calls)               │
│                                                                             │
│   Time: ~2-5 seconds on first load; ~1-2 seconds on refresh                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### Data Storage Structure

\`\`\`
IndexedDB: 'loomlib' (version 3)
├── documents          ← All documents (144+)
│   ├── index: modifiedAt
│   ├── index: type
│   ├── index: status
│   └── index: output   ← USEFUL: could serve as domain marker
├── embeddings         ← Vector embeddings per doc
└── umap_coords        ← 2D projections per doc
\`\`\`

### Performance Bottlenecks

| Function | What It Does | Cost |
|----------|--------------|------|
| \`getAllDocs()\` | Cursor iteration through all docs | O(n) every call |
| \`syncSeedData()\` | Fetches + compares all docs | O(n) network + O(n) memory |
| \`ensureEmbeddings()\` | Checks all docs for missing embeddings | O(n) iteration |
| \`getDocsByFrameworkId()\` | Loads ALL docs, filters in JS | O(n) for each call |
| \`getUniqueTags()\` | Loads ALL docs, extracts tags | O(n) iteration |
| \`getUniquePerspectives()\` | Loads ALL docs, extracts perspectives | O(n) iteration |
| \`filterDocuments()\` | Loads ALL docs, filters in JS | O(n) for every filter |

**Key insight:** Every view, filter, and query loads the entire corpus. With 144 docs now and growing, this doesn't scale.

### Document Interface (Current)

\`\`\`typescript
interface Document {
  id: string;
  title: string;
  content: string;
  type: DocumentType;
  framework_kind: FrameworkKind | null;
  perspective: string | null;
  framework_ids: string[];
  source_id: string | null;
  output: string | null;          // ← Currently 'etymon' or 'loomcommander'
  status: DocumentStatus;
  tags: string[];
  // ... timestamps, conducting fields
}
\`\`\`

**Opportunity:** The \`output\` field already exists and is indexed. It currently holds 'etymon' or 'loomcommander'. This could serve as domain identifier.

---

## II. Domain Identification Options

### Option A: Repurpose \`output\` Field

**Approach:** Rename semantically from "output channel" to "domain". Use existing index.

\`\`\`typescript
// Current: output = 'etymon' | 'loomcommander' | null
// New: domain = 'etymon' | 'studio' | 'institutional' | null

// Backward compatible: treat output as domain for existing docs
const domain = doc.output ?? 'etymon';  // null → etymon (legacy)
\`\`\`

**Pros:**
- No schema change
- Index already exists (\`output\` index)
- Existing docs already have values
- Backward compatible

**Cons:**
- Semantic confusion (output ≠ domain conceptually)
- Existing 'loomcommander' output docs would need remapping
- Mixes two concepts

### Option B: Add Explicit \`domain\` Field

**Approach:** Add new field, migrate existing docs.

\`\`\`typescript
interface Document {
  // ... existing fields
  domain: string;  // 'etymon' | 'studio' | 'institutional' | etc.
}
\`\`\`

**Migration:**
\`\`\`typescript
// On startup, backfill missing domain
if (!doc.domain) {
  doc.domain = 'etymon';  // All existing docs are Etymon domain
}
\`\`\`

**Pros:**
- Clear semantics
- Separate from output channel
- Clean going forward

**Cons:**
- Requires IndexedDB schema upgrade (version 4)
- Requires migration logic
- Slight startup cost for migration check

### Option C: File Path Convention

**Approach:** Store domains in separate directories.

\`\`\`
loomlib/docs/
├── etymon/
│   ├── framework/
│   ├── instance/
│   └── ...
├── studio/
│   ├── framework/
│   └── ...
└── institutional/
    └── ...
\`\`\`

**Pros:**
- Physical separation
- No DB changes
- Clear organization

**Cons:**
- Breaking change for existing docs
- Requires moving 144+ files
- Cross-domain references harder
- API routing more complex

### Option D: Separate IndexedDB Per Domain

**Approach:** Each domain gets its own database.

\`\`\`
IndexedDB: 'loomlib-etymon'     ← 144 docs
IndexedDB: 'loomlib-studio'    ← new docs
IndexedDB: 'loomlib-inst'      ← new docs
\`\`\`

**Pros:**
- Complete isolation
- No query across domains
- Each domain lightweight

**Cons:**
- Can't query across domains
- Cross-domain references broken
- Complex multi-DB management
- Doesn't solve within-domain performance

### Recommendation: Option B (Add \`domain\` Field)

**Rationale:**
1. Clear semantics (domain means domain)
2. Keeps \`output\` for actual output channel
3. Migration is one-time, low cost
4. Can add index for fast domain queries
5. Existing docs get \`domain: 'etymon'\` automatically

---

## III. Performance Solutions

### Problem: Everything Loads Everything

The core issue: functions like \`filterDocuments()\`, \`getUniqueTags()\`, etc. call \`getAllDocs()\` and filter in JavaScript. This is O(n) for every operation.

### Solution 1: Domain-Scoped Queries

\`\`\`typescript
// Current
export async function getAllDocs(): Promise<Document[]> {
  // Returns ALL documents regardless of domain
}

// New
export async function getDocsByDomain(domain: string): Promise<Document[]> {
  const db = await openDB();
  return new Promise((resolve, reject) => {
    const tx = db.transaction(STORE_NAME, 'readonly');
    const store = tx.objectStore(STORE_NAME);
    const index = store.index('domain');  // New index
    const request = index.getAll(domain);
    // ...
  });
}

// App startup loads only current domain
const DOMAIN = import.meta.env.VITE_LOOMLIB_DOMAIN ?? 'etymon';
const docs = await getDocsByDomain(DOMAIN);
\`\`\`

**Impact:** If Etymon has 144 docs and Studio has 20, Studio only loads 20.

### Solution 2: Lazy Loading with Pagination

\`\`\`typescript
// Current: Load all, display all
const docs = await getAllDocs();
renderCards(docs);  // 144 cards

// New: Load page, display page
interface PaginatedResult {
  docs: Document[];
  cursor: IDBValidKey | null;
  hasMore: boolean;
}

async function getDocsPage(
  domain: string,
  pageSize: number = 50,
  cursor?: IDBValidKey
): Promise<PaginatedResult> {
  // Uses IndexedDB cursor with limit
}

// Deck view loads 50 at a time
const page1 = await getDocsPage('etymon', 50);
renderCards(page1.docs);
// On scroll, load more
const page2 = await getDocsPage('etymon', 50, page1.cursor);
\`\`\`

**Impact:** Initial render is O(pageSize), not O(n).

### Solution 3: Cached Aggregates

\`\`\`typescript
// Current: Compute every time
export async function getUniqueTags(): Promise<string[]> {
  const docs = await getAllDocs();  // Load 144 docs
  const tags = new Set<string>();
  for (const doc of docs) {
    for (const tag of doc.tags) tags.add(tag);
  }
  return Array.from(tags).sort();
}

// New: Cache and invalidate
let tagCache: { domain: string; tags: string[] } | null = null;

export async function getUniqueTags(domain: string): Promise<string[]> {
  if (tagCache?.domain === domain) {
    return tagCache.tags;
  }

  const docs = await getDocsByDomain(domain);
  const tags = new Set<string>();
  for (const doc of docs) {
    for (const tag of doc.tags) tags.add(tag);
  }

  tagCache = { domain, tags: Array.from(tags).sort() };
  return tagCache.tags;
}

// Invalidate on document save
export async function saveDocument(id: string, content: string): Promise<void> {
  // ... save logic
  tagCache = null;  // Invalidate
}
\`\`\`

**Impact:** Tag/perspective/output lists computed once per session, not per render.

### Solution 4: Background Embedding with Progress

\`\`\`typescript
// Current: Block startup until embeddings checked
await ensureEmbeddings();  // Blocks for all missing

// New: Non-blocking with progress
function startEmbeddingWorker(domain: string): void {
  // Runs in background, emits progress events
  const worker = new EmbeddingWorker(domain);
  worker.on('progress', (done, total) => {
    updateEmbeddingStatus(done, total);
  });
  worker.start();  // Non-blocking
}

// Startup doesn't wait
init().then(() => {
  startEmbeddingWorker(currentDomain);  // Fire and forget
});
\`\`\`

**Impact:** App is interactive immediately, embeddings populate in background.

### Solution 5: Incremental Sync

\`\`\`typescript
// Current: Sync all docs on startup
await syncSeedData();  // Fetches all 144 from API

// New: Sync only changed since last sync
interface SyncState {
  domain: string;
  lastSyncAt: number;
  docHashes: Map<string, string>;  // id → content hash
}

async function incrementalSync(domain: string): Promise<void> {
  const state = await getSyncState(domain);
  const apiDocs = await fetchDocsFromApi(domain);

  for (const apiDoc of apiDocs) {
    const hash = hashContent(apiDoc.content);
    if (state.docHashes.get(apiDoc.id) !== hash) {
      await putDoc(apiDoc);
      state.docHashes.set(apiDoc.id, hash);
    }
  }

  await saveSyncState(state);
}
\`\`\`

**Impact:** After first load, sync only transfers changed docs.

---

## IV. Migration Strategy for Existing Documents

### The Challenge

- 144 documents exist with \`output: 'etymon' | 'loomcommander' | null\`
- No \`domain\` field exists
- Can't break existing functionality
- Users shouldn't notice the migration

### Migration Plan

#### Phase 1: Schema Upgrade (One-Time)

\`\`\`typescript
// db.ts upgrade handler
request.onupgradeneeded = (event) => {
  const db = (event.target as IDBOpenDBRequest).result;

  // Version 4: Add domain index
  if (event.oldVersion < 4) {
    const store = tx.objectStore(STORE_NAME);
    store.createIndex('domain', 'domain', { unique: false });
  }
};
\`\`\`

#### Phase 2: Backfill on Read

\`\`\`typescript
// When loading documents, ensure domain field exists
async function normalizeDoc(doc: Document): Document {
  if (!doc.domain) {
    // Legacy doc - assign domain based on output or default
    doc.domain = doc.output ?? 'etymon';
    // Optionally persist the fix
    await putDoc(doc);
  }
  return doc;
}
\`\`\`

#### Phase 3: Seed Data Update

\`\`\`yaml
# Existing docs get explicit domain in frontmatter
# (can be done by claude code command)
id: fw-etymon-method
title: "Etymon Method"
domain: etymon        # ← Add explicitly
output: etymon        # ← Keep for output channel
\`\`\`

#### Phase 4: Views Read Domain

\`\`\`typescript
// Shell startup
const DOMAIN = import.meta.env.VITE_LOOMLIB_DOMAIN ?? 'etymon';
const docs = await getDocsByDomain(DOMAIN);
// Only Etymon docs shown when running Etymon domain
\`\`\`

### Rollout Safety

1. **No breaking changes** — Old docs without \`domain\` field still work
2. **Automatic backfill** — Missing domain → 'etymon'
3. **Gradual migration** — Can update frontmatter over time
4. **Env-controlled** — \`VITE_LOOMLIB_DOMAIN\` switches domains

---

## V. Target Architecture

### Startup Flow (Improved)

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│                          IMPROVED STARTUP                                   │
│                                                                             │
│   init() → loadDomainConfig(domain)                                        │
│              │                                                              │
│              ▼                                                              │
│         Read domain config (what fields, values, views)                    │
│              │                                                              │
│              ▼                                                              │
│         incrementalSync(domain) ← Only sync changed docs for domain        │
│              │                                                              │
│              ▼                                                              │
│         getDocsPage(domain, 50) ← Load first page only                     │
│              │                                                              │
│              ▼                                                              │
│         shell.init(config) ← Configure views from domain config            │
│              │                                                              │
│              ▼                                                              │
│         startEmbeddingWorker(domain) ← Background, non-blocking            │
│                                                                             │
│   Time: ~200-500ms (regardless of total corpus size)                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### Query Pattern (Improved)

\`\`\`typescript
// Every query is domain-scoped
const docs = await getDocsByDomain(currentDomain);
const tags = await getUniqueTags(currentDomain);
const frameworks = await getFrameworks(currentDomain);

// Cross-domain queries are explicit and rare
const allDocs = await getAllDocsAllDomains();  // Named to warn
\`\`\`

### IndexedDB Schema (Version 4)

\`\`\`typescript
// documents store
{
  id: string,           // Primary key
  domain: string,       // NEW - indexed
  // ... all existing fields
}

// Indexes
- modifiedAt (existing)
- type (existing)
- status (existing)
- output (existing)
- domain (NEW)
\`\`\`

---

## VI. Implementation Requirements

### 1. Add Domain Field to Types

\`\`\`typescript
// types.ts
interface Document {
  // ... existing fields
  domain: string;  // 'etymon' | 'studio' | 'institutional' | etc.
}

function createEmptyDocument(type: DocumentType = 'note'): Document {
  const DOMAIN = import.meta.env.VITE_LOOMLIB_DOMAIN ?? 'etymon';
  return {
    // ... existing defaults
    domain: DOMAIN,
  };
}
\`\`\`

### 2. Add Domain Index to DB

\`\`\`typescript
// db.ts - upgrade to version 4
const DB_VERSION = 4;

request.onupgradeneeded = (event) => {
  // ... existing upgrade logic

  if (event.oldVersion < 4) {
    const store = tx.objectStore(STORE_NAME);
    if (!store.indexNames.contains('domain')) {
      store.createIndex('domain', 'domain', { unique: false });
    }
  }
};
\`\`\`

### 3. Add Domain-Scoped Queries

\`\`\`typescript
// db.ts
export async function getDocsByDomain(domain: string): Promise<Document[]> {
  const db = await openDB();
  return new Promise((resolve, reject) => {
    const tx = db.transaction(STORE_NAME, 'readonly');
    const store = tx.objectStore(STORE_NAME);
    const index = store.index('domain');
    const request = index.getAll(domain);
    request.onerror = () => reject(request.error);
    request.onsuccess = () => resolve(request.result);
  });
}
\`\`\`

### 4. Update Sync to Be Domain-Aware

\`\`\`typescript
// seed.ts
export async function syncSeedData(domain: string): Promise<SyncResult> {
  // Only fetch/sync docs matching domain
  const apiDocs = await fetchDocsFromApi();
  const domainDocs = apiDocs.filter(d => (d.domain ?? d.output ?? 'etymon') === domain);
  // ... sync only domain docs
}
\`\`\`

### 5. Environment Variable for Domain

\`\`\`bash
# .env.local
VITE_LOOMLIB_DOMAIN=etymon

# Or for Studio
VITE_LOOMLIB_DOMAIN=studio
\`\`\`

### 6. Backfill Migration

\`\`\`typescript
// Run once on version upgrade
async function migrateDocsToHaveDomain(): Promise<void> {
  const docs = await getAllDocs();
  for (const doc of docs) {
    if (!doc.domain) {
      doc.domain = doc.output ?? 'etymon';
      await putDoc(doc);
    }
  }
}
\`\`\`

---

## VII. Composition

**What informed this scope:**
- \`inst-scope-frontmatter-ui-mapping\` — established domains as configuration
- \`fw-loomlib-domains\` — domain variant/invariant framework
- Code analysis of \`db.ts\`, \`documents.ts\`, \`seed.ts\`, \`main.ts\`, \`types.ts\`

**What this scope enables:**
- Clear path to multi-domain loomlib
- Performance improvements that scale
- Migration strategy for existing 144 docs
- Foundation for lazy loading and pagination

**The key insight:** The current architecture loads everything because there was only one domain (Etymon). Adding explicit domain membership + domain-scoped queries solves both the "which docs belong here" question AND the performance problem. Every query becomes O(domain_size) instead of O(total_corpus).

---

## Summary

| Question | Answer |
|----------|--------|
| **How to identify domain?** | Add explicit \`domain\` field to Document interface |
| **How to store?** | IndexedDB index on \`domain\` field |
| **How to migrate existing?** | Backfill: \`domain = output ?? 'etymon'\` |
| **How to query?** | \`getDocsByDomain(domain)\` instead of \`getAllDocs()\` |
| **How to switch domains?** | \`VITE_LOOMLIB_DOMAIN\` environment variable |
| **How to fix performance?** | Domain-scoped queries + pagination + cached aggregates |

The path forward:
1. Add \`domain\` field to types
2. Add \`domain\` index to IndexedDB (version 4)
3. Backfill existing docs with \`domain: 'etymon'\`
4. Refactor queries to be domain-scoped
5. Add pagination for large domains
6. Cache aggregates (tags, perspectives)
7. Background embedding

This maintains backward compatibility while enabling multi-domain operation and fixing the performance issues that come with corpus growth.`,
  },
  {
    id: 'inst-scope-flow-animations',
    title: 'Scope: Flow View Animations',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'flow-view', 'animations', 'microinteractions', 'ux'],
    content: `# Scope: Flow View Animations

**Date:** 2026-01-08
**Subject:** Animation requirements for the flow view
**Method:** Scope Method (UX analysis)
**Prerequisite:** scope-constellation-redesign.md

---

## Audit

### Current State

The flow view has **no animations**:
- Nodes appear instantly on render
- Focus changes cause full re-render with no transition
- No feedback on hover beyond CSS \`:hover\` states
- No indication of loading or data changes

### What Exists (CSS Variables)

From \`styles.css\`:
\`\`\`css
--transition-fast: 150ms ease-out;
--transition-normal: 200ms ease-out;
--transition-slow: 300ms ease-out;
\`\`\`

These are defined but underutilized in the flow view.

---

## Affordances

### What Animations Should Communicate

| Animation | Message |
|-----------|---------|
| Entrance stagger | "These items are distinct but related" |
| Focus transition | "You're moving through a connected space" |
| Hover feedback | "This is interactive" |
| Loading state | "Data is being fetched" |
| State change | "Something just happened" |

### Mental Models

- **Spatial continuity** — When focus changes, nodes should animate to new positions, not teleport
- **Cause and effect** — User action should have visible, immediate response
- **Hierarchy through timing** — More important elements animate first or more prominently

---

## Expectations

### What Users Expect

1. **Immediate feedback** — Click/hover should respond within 100ms
2. **Smooth transitions** — No jarring jumps or flashes
3. **Staggered entrances** — List items should cascade in, not pop simultaneously
4. **Consistent timing** — Similar actions should have similar animation durations
5. **Interruptible** — New actions should override in-progress animations gracefully

### Natural Flows

| Action | Expected Animation |
|--------|-------------------|
| View loads | Nodes fade/slide in with stagger |
| Click node to focus | Old nodes fade out, new layout fades in |
| Hover node | Subtle lift or glow |
| Click focused node to open | Expand or zoom transition to editor |
| Data updates | Changed nodes pulse or highlight |

---

## Gaps

| Gap | Type | Description |
|-----|------|-------------|
| **No entrance animation** | Friction | Nodes appear instantly, feels static |
| **No focus transition** | Friction | Re-render on focus change is jarring |
| **No hover microinteraction** | Polish | Hover state exists but no motion |
| **No loading indication** | Polish | No feedback during data fetch |
| **No stagger** | Polish | All nodes appear simultaneously |

---

## Requirements

### Must Have

#### 1. Entrance Animation (Staggered Fade + Slide)
When the flow view renders, nodes should animate in with stagger:

\`\`\`
Zone appears → Nodes fade in one by one (50ms delay each)
\`\`\`

**Spec:**
- Duration: 200ms per node
- Easing: \`ease-out\`
- Stagger delay: 50ms between nodes
- Transform: \`translateY(8px) → translateY(0)\`
- Opacity: \`0 → 1\`

**Acceptance:** When flow view loads, nodes cascade in from top to bottom with visible stagger effect.

---

#### 2. Focus Transition Animation
When user clicks a node to change focus:

\`\`\`
Current layout → Cross-fade → New layout
\`\`\`

**Spec:**
- Duration: 250ms
- Old nodes: fade out + scale down slightly (0.98)
- New nodes: fade in + scale up from 0.98
- Focus node: stays prominent, transitions position smoothly
- Use \`will-change: transform, opacity\` for GPU acceleration

**Acceptance:** Clicking a node produces smooth transition, not instant re-render.

---

### Should Have

#### 3. Hover Microinteraction
Nodes should respond to hover with subtle motion:

**Spec:**
- Duration: 150ms
- Transform: \`translateY(-2px)\` (slight lift)
- Box-shadow: subtle increase
- Easing: \`ease-out\`

**Acceptance:** Hovering a node produces immediate, subtle lift effect.

---

#### 4. Arrow/Connector Animation
The flow arrows should draw in on render:

**Spec:**
- Duration: 300ms
- Use \`stroke-dasharray\` + \`stroke-dashoffset\` animation
- Delay until after nodes are visible

**Acceptance:** Arrows draw from upstream to downstream after nodes appear.

---

#### 5. Execution State Animations

| State | Animation |
|-------|-----------|
| \`pending\` | Subtle opacity pulse (0.5 → 0.7 → 0.5), 3s cycle |
| \`in_progress\` | Border glow pulse, 2s cycle |
| \`completed\` | None (static) |
| \`resolved\` | None (static, faded) |

**Acceptance:** Pending and in-progress nodes have subtle ambient animation indicating their state.

---

### Could Have

#### 6. Downstream Reveal Animation
When focusing a node that has downstream documents not previously visible:

**Spec:**
- New downstream nodes slide in from below
- Duration: 200ms
- Stagger: 30ms

**Acceptance:** Navigating to a node with downstream produces "reveal" effect.

---

#### 7. Sidebar Collapse/Expand
Siblings sidebar should animate when expanding or collapsing:

**Spec:**
- Duration: 200ms
- Height transition with overflow hidden
- Opacity fade for content

---

#### 8. View Transition (to/from Editor)
When opening a document from flow view:

**Spec:**
- Focus node scales up slightly and fades
- Other nodes fade out faster
- Creates sense of "zooming into" the document

---

### Out of Scope

- Physics-based animations (spring, bounce)
- 3D transforms
- Canvas/WebGL animations
- Reduced-motion media query (future iteration)
- Gesture-based animations (drag, swipe)

---

## Technical Approach

### CSS-First Strategy

Prefer CSS transitions and animations over JavaScript:

\`\`\`css
/* Entrance animation with stagger */
.flow-view__node {
  opacity: 0;
  transform: translateY(8px);
  animation: flow-node-enter 200ms ease-out forwards;
  animation-delay: calc(var(--stagger-index) * 50ms);
}

@keyframes flow-node-enter {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
\`\`\`

### Performance Guidelines

From [Josh Comeau](https://www.joshwcomeau.com/animation/css-transitions/):
- Only animate \`transform\` and \`opacity\` for 60fps
- Avoid animating \`margin\`, \`padding\`, \`width\`, \`height\`
- Use \`will-change\` sparingly and remove after animation

### Stagger Implementation

From [CSS-Tricks](https://css-tricks.com/different-approaches-for-creating-a-staggered-animation/):

\`\`\`css
/* Set index via inline style or data attribute */
.flow-view__node {
  --stagger-index: 0;
}

/* Or use nth-child */
.flow-view__zone-nodes .flow-view__node:nth-child(1) { --stagger-index: 0; }
.flow-view__zone-nodes .flow-view__node:nth-child(2) { --stagger-index: 1; }
.flow-view__zone-nodes .flow-view__node:nth-child(3) { --stagger-index: 2; }
.flow-view__zone-nodes .flow-view__node:nth-child(4) { --stagger-index: 3; }
\`\`\`

### Focus Transition Implementation

\`\`\`typescript
// In flow.ts
private transitionFocus(newId: string): void {
  // Add exit class to current nodes
  this.container.querySelectorAll('.flow-view__node').forEach(node => {
    node.classList.add('flow-view__node--exiting');
  });

  // Wait for exit animation
  setTimeout(() => {
    this.focusedId = newId;
    this.render(); // Re-render with new focus
  }, 150);
}
\`\`\`

\`\`\`css
.flow-view__node--exiting {
  opacity: 0;
  transform: scale(0.98);
  transition: opacity 150ms ease-out, transform 150ms ease-out;
}
\`\`\`

---

## Timing Reference

| Animation | Duration | Delay | Easing |
|-----------|----------|-------|--------|
| Node entrance | 200ms | stagger 50ms | ease-out |
| Focus transition | 250ms | 0 | ease-out |
| Hover lift | 150ms | 0 | ease-out |
| Arrow draw | 300ms | 200ms | ease-in-out |
| State pulse | 2-3s | 0 | ease-in-out |

---

## Implementation Order

1. **Entrance stagger** — Highest impact, establishes animation vocabulary
2. **Hover microinteraction** — Quick win, immediate polish
3. **Focus transition** — Core navigation improvement
4. **State animations** — Communicates conducting frontmatter visually
5. **Arrow animation** — Polish
6. **View transitions** — Integration with editor

---

## Acceptance Criteria Summary

| Requirement | Acceptance |
|-------------|------------|
| Entrance stagger | Nodes cascade in visibly, not instant |
| Focus transition | Click produces smooth cross-fade, not jump |
| Hover lift | Immediate subtle motion on hover |
| Arrow draw | Connectors animate after nodes |
| State pulse | Pending/in-progress have ambient motion |

---

## References

- [Josh Comeau - CSS Transitions](https://www.joshwcomeau.com/animation/css-transitions/)
- [CSS-Tricks - Staggered Animation](https://css-tricks.com/different-approaches-for-creating-a-staggered-animation/)
- [Pixel Free Studio - Animating Data Visualizations](https://blog.pixelfreestudio.com/best-practices-for-animating-data-visualizations/)
- [Gapsy Studio - UI Animation Best Practices](https://gapsystudio.com/blog/ui-animation-best-practices/)
- [Cambridge Intelligence - Graph UX](https://cambridge-intelligence.com/graph-visualization-ux-how-to-avoid-wrecking-your-graph-visualization/)

---

## Composition

**Upstream:**
- [Scope Method](fw-scope-method) — method used
- [Scope: Constellation Redesign](inst-scope-constellation-redesign) — parent scope

**Downstream:**
- Animation implementation in flow.ts and flow.css

**Related:**
- Constellation view already has some animation (tether draw-in)
- Editor view has no entrance animation`,
  },
  {
    id: 'inst-scope-frontmatter-ui-mapping',
    title: 'Scope: Frontmatter-to-UI Mapping and Domain Configuration',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method', 'fw-loomlib-domains', 'fw-domain-design-audit', 'fw-domain-command-architecture'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'ui', 'frontmatter', 'domains', 'configuration', 'architecture'],
    content: `# Scope: Frontmatter-to-UI Mapping and Domain Configuration

**Date:** 2025-01-11
**Intent:** Derive how UI elements in Editor, List, and Deck views can be populated entirely from frontmatter fields, enabling domains to configure their display without extending the data model.

---

## The Core Insight

The screenshots reveal something important: **every visual element in loomlib's views already maps to frontmatter fields**. We don't need to extend the data model for different domains — we need a **configuration layer** that tells views which frontmatter fields to display and how to label them.

The current data model has:
- Document types → but domains want different type names
- Status values → but domains want different status progressions
- Intent categories → but domains want different workflow stages
- Upstream/downstream → universal, keeps working

**The shift:** Instead of "projects" as a container, use **domains** as the configuration context. A domain configuration remaps:
- What frontmatter fields display in each view slot
- What labels appear for those fields
- What icons/colors represent different values
- What commands are available (domain-specific frameworks become commands)

---

## I. UI Element Inventory from Screenshots

### Editor View (Image 6: Domain Design Audit)

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  EDITOR VIEW UI ELEMENTS                                                    │
│                                                                             │
│  TOP BAR                                                                    │
│  ├── View switcher icons (≡, ○, ↕, ■)                                      │
│  ├── Title: "Domain Design Audit"                                          │
│  └── Mode buttons: [Editor] [§] [=] [Triage]                               │
│                                                                             │
│  METADATA ROW                                                               │
│  ├── Type badge: "framework / toolkit"  ← type + framework_kind            │
│  ├── Status badge: "draft"              ← status                           │
│  ├── Status dots: ●●●●                  ← status progression indicator     │
│  └── Tags: [architecture] [domains] [audit] ← tags[]                       │
│                                                                             │
│  LEFT PANEL: OUTLINE                                                        │
│  └── Section headers from document content (not frontmatter)               │
│                                                                             │
│  RIGHT PANEL: RELATED                                                       │
│  ├── UPSTREAM section                                                       │
│  │   ├── ⚙ Domain Command Ar... [extends]  ← upstream[].doc + relation    │
│  │   └── ⚙ Loomlib Domains Fra... [method] ← upstream[].doc + relation    │
│  │                                                                          │
│  └── SIMILAR section                                                        │
│      ├── ◧ Scope: Loomlib Studio — Cr...   ← computed similarity           │
│      ├── ◧ Scope: Loomlib Studio Infor...  ← computed similarity           │
│      ├── ⚙ Scope Method                    ← computed similarity           │
│      └── ...                                                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

**Frontmatter fields used:**
| UI Element | Frontmatter Field | Notes |
|------------|------------------|-------|
| Type badge (left) | \`type\` | "framework" |
| Subtype badge (right) | \`framework_kind\` | "toolkit" |
| Status badge | \`status\` | "draft" |
| Status dots | \`status\` | Position in progression |
| Tags | \`tags[]\` | Array displayed as pills |
| Upstream docs | \`upstream[].doc\` | Document ID resolved to title |
| Relation labels | \`upstream[].relation\` | "extends", "method" |
| Title | \`title\` | Top bar |

### List View (Image 7: Document List)

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  LIST VIEW UI ELEMENTS                                                      │
│                                                                             │
│  FILTER BAR                                                                 │
│  ├── Status filters: ○○○○ ●○○○ ●●●● ✓  ← status progression states        │
│  ├── Intent filters: 📖 ✎ ◧ ⚡         ← intent icons                      │
│  └── Tag pills: [taxonomy] [procedural] [instructor] ... ← tags           │
│                                                                             │
│  DOCUMENT ROW                                                               │
│  ├── Type icon: ◧ (instance) or ⚙ (framework) ← type                      │
│  ├── Lineage icon: ↗                           ← has upstream              │
│  ├── Title: "Scope: Outline Panel..."          ← title                     │
│  ├── Upstream preview: "↑ Scope Method"        ← upstream[0].doc          │
│  ├── Type label: [INSTANCE] or [TOOLKIT]       ← type or framework_kind   │
│  ├── Status dots: ●●●●                         ← status                   │
│  ├── Upstream count: ↑2                        ← upstream.length          │
│  └── Recency: "15m ago"                        ← computed from file       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

**Frontmatter fields used:**
| UI Element | Frontmatter Field | Notes |
|------------|------------------|-------|
| Type icon | \`type\` | ⚙ for framework, ◧ for instance |
| Lineage indicator | \`upstream.length > 0\` | ↗ if has upstream |
| Title | \`title\` | Main text |
| Upstream preview | \`upstream[0].doc\` | First upstream resolved |
| Type/Kind badge | \`type\` or \`framework_kind\` | INSTANCE, TOOLKIT |
| Status dots | \`status\` | Position in progression |
| Upstream count | \`upstream.length\` | ↑2 |
| Recency | (computed) | File modification time |

### Deck View (Image 8: Card Grid)

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  DECK VIEW UI ELEMENTS                                                      │
│                                                                             │
│  FILTER/SORT BAR                                                            │
│  ├── [Type 1]      ← type filter                                           │
│  ├── [Recency 2]   ← sort by modification                                  │
│  ├── [State 3]     ← status filter                                         │
│  ├── [Intent 4]    ← intent filter                                         │
│  └── [Lineage 5]   ← upstream/downstream filter (active)                   │
│                                                                             │
│  TAG BAR                                                                    │
│  └── Tag pills (filterable): [political-the...] [aesthetic] [legitimacy]   │
│                                                                             │
│  CARD                                                                       │
│  ├── Title: "Apologetic: Four Knowings"    ← title                         │
│  ├── Status dots: ●●●                      ← status                        │
│  ├── Lineage icon: ↗                       ← has upstream                  │
│  ├── Type badge: [INSTANCE]                ← type                          │
│  └── (selected state: cyan border)         ← UI state only                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

**Frontmatter fields used:**
| UI Element | Frontmatter Field | Notes |
|------------|------------------|-------|
| Title | \`title\` | Card header |
| Status dots | \`status\` | 2-4 dots based on position |
| Lineage icon | \`upstream.length > 0\` | ↗ if has upstream |
| Type badge | \`type\` | INSTANCE, FRAMEWORK, INDEX |
| Filter: Type | \`type\` | Faceted search |
| Filter: State | \`status\` | Faceted search |
| Filter: Intent | \`intent\` | Faceted search |
| Filter: Lineage | \`upstream.length\` | Has/hasn't relations |

---

## II. The Configuration Model

### Current State: Hardcoded in Views

Right now, each view component has hardcoded:
- Field names ("status", "type", "upstream")
- Labels ("INSTANCE", "TOOLKIT")
- Icons (⚙, ◧, ○)
- Status progression (incubating → draft → verified → captured)

### Target State: Domain Configuration

A domain configuration file that views read:

\`\`\`typescript
interface DomainUIConfig {
  // What to call the primary classification
  typeField: {
    frontmatterKey: 'type';       // What field to read
    displayName: 'Document Type'; // Label in UI
    values: {
      [value: string]: {
        label: string;            // "Framework", "Instance", etc.
        icon: string;             // ⚙, ◧, ○, etc.
        color: string;            // For badges
      }
    }
  };

  // What to call the status progression
  statusField: {
    frontmatterKey: 'status';
    displayName: 'Maturity';
    progression: string[];        // ['incubating', 'draft', 'verified', 'captured']
    values: {
      [value: string]: {
        label: string;
        position: number;         // For dot display
      }
    }
  };

  // What to call the intent
  intentField: {
    frontmatterKey: 'intent';
    displayName: 'Intent';
    values: {
      [value: string]: {
        label: string;
        icon: string;
      }
    }
  };

  // What to show in relation panels
  relationFields: {
    upstream: {
      frontmatterKey: 'upstream';
      displayName: 'Informed By';  // Could be "Prior Work", "Sources", etc.
    };
    downstream: {
      frontmatterKey: 'downstream';
      displayName: 'Enables';
    };
  };

  // Which fields to show where
  viewSlots: {
    editor: {
      metadataRow: ['type', 'framework_kind', 'status', 'tags'];
      rightPanel: ['upstream', 'similar'];
    };
    list: {
      primaryBadge: 'type';
      secondaryBadge: 'framework_kind';
      statusIndicator: 'status';
      lineagePreview: 'upstream';
    };
    deck: {
      cardBadge: 'type';
      statusDots: 'status';
      filterFields: ['type', 'status', 'intent', 'upstream'];
    };
  };
}
\`\`\`

---

## III. Domain Examples

### Etymon Domain (Current)

\`\`\`typescript
const etymonConfig: DomainUIConfig = {
  typeField: {
    frontmatterKey: 'type',
    displayName: 'Document Type',
    values: {
      'framework': { label: 'Framework', icon: '⚙', color: '#7BA3C9' },
      'instance':  { label: 'Instance', icon: '◧', color: '#C9A67B' },
      'source':    { label: 'Source', icon: '◈', color: '#7BC98A' },
      'note':      { label: 'Note', icon: '○', color: '#8A8A8A' },
      'index':     { label: 'Index', icon: '☰', color: '#C9C9C9' },
    }
  },
  statusField: {
    frontmatterKey: 'status',
    displayName: 'Maturity',
    progression: ['incubating', 'draft', 'verified', 'captured'],
    values: {
      'incubating': { label: 'Incubating', position: 1 },
      'draft':      { label: 'Draft', position: 2 },
      'verified':   { label: 'Verified', position: 3 },
      'captured':   { label: 'Captured', position: 4 },
    }
  },
  intentField: {
    frontmatterKey: 'intent',
    displayName: 'Intent',
    values: {
      'research': { label: 'Research', icon: '🔍' },
      'build':    { label: 'Build', icon: '⚙' },
      'capture':  { label: 'Capture', icon: '◈' },
      'organize': { label: 'Organize', icon: '☰' },
      'produce':  { label: 'Produce', icon: '◧' },
    }
  },
  // ...
};
\`\`\`

### Studio Domain (Creator Tool)

\`\`\`typescript
const studioConfig: DomainUIConfig = {
  typeField: {
    frontmatterKey: 'type',
    displayName: 'Material Type',
    values: {
      'idea':     { label: 'Idea', icon: '💡', color: '#FFD700' },
      'source':   { label: 'Source', icon: '📚', color: '#7BC98A' },
      'research': { label: 'Research', icon: '🔍', color: '#7BA3C9' },
      'script':   { label: 'Script', icon: '📝', color: '#C9A67B' },
      'asset':    { label: 'Asset', icon: '🎬', color: '#9B59B6' },
      'template': { label: 'Template', icon: '⚙', color: '#3498DB' },
      'series':   { label: 'Series', icon: '📁', color: '#C9C9C9' },
    }
  },
  statusField: {
    frontmatterKey: 'status',
    displayName: 'Readiness',
    progression: ['draft', 'ready', 'used'],
    values: {
      'draft': { label: 'Draft', position: 1 },
      'ready': { label: 'Ready', position: 2 },
      'used':  { label: 'Used', position: 3 },
    }
  },
  // ...
};
\`\`\`

### Institutional Domain (Policy/Founding)

\`\`\`typescript
const institutionalConfig: DomainUIConfig = {
  typeField: {
    frontmatterKey: 'type',
    displayName: 'Element Type',
    values: {
      'vision':      { label: 'Vision', icon: '👁', color: '#E74C3C' },
      'theory':      { label: 'Theory', icon: '📖', color: '#9B59B6' },
      'structure':   { label: 'Structure', icon: '🏛', color: '#3498DB' },
      'coalition':   { label: 'Coalition', icon: '🤝', color: '#2ECC71' },
      'reproduction':{ label: 'Reproduction', icon: '🔄', color: '#F39C12' },
      'assessment':  { label: 'Assessment', icon: '📊', color: '#95A5A6' },
    }
  },
  statusField: {
    frontmatterKey: 'status',
    displayName: 'Development Phase',
    progression: ['identified', 'developing', 'built', 'defended'],
    values: {
      'identified': { label: 'Identified', position: 1 },
      'developing': { label: 'Developing', position: 2 },
      'built':      { label: 'Built', position: 3 },
      'defended':   { label: 'Defended', position: 4 },
    }
  },
  intentField: {
    frontmatterKey: 'intent',
    displayName: 'Founding Phase',
    values: {
      'research':  { label: 'Reconnaissance', icon: '🔍' },
      'build':     { label: 'Design', icon: '📐' },
      'organize':  { label: 'Coalition', icon: '🤝' },
      'produce':   { label: 'Founding Act', icon: '⚡' },
      'capture':   { label: 'Documentation', icon: '📄' },
    }
  },
  // ...
};
\`\`\`

---

## IV. The Key Architectural Shift

### Before: Data Model Extension

\`\`\`
User wants new domain → Extend types.ts → Add new type values →
  Change view components → Hardcode new icons → Deploy new build
\`\`\`

### After: Configuration Layer

\`\`\`
User wants new domain → Create domain-config.ts → Views read config →
  Same views, different display → Hot-reload or env switch
\`\`\`

### What Changes

| Component | Before | After |
|-----------|--------|-------|
| **types.ts** | Defines all possible values | Defines structure only (type, status, tags) |
| **View components** | Hardcode labels/icons | Read from domain config |
| **Filters** | Hardcode filter options | Generate from config |
| **Status dots** | Hardcode 4-step progression | Read progression from config |
| **Type badges** | Hardcode icons | Look up in config |

### What Doesn't Change

| Component | Stays the Same |
|-----------|----------------|
| **Frontmatter structure** | Still \`type\`, \`status\`, \`upstream[]\`, etc. |
| **Graph relationships** | Upstream/downstream universal |
| **Conducting fields** | intent, execution_state universal |
| **File storage** | Markdown in loomlib/docs/{type}/ |
| **API** | Same endpoints, just different data |

---

## V. Commands as Domain Frameworks

The insight from the request: **commands can do the work of frameworks**. Instead of:

- Etymon domain has \`fw-etymon-method\` framework
- User runs \`/loomlib:excavate\` which uses that framework

The pattern becomes:

- Etymon domain has \`/loomlib:excavate\` command
- The command **is** the framework made operative
- No need for a separate "framework" document type — the command embodies the method

### Domain-Specific Commands

| Domain | Commands (embodied methods) |
|--------|---------------------------|
| **Etymon** | excavate, survey, scope, synthesize, apologetic |
| **Studio** | draft-script, outline, summarize-sources |
| **Institutional** | found, assess-element, map-coalition, plan-reproduction |

### The Command IS the Framework

\`\`\`
┌─────────────────────────────────────────────────────────────────────────────┐
│  BEFORE: Framework + Command                                                │
│                                                                             │
│  fw-etymon-method.md ← User reads this, understands method                  │
│        ↓                                                                    │
│  /loomlib:excavate ← Command implements method                              │
│        ↓                                                                    │
│  inst-excavate-X.md ← Output references fw-etymon-method as framework_id    │
│                                                                             │
│  AFTER: Command AS Framework                                                │
│                                                                             │
│  /loomlib:excavate ← Command prompt file IS the method documentation        │
│        ↓                                                                    │
│  inst-excavate-X.md ← Output references command as its method               │
│                                                                             │
│  The command prompt file (.claude/commands/loomlib:excavate.md) serves as:  │
│  - User-readable method documentation                                       │
│  - Claude's execution instructions                                          │
│  - The thing referenced as "what produced this"                             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
\`\`\`

### Framework Documents Still Valuable

Domain frameworks (▣) remain valuable — they're **contextual lenses** not operative methods:
- \`fw-oikonomia-chrematistics\` — how to see economic arrangements
- \`fw-agonal-identity\` — how to see self-constitution
- \`fw-institutionalization-elements\` — how to see institutions

These inform how you use commands, but aren't themselves commands.

Toolkit frameworks (⚙) might collapse into commands:
- \`fw-survey-method\` → \`/loomlib:survey\` command
- \`fw-scope-method\` → \`/loomlib:scope\` command
- \`fw-etymon-method\` → \`/loomlib:excavate\` command

---

## VI. Implementation Requirements

### 1. Domain Configuration Schema

Create \`loomlib/src/config/domain.ts\`:

\`\`\`typescript
interface DomainConfig {
  id: string;
  name: string;

  // UI field mapping
  fields: {
    type: FieldConfig;
    status: StatusFieldConfig;
    intent: FieldConfig;
    // ... other fields
  };

  // View slot configuration
  views: {
    editor: EditorViewConfig;
    list: ListViewConfig;
    deck: DeckViewConfig;
  };

  // Available commands for this domain
  commands: CommandConfig[];
}
\`\`\`

### 2. Config Loading

\`\`\`typescript
// main.ts
const DOMAIN = import.meta.env.VITE_LOOMLIB_DOMAIN ?? 'etymon';
const config = await loadDomainConfig(DOMAIN);
// Pass config to all views
\`\`\`

### 3. View Refactoring

Each view needs to:
1. Accept domain config as prop or context
2. Look up labels/icons from config instead of hardcoding
3. Generate filters from config values
4. Display appropriate fields based on viewSlots config

### 4. Command Discovery

Commands available depends on domain:
- Read \`.claude/commands/{domain}:*.md\` files
- Present in command palette
- Route based on domain

---

## VII. Migration Path

### Phase 1: Extract Current Config

1. Create \`domains/etymon.ts\` with current hardcoded values
2. Refactor views to read from config object
3. Verify current behavior unchanged

### Phase 2: Abstract the Pattern

1. Create \`DomainConfig\` interface
2. Make views fully config-driven
3. Add domain switching capability

### Phase 3: Add New Domains

1. Create \`domains/studio.ts\`, \`domains/institutional.ts\`
2. Test views render correctly with different configs
3. Add domain-specific commands

---

## VIII. Composition

**What informed this scope:**
- \`fw-loomlib-domains\` — the framework establishing variant/invariant distinction
- \`fw-domain-design-audit\` — the questionnaire for validating domain design
- \`fw-domain-command-architecture\` — how commands shape views
- \`fw-institutionalization-elements\` — example of domain that could be configured
- Screenshots of Editor, List, Deck views — actual UI analysis

**What this scope enables:**
- Architectural decision to use configuration over data model extension
- Clear mapping of every UI element to frontmatter field
- Path to multi-domain loomlib without code changes per domain
- Understanding that commands can embody frameworks

**The key insight:** Every UI element already maps to frontmatter. The question isn't "what new fields do we need?" but "how do we make the display configurable?" Domains aren't containers holding documents — they're configurations that tell views how to render the same underlying document structure.

---

## Summary

| Aspect | Finding |
|--------|---------|
| **UI Elements** | All map to existing frontmatter fields |
| **Configuration Need** | Labels, icons, progression values, view slots |
| **Data Model** | No extension needed — structure is sufficient |
| **Domain as...** | Configuration context, not container |
| **Commands as...** | Embodied frameworks for the domain |
| **Migration** | Extract current config → abstract → add domains |

The path forward is clear: don't extend the data model, configure the display. Every visual element in the screenshots has a frontmatter source. Domains configure how to interpret and display those sources.`,
  },
  {
    id: 'inst-scope-list-view-aesthetic',
    title: 'Scope: List View Aesthetic',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'ux', 'list-view', 'aesthetic', 'design'],
    content: `# Scope: List View Aesthetic

**Date:** 2026-01-08
**Subject:** Visual design and information hierarchy of the document list view
**Method:** Scope Method (UX analysis)

---

## Audit

### Current UX Flow

1. User enters list view → sees search input at top
2. Below search: vertical stack of glassmorphism cards
3. Each card shows: type icon (left) → title + lineage + badge (center) → timestamp (right)
4. Incubating documents pulse with amber glow
5. Keyboard: ↑↓ to navigate, Enter to select, Escape to blur
6. Bottom: dashed "+ New Document" button

### Key Interactions

| Element | Interaction | Feedback |
|---------|-------------|----------|
| Search input | Type query | Cards filter in real-time |
| Card | Hover | Background lightens, subtle shadow |
| Card | Click/Enter | Navigate to editor |
| Card | Arrow keys | Blue border + scroll into view |
| New button | Hover | Border solidifies, text brightens |

### Visual Inventory

- **Cards**: Glassmorphism (blur + gradient + semi-transparent)
- **Type icons**: ⚙/▣ framework, ◧ instance, ○ note, ◈ source, ☰ index
- **Colors**: Muted pastels per type (blue, amber, gray, green, silver)
- **Typography**: System sans-serif, monospace for inputs
- **Spacing**: 16px padding, 8px gap between cards

---

## Affordances

### What the UI Promises

| Visual Element | Implied Promise |
|----------------|-----------------|
| Uniform card stack | All documents are equal peers |
| Type icon + color | Documents have categorical identity |
| Lineage badge (⤴) | Documents have provenance |
| Incubating pulse | Some documents need attention |
| Glassmorphism | Depth, layering, modern aesthetic |
| Dashed new button | "Add here" affordance |

### Mental Models Invoked

- **File browser**: Flat list of items to select
- **Email inbox**: Timestamped items, most recent visible
- **Notes app**: Quick capture and retrieve

### Mental Models *Not* Invoked (but should be)

- **Knowledge graph**: Relationships between documents
- **Production system**: Documents as outputs of frameworks
- **Incubation pipeline**: Documents maturing through stages

---

## Expectations

### What Users Would Expect

1. **Grouping by type or status** — "Show me all my frameworks" shouldn't require search
2. **Visual hierarchy** — Important/active documents should stand out
3. **Relationship visibility** — See production genealogy at a glance
4. **Content preview** — Snippet or abstract to identify documents without clicking
5. **Status progression** — Visual distinction between draft/verified/captured
6. **Faceted filtering** — Filter by type, status, output channel, perspective
7. **Sorting options** — By date, by type, by status, alphabetical

### Natural User Flows

- "What's incubating?" → Scan for amber pulse (works)
- "What frameworks do I have?" → Must search or scroll (friction)
- "What did Etymon Method produce?" → No way to see this in list (gap)
- "What's ready to capture?" → No verified status indicator (gap)

---

## Gaps

| Gap | Type | Description |
|-----|------|-------------|
| **Flat hierarchy** | Friction | All cards have equal visual weight; no grouping or sectioning |
| **No status indicators beyond incubating** | Friction | Draft, verified, captured look identical |
| **Redundant type display** | Polish | Icon AND badge both show type; one is wasted space |
| **No content preview** | Friction | Can't identify documents without clicking into them |
| **Lineage is text-only** | Polish | "⤴ Etymon Method" doesn't leverage the visual system |
| **No connection to constellation** | Friction | List doesn't hint at graph relationships |
| **Timestamp dominates** | Polish | "When modified" matters less than "what produced this" |
| **No filtering UI** | Friction | Must use search for type/status filtering |
| **Uniform card sizing** | Polish | No visual rhythm; long lists become monotonous |
| **New button is generic** | Polish | Doesn't indicate document type being created |

### Gap Categories

**Friction (should fix):**
- Flat hierarchy
- No status indicators
- No content preview
- No connection to constellation
- No filtering UI

**Polish (could fix):**
- Redundant type display
- Lineage is text-only
- Timestamp dominates
- Uniform card sizing
- Generic new button

---

## Requirements

### Must Have (Friction → Blocking UX Goals)

- [ ] **Visual grouping by type** — Section headers or visual clusters for frameworks, instances, notes, sources, indexes
  - *Acceptance: User can visually scan and find all frameworks without searching*

- [ ] **Status indicator system** — Distinct visual treatment for all four statuses
  - *Acceptance: User can identify draft vs verified vs captured at a glance*

- [ ] **Content preview** — First 1-2 lines of content visible on card
  - *Acceptance: User can identify document purpose without opening*

- [ ] **Filter controls** — Type and status filters above list
  - *Acceptance: User can click to show only "frameworks" or only "incubating"*

### Should Have (Friction → Better UX)

- [ ] **Mini lineage visualization** — Small visual showing production formula (toolkit + domain → instance)
  - *Acceptance: User sees at a glance which frameworks produced an instance*

- [ ] **Card hierarchy variants** — Featured/expanded cards for focus documents, compact cards for context
  - *Acceptance: Recently edited or incubating documents have more visual presence*

### Could Have (Polish)

- [ ] **Remove redundant badge** — Let icon carry type; use badge space for status or output channel
- [ ] **Animated transitions** — Cards slide/fade when filtering
- [ ] **Sort controls** — Toggle between date, type, status, alphabetical
- [ ] **Constellation preview on hover** — Show mini graph of document's relationships
- [ ] **Contextual new button** — "New Framework" vs "New Instance" based on current filter

### Out of Scope

- Full drag-and-drop reordering
- Custom card layouts per document
- Inline editing in list view
- Multi-select and bulk actions
- Virtual scrolling (unless performance requires it)

---

## Design Direction

The current aesthetic ("planetarium control room") is strong. The gaps are about **information architecture** within that aesthetic, not changing the visual language.

**Key insight**: The list view treats loomlib as a *file system* when it's actually a *knowledge graph*. The aesthetic upgrade should make relationships and production genealogy visible without leaving the list.

**Implementation approach**: Use \`/frontend-design\` skill to generate distinctive card variants and grouping UI that maintains the glassmorphism/OKLCH/dark-mode foundation while adding hierarchy and relationship visibility.

---

## Notes

- The constellation view already visualizes relationships — the list view should provide a **complementary** perspective, not duplicate it
- Consider whether "list" is even the right metaphor — could be "feed", "inbox", "queue", or "catalog"
- Status workflow (incubating → draft → verified → captured) is underexposed in the UI; this scope addresses that gap
- Performance: 30+ documents should remain smooth; avoid heavy DOM for each card`,
  },
  {
    id: 'inst-scope-outline-panel',
    title: 'Scope: Outline Panel for Preview Navigation',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'ux', 'editor', 'outline', 'navigation', 'loomlib'],
    content: `# Scope: Outline Panel for Preview Navigation

**Date:** 2026-01-11
**Subject:** Interactive document outline for navigating sections in preview mode
**Method:** Scope Method (UX analysis)

---

## Audit

### Current UX Flow

1. User opens document in editor
2. Presses \`Cmd+P\` or clicks "Preview" button to enter preview mode
3. Rendered markdown displays in scrollable pane
4. To navigate: user scrolls manually or uses browser find (\`Cmd+F\`)
5. No structural overview of document visible
6. To see structure: user must scroll through entire document

### Key Interactions

| Action | Result |
|--------|--------|
| Cmd+P | Toggle preview (full pane, replaces textarea) |
| Scroll | Move through content linearly |
| Cmd+F | Browser find-in-page (text search) |
| Click heading | Nothing (headings are not interactive) |

### What User Sees

- Full-width preview pane with rendered markdown
- Headings styled with size hierarchy (h1 > h2 > h3 > h4)
- No visible document structure/outline
- No heading anchors or IDs
- Related panel available on right (separate feature)
- Preview scrolls independently

### Document Characteristics (Loomlib-Specific)

Loomlib documents are **research-heavy** with deep structure:
- Typical document: 300-800 lines
- Common structure: 5-15 headings across 3-4 levels
- Frontmatter section at top (always present)
- Named sections follow consistent patterns (Audit, Findings, Requirements, etc.)
- Users frequently jump between sections during review

---

## Affordances

### What the UI Currently Promises

**Preview as reading experience:** Full-width rendering suggests "read from top to bottom" — a linear flow. The absence of navigation reinforces this.

**Scrollbar as only orientation:** The browser scrollbar is the only indicator of position in document. This works for short documents but fails for long ones.

**Headings as visual hierarchy only:** Headings use size/weight to show structure but don't promise interactivity. No cursor change, no underline, no indication they're actionable.

### Mental Models Invoked

- **Book/article reader:** Scroll to read, no jumping
- **PDF viewer without TOC:** Content visible, structure hidden
- **NOT invoked:** Documentation site (sidebar TOC), wiki (linked sections), code editor (outline pane)

### Conventions Followed

- Heading size hierarchy (h1 largest)
- Scrollable content area
- Smooth scroll on keyboard navigation

### Conventions Broken

- **No outline panel** — Expected in markdown editors (Typora, Obsidian, VS Code)
- **No heading anchors** — Expected for internal linking
- **No scroll-spy** — Expected to show current position in outline
- **No keyboard navigation between sections** — Common in document readers

---

## Expectations

### Natural User Flows

**Review document structure:**
1. User opens long document in preview
2. Wants to see "what sections exist?"
3. **Current:** Must scroll through entire document
4. **Expected:** Outline panel shows structure at glance

**Jump to specific section:**
1. User knows section name (e.g., "Requirements")
2. Wants to navigate directly to it
3. **Current:** Cmd+F, type section name, navigate through matches
4. **Expected:** Click section in outline, preview scrolls to it

**Maintain orientation while reading:**
1. User scrolls through long document
2. Loses track of current section
3. **Current:** Scroll up to see nearest heading
4. **Expected:** Outline highlights current section

**Quick reference while editing:**
1. User writes in editor mode, occasionally checks preview
2. Wants to verify structure is correct
3. **Current:** Toggle preview, scroll to check, toggle back
4. **Expected:** Outline visible in both modes (optional)

### Missing Affordances

- **Outline panel toggle** — Show/hide document structure
- **Clickable outline items** — Navigate to sections
- **Active state indicator** — Show current section
- **Hierarchical indentation** — Show nesting visually
- **Keyboard shortcut** — Toggle outline (Cmd+O or similar)

---

## Gaps

| Gap | Type | Description |
|-----|------|-------------|
| No structural overview | Friction | User cannot see document structure without scrolling through entire content |
| No section navigation | Friction | User cannot jump to specific sections; must scroll or use Cmd+F |
| No position awareness | Polish | User loses orientation in long documents; no indication of current section |
| No heading anchors | Friction | Cannot link to specific sections; cannot bookmark positions |
| Outline absent in both modes | Friction | Structure hidden whether editing or previewing |

### Gap Severity Assessment

**Most impactful:** "No structural overview" and "No section navigation" — These are **core** for research documents. Loomlib documents are structured knowledge artifacts; hiding structure undermines their utility.

**Secondary:** "No position awareness" — Nice to have, but user can orient by reading nearby headings.

**Tertiary:** "No heading anchors" — Useful for external linking but not critical for internal navigation.

---

## Invariants/Variants

### Invariants (Cannot Change)

| Constraint | Reason |
|------------|--------|
| Preview pane exists | Foundation for outline to navigate |
| Headings rendered as h1-h6 | Source of outline data |
| marked library parses markdown | Already installed, consistent rendering |
| Related panel pattern exists | Provides proven sidebar UX |
| Preview is full-pane (not side-by-side) | Current design; outline doesn't change this |

### Variants (Can Change)

| Decision | Options |
|----------|---------|
| Outline position | Left sidebar, right sidebar, floating overlay |
| Toggle mechanism | Button, keyboard shortcut, always visible |
| Hierarchy display | Flat list, indented tree, collapsible sections |
| Active state indicator | Highlight, dot, left border, background |
| Scroll behavior | Instant jump, smooth scroll, scroll-to-center |
| Depth limit | Show all levels, max 3-4 levels, configurable |

### False Invariants

| Assumption | Actually... |
|------------|-------------|
| "Outline must be visible only in preview mode" | Could be visible in editor mode too (shows structure while writing) |
| "Outline must be separate from Related panel" | Could share same sidebar space with tabs |
| "Need separate toggle button for outline" | Could auto-show for long documents |

### Hidden Invariants

| Appears flexible but... | Constraint |
|-------------------------|------------|
| "Outline position is open" | Placing on left conflicts with future sidebar navigation |
| "Can show all heading levels" | Deep nesting (h5, h6) creates visual noise |
| "Toggle behavior is open" | Must not conflict with existing Cmd+O (common: open file) |

---

## Requirements

### Must Have (Closes Blocking/Friction Gaps)

- [ ] **Outline panel in preview mode** — *Acceptance: When preview is active, user can toggle outline panel showing document headings*

- [ ] **Clickable heading navigation** — *Acceptance: Clicking an outline item scrolls preview to that heading*

- [ ] **Hierarchical indentation** — *Acceptance: h2 items indented under h1, h3 under h2, etc., showing document structure visually*

- [ ] **Toggle mechanism** — *Acceptance: User can show/hide outline via keyboard shortcut (Cmd+Shift+O) or button*

### Should Have (Improves UX)

- [ ] **Scroll-spy active state** — *Acceptance: As user scrolls preview, outline highlights the currently visible section*

- [ ] **Heading anchors in rendered HTML** — *Acceptance: Each heading gets an id attribute; clicking heading shows anchor link*

- [ ] **Smooth scroll animation** — *Acceptance: Clicking outline item animates scroll (not instant jump)*

- [ ] **Depth limit (h1-h4)** — *Acceptance: Outline shows h1-h4 only; h5/h6 excluded to reduce noise*

### Could Have (Polish)

- [ ] **Outline in editor mode** — Show structure while writing (not just preview)

- [ ] **Collapsible sections** — Allow folding outline sections for complex documents

- [ ] **Keyboard navigation in outline** — Arrow keys to move between outline items, Enter to jump

- [ ] **Search/filter outline** — Type to filter visible outline items

- [ ] **Persist outline state** — Remember if outline was open/closed per document

### Out of Scope

- **Drag-to-reorder sections** — Modifying document structure from outline (complex, not essential)
- **Edit headings from outline** — Inline rename (adds complexity)
- **Outline for editor mode (initial release)** — Start with preview only
- **Export outline as TOC** — Generate markdown TOC from outline
- **Minimap** — Visual document preview (different feature)
- **Custom outline styling** — Theme customization for outline

---

## Design Recommendations

### Position: Right Sidebar

**Rationale:**
- Mirrors Related panel pattern (proven UX)
- Preview content stays left-aligned (natural reading position)
- Future left sidebar reserved for document list/navigation
- Consistent with Typora, Obsidian right-side outline placement

### Visual Style: Match Related Panel

\`\`\`
┌────────────────────────────────────────┬──────────────┐
│  Preview Content                       │  Outline     │
│                                        │              │
│  # Title                               │  § Title     │
│                                        │    • Section │
│  ## Section 1                          │    • Section │
│  Content here...                       │      ○ Sub   │
│                                        │    • Section │
│  ### Subsection                        │              │
│  More content...                       │              │
└────────────────────────────────────────┴──────────────┘
\`\`\`

### Width: 160px

**Rationale:**
- Narrower than Related panel (200px) — outline items are shorter
- Wide enough for typical heading text (truncate with ellipsis if needed)
- Leaves ample preview width

### Toggle: Cmd+Shift+O

**Rationale:**
- \`O\` for Outline (mnemonic)
- \`Cmd+O\` typically means "Open" — avoid conflict
- \`Cmd+Shift+O\` follows pattern of secondary toggles
- Alternative: \`Cmd+\\\` (split pane convention)

### Active State: Left Border Accent

**Rationale:**
- Subtle but clear
- Matches VS Code/Obsidian pattern
- Works with dark and light themes
- Doesn't require background color changes

### Animation: Staggered Entry

**Rationale:**
- Match Related panel animation pattern (\`rel-node-enter\`)
- Provides polish without complexity
- 30ms delay between items, 200ms duration

---

## Implementation Notes

### Data Flow

\`\`\`
markdown content
      ↓
marked.parse() → HTML string
      ↓
querySelectorAll('h1,h2,h3,h4') → heading elements
      ↓
map to outline items: { level, text, element }
      ↓
render outline panel
      ↓
IntersectionObserver on headings → update active state
\`\`\`

### Key Decisions

| Decision | Choice | Rationale |
|----------|--------|-----------|
| Extract headings from | Rendered DOM | More reliable than parsing markdown; handles edge cases |
| Scroll method | \`scrollIntoView({ behavior: 'smooth', block: 'start' })\` | Native, performant, smooth |
| Active state tracking | IntersectionObserver | More efficient than scroll listener math |
| Heading IDs | Slugified heading text | Required for anchor links; generate if missing |

### Potential Complications

1. **Duplicate heading text** — Multiple "## Notes" sections need unique IDs (append index)
2. **Very long headings** — Need text truncation with tooltip
3. **Rapid scrolling** — IntersectionObserver may fire many times; debounce active state updates
4. **Preview re-render** — On content change, must rebuild outline; headings may have changed

---

## Composition

**Upstream (what informed this scope):**
- [inst-scope-editor-view](inst-scope-editor-view) — Prior scope establishing editor UX patterns
- [inst-survey-editor-implementation](inst-survey-editor-implementation) — Technical patterns for editor features

**Downstream (what this scope enables):**
- Implementation of outline panel feature
- Future: outline in editor mode
- Future: heading anchor links for external sharing

**Related (discovered but not upstream):**
- Web research on Typora, Obsidian, Notion outline patterns
- CSS-Tricks articles on IntersectionObserver scroll-spy

---

## Notes

### Priority Recommendation

1. **Core outline** — Panel, toggle, clickable navigation (addresses friction gaps)
2. **Scroll-spy** — Active state tracking (significant UX improvement)
3. **Polish** — Animations, depth limit, heading anchors
4. **Deferred** — Editor mode outline, collapsible sections

### Testing Approach

1. Open long loomlib document (survey or scope with many sections)
2. Toggle outline → verify all headings appear
3. Click outline item → verify smooth scroll to heading
4. Scroll manually → verify active state updates
5. Toggle preview off → verify outline hides
6. Toggle preview on → verify outline restores state

### Risk Assessment

| Risk | Mitigation |
|------|------------|
| Performance on huge documents | Limit to h1-h4; lazy render if > 50 items |
| Visual clutter with many headings | Depth limit, compact styling |
| Conflicts with Related panel | Can coexist; different toggle shortcuts |
| IntersectionObserver browser support | Modern browsers only (IE not supported anyway) |`,
  },
  {
    id: 'inst-scope-resolve-command',
    title: 'Scope: Resolve Command UX',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'ux', 'resolve', 'workflow', 'commands'],
    content: `# Scope: Resolve Command UX

**Date:** 2026-01-08
**Subject:** Whether \`/loomlib:resolve\` works ideally
**Method:** Scope Method (UX analysis)

---

## Audit

### Current Command Protocol

The resolve command at \`.claude/commands/loomlib:resolve.md\` defines:

1. **Parse arguments** to find document (path or slug)
2. **Review current state** — summarize intent, gaps, current status
3. **Gather resolution** — what was done, what changed, what remains
4. **Append resolution section** to document
5. **Update status** — promote if fully resolved
6. **Note: "will auto-save via API"**

### Current UX Flow

**Flow A: User invokes \`/loomlib:resolve scope-document-persistence\`**
1. Claude parses slug, searches \`loomlib/docs/**/{slug}.md\`
2. Claude reads document, summarizes current state
3. Claude asks what was done (or infers from context)
4. Claude appends \`## Resolution\` section with template
5. Claude updates frontmatter status if appropriate
6. Claude writes changes to markdown file
7. ✅ Changes persist (API writes to filesystem)

**Flow B: User invokes \`/loomlib:resolve\` without arguments**
1. Claude must ask which document to resolve
2. No listing of "open" documents shown
3. User must remember slug or path

**Flow C: User invokes from router \`/loomlib resolve survey-loomlib\`**
1. Router matches "resolve..." pattern
2. Routes to \`/loomlib:resolve\`
3. Resolve command executes

### Key Interactions

| Action | Feedback | Reality |
|--------|----------|---------|
| \`/loomlib:resolve {slug}\` | Claude reads doc, asks questions | Works as expected |
| \`/loomlib:resolve\` (no args) | Claude asks for document | No discovery flow |
| View resolved docs | Must check manually | No "resolved" lens in app |

---

## Affordances

### What the Command Promises

The resolve command protocol promises:
- Record completion of work on any actionable document
- Structured resolution section (date, status, changes, outcome)
- Status promotion through workflow (draft → verified)
- Persistence via API ("will auto-save")

The routing in \`loomlib.md\` promises:
- "resolve..." / "close out..." / "done with..." triggers resolve
- Works with scopes, surveys, and other actionable documents

### Mental Model Invoked

**Expected:** Task management close-out — mark done, record what happened
**Actual:** Document annotation — add a section, update frontmatter

### Conventions Followed

- Explicit resolution statuses (resolved, partial, deferred, superseded)
- Structured template for consistent recording
- Cross-reference to changes made
- Status workflow promotion

---

## Expectations

### Natural User Flows

1. **Close out flow**: Finish work → run resolve → document updated → move on
2. **Partial resolution**: Some work done → resolve as partial → track remaining
3. **Discovery flow**: "What's open?" → see list → pick one to resolve
4. **Batch review**: "What did I resolve today?" → see history

### What Users Would Expect

- Easy way to see unresolved documents
- Status update reflected in app immediately (it is — API sync works)
- Ability to resolve from within the app (not just CLI)
- Resolution history visible somewhere

### Information Needed During Resolve

- What was the original scope/survey about?
- What files were touched?
- What's the outcome for the user?

---

## Gaps

| Gap | Type | Description |
|-----|------|-------------|
| **No discovery** | Friction | Can't list unresolved documents easily |
| **No in-app resolve** | Friction | Must use CLI, not browser editor |
| **No resolution lens** | Polish | App doesn't surface resolved vs open |
| **Ambiguous slug parsing** | Friction | Multiple documents could match partial slug |
| **No changes tracking** | Friction | Must manually list "what files changed" |

### Gap Analysis

**No blocking gaps** — the command works correctly for its core purpose:
- ✅ Finds documents by slug
- ✅ Appends structured resolution section
- ✅ Promotes status appropriately
- ✅ Persists via API

**Friction gaps** reduce workflow efficiency but don't block completion.

---

## Requirements

### Must Have (Blocking)

None — command works for its core purpose.

### Should Have (Friction)

- [ ] Add \`/loomlib:open\` or similar to list unresolved documents — *Acceptance: Shows documents without Resolution section*
- [ ] Improve slug parsing to handle ambiguity — *Acceptance: Lists matches if multiple found*
- [ ] Auto-detect git changes for "Changes Made" section — *Acceptance: If git shows changed files since document created, suggest them*

### Could Have (Polish)

- [ ] Add "Open Items" lens in app showing unresolved actionable docs
- [ ] Add "resolve" button in browser editor for scope/survey documents
- [ ] Track resolution history (when was this resolved, by whom)

### Out of Scope

- Multi-user resolution tracking
- Automated resolution (detecting completion)
- Integration with external task systems

---

## Analysis

### Does the Resolve Command "Work Ideally"?

**Yes, for its core function.** The command:
- Correctly parses slug/path arguments
- Reads and summarizes documents well
- Produces well-structured resolution sections
- Updates status appropriately
- Persists changes (API sync works)

**Areas for improvement:**
1. **Discovery** — no way to see what's unresolved
2. **Context** — doesn't auto-gather git changes
3. **Access** — CLI-only, not in browser

### Priority

Low priority for changes — the command is functional. The friction is in the surrounding workflow, not the command itself.

---

## Notes

**Evidence that resolve works:**
- \`scope-document-persistence.md\` has a well-formed Resolution section
- Status correctly promoted to \`verified\`
- Changes recorded clearly

**The sync workflow evolved:**
- Original: \`/loomlib:sync\` regenerated seed-data.ts
- Current: Two-way API sync, no manual regeneration needed
- Resolve command references "npm run generate:seed" which is outdated
- Should update to note that save happens automatically via API

**The "auto-save via API" claim is accurate:**
- When Claude writes to markdown file, it saves immediately
- Vite dev server API handles the write
- No refresh needed to see changes in app`,
  },
  {
    id: 'inst-scope-spatial-canvas-list',
    title: 'Scope: Spatial Canvas List View',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['ux', 'list-view', 'spatial', 'embeddings'],
    content: `# Scope: Spatial Canvas List View

## Context

The current list view (shown in \`image copy.png\`) displays loomlib entries as a vertical card stack with:
- Search bar at top
- Filter chips (execution state dots, intent icons)
- Cards showing: title, upstream frameworks, type badge, state dots, connection counts, recency

This is functional but fundamentally **1-dimensional** — documents only relate via position in a sorted list. The embedding vectors and relationship categorizations in your data model (8 semantic categories, upstream/downstream, similarity scores) are invisible.

---

## Audit: What the Current UI Lacks

**Lost Information:**
1. **Semantic clustering** — Documents with high cosine similarity aren't visually grouped
2. **Relationship topology** — Parent/child/sibling links only visible in Flow View
3. **Temporal landscape** — Modified dates compress to "2h ago" badges
4. **Density perception** — Can't see where knowledge is dense vs. sparse
5. **State patterns** — Hard to spot clusters of \`in_progress\` vs \`completed\`
6. **Formula families** — Documents sharing the same upstream aren't visually connected

**ONI/Papers Please Inspiration Gap:**
- ONI's overlay system (O2, power, pipes, temperature) — we have semantic categories but no overlay toggle
- ONI's grid density — we scroll instead of surveying
- Papers Please's document comparison workspace — we have focus+context but not side-by-side
- Papers Please's information extraction rhythm — drag documents, compare fields

---

## Affordance Analysis

### What the Data Model Enables

Your data model has **5 independent axes** for spatial mapping:

| Axis | Field(s) | Visualization Potential |
|------|----------|------------------------|
| **Semantic similarity** | embedding vectors (1024-dim) → UMAP to 2D | X/Y position on canvas |
| **Genealogy depth** | upstream chain length | Y-axis (production tree depth) |
| **Temporal** | \`createdAt\`, \`modifiedAt\` | Color saturation, timeline band |
| **Type/Intent** | \`type\`, \`intent\`, \`execution_state\` | Shape, color, glow |
| **Channel/Perspective** | \`output\`, \`perspective\` | Swimlane grouping |

### Semantic Similarity → 2D Position

You already have:
- \`getEmbedding()\` / \`getEmbeddingsBatch()\` from Voyage AI
- \`cosineSimilarity()\` for pairwise comparison
- \`findMostSimilar()\` for k-NN queries

**Missing:** Dimensionality reduction to map 1024-dim embeddings → 2D coordinates.

Options:
1. **UMAP via WebAssembly** — \`umap-js\` library, runs client-side
2. **t-SNE** — More local structure preservation, slower
3. **PCA** — Fast but loses non-linear structure
4. **Server-side precompute** — Generate 2D coords at build time

Recommendation: **UMAP-js at build time** (in \`vite-plugin-docs-api.ts\`), store \`x\`, \`y\` in seed data. This gives semantic positioning without runtime cost.

---

## UX Patterns Research

### 1. Semantic Canvas (Heptabase/Scrintal Model)

**Pattern:** Infinite canvas where documents cluster by meaning, not folder.

**Adaptation for Loomlib:**
\`\`\`
┌─────────────────────────────────────────────────────────────┐
│  ┌───────────────────────────────────────────────────────┐  │
│  │              SEMANTIC CANVAS                           │  │
│  │                                                        │  │
│  │     ○ note-X          ◧ survey-A                      │  │
│  │                   ◧ excavate-B                        │  │
│  │  ⚙ fw-method                                          │  │
│  │                       ◧ credo-ethics                  │  │
│  │      ◈ src-aristotle                                  │  │
│  │                                                        │  │
│  │             ◧ credo-economics   ◧ credo-politics      │  │
│  │                                                        │  │
│  │     ▣ fw-domain                                       │  │
│  │                                                        │  │
│  └───────────────────────────────────────────────────────┘  │
│  [Semantic] [Timeline] [Genealogy] [Grid]  ← View modes     │
└─────────────────────────────────────────────────────────────┘
\`\`\`

**Key features:**
- UMAP-derived positions place similar docs nearby
- Zoom in/out to see cluster density
- Drag to pan (no focus required)
- Click node → open, Cmd+click → add to selection

### 2. ONI Overlay System

**Pattern:** Same spatial layout, different data layer rendered.

**Adaptation for Loomlib:**
\`\`\`
Overlays (toggle with number keys):
[1] Type        — color by framework/instance/source/note/index
[2] State       — pulse by pending/in_progress/completed/resolved
[3] Intent      — hue by research/build/capture/organize/produce
[4] Recency     — opacity by modifiedAt (faded = old)
[5] Density     — background heatmap by semantic clustering
[6] Lineage     — show upstream/downstream edges
\`\`\`

This lets the same canvas answer different questions:
- "Where's my incubating work?" → State overlay
- "What's research vs. production?" → Intent overlay
- "What's gotten stale?" → Recency overlay

### 3. Zoomable Treemap (Hierarchical Nesting)

**Pattern:** Nested rectangles sized by child count or importance.

**Adaptation for Loomlib:**
\`\`\`
┌──────────────────────────────────────────────────────────┐
│ ┌─────────────────────────┬─────────────────────────────┐│
│ │      FRAMEWORKS         │          INSTANCES          ││
│ │ ┌─────────┬───────────┐ │ ┌─────────────────────────┐ ││
│ │ │ Toolkit │  Domain   │ │ │   survey   │   scope    │ ││
│ │ │ ┌─────┐ │ ┌───────┐ │ │ │ ┌───────┐  │ ┌───────┐  │ ││
│ │ │ │fw-X │ │ │ fw-Y  │ │ │ │ │inst-A │  │ │inst-B │  │ ││
│ │ │ └─────┘ │ └───────┘ │ │ │ └───────┘  │ └───────┘  │ ││
│ │ └─────────┴───────────┘ │ │ excavate   │  recon     │ ││
│ └─────────────────────────┴─────────────────────────────┘│
│ ┌────────────────────────────────────────────────────────┐│
│ │              SOURCES                 NOTES             ││
│ └────────────────────────────────────────────────────────┘│
└──────────────────────────────────────────────────────────┘
\`\`\`

**Key features:**
- Click to zoom into a section
- Rectangle area = doc count or word count
- Hierarchy: type → subtype → perspective → individual

**Pro:** Great for surveying where content mass lives
**Con:** Loses semantic similarity information

### 4. Timeline + Swimlanes (Temporal-Categorical)

**Pattern:** X-axis = time, Y-axis = category (type or channel).

**Adaptation for Loomlib:**
\`\`\`
                    Jan 2025          Feb 2025          Mar 2025
                    ────────────────────────────────────────────→
FRAMEWORKS     ⚙────⚙─────────⚙──────────────────────────────⚙──
INSTANCES      ◧──◧───◧──◧─◧───◧──◧──◧──◧──────◧───◧──◧──◧──◧──
SOURCES        ◈────────◈──────────◈─────────────────────────◈──
NOTES          ○─○──○────────○──────────────────○────────────○──
\`\`\`

**Key features:**
- See production rhythm over time
- Identify periods of high/low activity
- Swimlanes by type, perspective, or output channel
- Vertical markers for significant commits/exports

### 5. Papers Please Workspace (Comparison Mode)

**Pattern:** Split view for side-by-side document inspection.

**Adaptation for Loomlib:**
\`\`\`
┌─────────────────────────────────────────────────────────────┐
│ ┌─────────────────────────┬─────────────────────────────────┐
│ │       DOCUMENT A        │         DOCUMENT B              │
│ │                         │                                 │
│ │  Title: Credo Ethics    │  Title: Credo Economics         │
│ │  Type: instance         │  Type: instance                 │
│ │  Status: verified       │  Status: draft                  │
│ │  Frameworks:            │  Frameworks:                    │
│ │    - fw-worldview ✓     │    - fw-worldview ✓             │
│ │    - fw-oikonomia ✗     │    - fw-oikonomia ✓             │
│ │  Perspective:           │  Perspective:                   │
│ │    philosophical-gen ✓  │    economic-gen ✗               │
│ │                         │                                 │
│ │  [Content preview...]   │  [Content preview...]           │
│ └─────────────────────────┴─────────────────────────────────┘
│ RACK: [doc1] [doc2] [doc3] [doc4] ← drag docs here          │
└─────────────────────────────────────────────────────────────┘
\`\`\`

**Key features:**
- Highlight matching/mismatching fields (✓/✗)
- Rack at bottom holds documents for quick comparison
- Useful before synthesis or contradiction analysis

---

## Expectations from User Perspective

### What a "Better List" Should Answer

1. **"What's nearby?"** — See documents semantically similar to current focus
2. **"What's aging out?"** — Spot stale work visually (temporal fade)
3. **"Where's the density?"** — See which topic clusters are rich vs. sparse
4. **"What's my pipeline?"** — See pending → in_progress → completed flow
5. **"What produced what?"** — See genealogy without switching views

### Interaction Model

**Desktop metaphor:** Your desk, covered in papers you can shuffle and arrange.

| Action | Result |
|--------|--------|
| Scroll/Pan | Move viewport over semantic canvas |
| Pinch/Zoom | Adjust detail level (zoomed out = clusters, zoomed in = cards) |
| Click doc | Select (show preview) |
| Double-click | Open in editor |
| Drag doc | Move to custom position (override UMAP) |
| Cmd+click | Multi-select |
| 1-6 keys | Toggle overlays |
| Tab | Cycle lens focus |

---

## Gap Analysis

### What's Missing to Implement

| Gap | Current State | Required |
|-----|---------------|----------|
| 2D coordinates | Only semantic similarity scores | UMAP projection at build time |
| Canvas rendering | DOM-based card list | Canvas/WebGL or SVG for pan/zoom |
| Overlay system | Single-mode views | Layer toggle infrastructure |
| Zoom levels | Fixed card size | Semantic zoom (LOD) |
| Custom positions | None | IndexedDB storage for user adjustments |
| Comparison mode | None | Split-pane component |

### Technical Path

1. **Phase 1: Semantic positioning**
   - Add \`umap-js\` dependency
   - Compute 2D coords in \`vite-plugin-docs-api.ts\`
   - Store \`x\`, \`y\` in document data

2. **Phase 2: Canvas view**
   - Replace list container with \`<canvas>\` or SVG
   - Implement pan/zoom with d3-zoom or custom
   - Render documents at UMAP-derived positions

3. **Phase 3: Overlays**
   - Add overlay toggle state
   - Implement rendering modes (type color, state pulse, etc.)
   - Keyboard shortcuts for overlay switching

4. **Phase 4: Polish**
   - Semantic zoom (cluster labels at far zoom, cards at near)
   - Custom position persistence
   - Comparison mode

---

## Recommendation

**Primary view: Semantic Canvas with ONI-style overlays**

This preserves your embedding investment, makes semantic siblings visible, and gives ONI's "same space, different information layer" pattern.

**Secondary feature: Papers Please comparison rack**

For synthesis/contradict workflows, the ability to "pull documents aside" into a comparison workspace.

**Defer:** Treemap and timeline views — these are useful but orthogonal; they don't leverage your embeddings, which is your distinctive data asset.

---

## Sources

- [Scrintal infinite canvas approach](https://scrintal.com/comparisons/obsidian-alternatives-with-robust-graph-features)
- [UMAP for layout](https://umap-learn.readthedocs.io/en/latest/interactive_viz.html)
- [Building embedding visualizations](https://cprimozic.net/blog/building-embedding-visualizations-from-user-profiles/)
- [D3 zoomable treemap](https://observablehq.com/@d3/zoomable-treemap)
- [Papers Please mobile port UX adaptations](https://dukope.com/devlogs/papers-please/mobile/)
- [Neobrutalism design patterns](https://www.nngroup.com/articles/neobrutalism/)
- [ONI overlay system](https://guides.gamepressure.com/oxygen_not_included/guide.asp?ID=40188)`,
  },
  {
    id: 'inst-scope-tag-filter-animation',
    title: 'Scope: Tag Filter Animation Polish',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'ux', 'animation', 'tags', 'list-view', 'polish'],
    content: `# Scope: Tag Filter Animation Polish

**Date:** 2026-01-10
**Subject:** Animation and interaction polish for the scrolling tag filter
**Method:** Scope Method (UX requirements)

---

## Audit

### Current State (from Survey)

The survey established the core mechanics:
- CSS \`translateX(-50%)\` animation on duplicated tag list
- Pause on hover via \`animation-play-state: paused\`
- Selected tag "breaks out" to static left position
- Fade edges with \`mask-image\` gradient

This scope focuses on **polish** — the micro-interactions and timing that make it feel good.

### Reference Patterns

| Pattern | Where Seen | Feel |
|---------|------------|------|
| Marquee scroll | Stock tickers, news chyrons | Steady, informational |
| Carousel auto-advance | Hero sliders | Rhythmic, discoverable |
| Tag cloud animation | Tagxedo, word clouds | Playful, exploratory |
| Static-to-scroll breakout | macOS Dock magnification | Responsive, immediate |

The loomlib aesthetic is "planetarium control room" — calm, precise, functional. The animation should feel like **instrumentation**, not decoration.

---

## Affordances

### What the Animation Promises

| Visual Cue | Implied Promise |
|------------|-----------------|
| Continuous scroll | "There are more tags than you can see" |
| Pause on hover | "Stop to explore" |
| Selected tag breaks out | "Your filter is active and prominent" |
| Fade edges | "Infinite pool of options" |

### Interaction States

\`\`\`
┌─────────────────────────────────────────────────────────────┐
│ IDLE: Tags scroll left at constant velocity                 │
├─────────────────────────────────────────────────────────────┤
│ HOVER: Animation pauses, tags become clickable targets      │
├─────────────────────────────────────────────────────────────┤
│ SELECTED: Clicked tag animates to static position,          │
│           remaining tags resume scrolling                    │
├─────────────────────────────────────────────────────────────┤
│ DESELECTED: Static tag fades, scrolling includes all tags   │
└─────────────────────────────────────────────────────────────┘
\`\`\`

---

## Expectations

### What Users Would Expect

1. **Scroll speed is comfortable** — slow enough to read, fast enough to discover
2. **Hover pause is immediate** — no lag, no "finishing" current motion
3. **Selected tag transition is smooth** — not a jump cut
4. **Re-hover after selection doesn't break** — can still browse remaining tags
5. **Click target is the whole chip** — not just text
6. **Visual feedback on click** — confirmation the action registered

### Timing Expectations (from reference patterns)

| Element | Expected Duration |
|---------|-------------------|
| Full scroll cycle | 20-40s (depends on tag count) |
| Hover pause | Instant (0ms) |
| Breakout transition | 150-250ms |
| Click feedback | 100-150ms |
| Fade edge | 10% of width each side |

---

## Gaps

### Potential Polish Issues

| Issue | Risk | Mitigation |
|-------|------|------------|
| **Jank on animation resume** | Medium | Use \`animation-play-state\` not JS timers |
| **Breakout jump cut** | High | Animate position, don't just swap DOM |
| **Click during scroll is hard** | Medium | Pause on hover solves this |
| **Too fast for reading** | Medium | Tune duration based on tag count |
| **No feedback on click** | Low | Add scale/color pulse |
| **Selected chip orphaned visually** | Low | Subtle connector line to scroll area |
| **Scroll loop jank at seam** | Medium | Duplicate list exactly, fade edges hide seam |

### Edge Cases

| Edge Case | Expected Behavior |
|-----------|-------------------|
| 0 tags in context | Hide tag filter row entirely |
| 1 tag in context | Show static, no scroll needed |
| 2-5 tags | Scroll slowly or don't scroll at all |
| 50+ tags | Normal scroll speed |
| Very long tag name | Truncate with ellipsis, full on hover |
| Tag with special chars | Escape HTML, no styling issues |

---

## Requirements

### Must Have (Functional Polish)

- [ ] **Adaptive scroll speed** — Duration scales with tag count
  - *Formula: \`max(15, tags.length * 0.8)\` seconds per cycle*
  - *Acceptance: 10 tags = 15s, 50 tags = 40s*

- [ ] **Smooth breakout animation** — Selected tag slides to static position
  - *Use CSS \`transition\` on the static container*
  - *Acceptance: No jump cut when selecting/deselecting*

- [ ] **Immediate hover pause** — No easing out, no momentum
  - *Use \`animation-play-state: paused\`*
  - *Acceptance: Tags stop within 16ms of hover start*

- [ ] **Click feedback** — Visual confirmation of selection
  - *Brief scale pulse or background flash*
  - *Acceptance: User knows click registered before DOM updates*

### Should Have (Refined Polish)

- [ ] **Momentum resume** — After hover ends, slight acceleration before constant speed
  - *CSS easing on resume: \`ease-in\` for first 500ms*
  - *Acceptance: Feels intentional, not jarring*

- [ ] **Stagger entrance** — Tags fade in sequentially on initial load
  - *Delay each chip by 30-50ms*
  - *Acceptance: "Revealing" effect on first render*

- [ ] **Scroll direction indicator** — Subtle arrow or gradient showing scroll direction
  - *Right-side gradient slightly brighter than left*
  - *Acceptance: Subconscious cue that more is coming from the right*

- [ ] **Selected chip distinction** — Slightly larger or different treatment
  - *Add subtle glow or border accent*
  - *Acceptance: Clear which chip is active filter*

### Could Have (Delight Polish)

- [ ] **Parallax scroll rates** — Some tags scroll faster (foreground/background effect)
  - *Different rows at different speeds*
  - *Acceptance: Adds depth without distraction*

- [ ] **Hover preview** — Hovering a tag shows count of matching docs
  - *Tooltip: "economy (12)"*
  - *Acceptance: Helps decide before clicking*

- [ ] **Keyboard navigation** — Tab into scroll, arrow to select
  - *Focus ring on active chip*
  - *Acceptance: Fully keyboard accessible*

- [ ] **Clear all button** — Reset tag filter with animation
  - *X icon at far left when tag selected*
  - *Acceptance: Easy escape from filtered state*

### Out of Scope

- Multi-tag selection (design specifies single selection)
- Drag-and-drop tag reordering
- Tag creation from this UI
- Tag frequency visualization (size based on usage)

---

## Design Specifications

### CSS Variables (add to variables.css)

\`\`\`css
:root {
  --tag-scroll-speed: 30s;           /* Base cycle duration */
  --tag-breakout-duration: 200ms;    /* Selection transition */
  --tag-click-feedback: 100ms;       /* Click pulse duration */
  --tag-fade-width: 10%;             /* Edge fade gradient */
  --tag-gap: var(--space-xs);        /* Between chips */
  --tag-height: 24px;                /* Chip height */
}
\`\`\`

### Animation Keyframes

\`\`\`css
@keyframes tag-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

@keyframes tag-click-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

@keyframes tag-entrance {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}
\`\`\`

### Mask Gradient (fade edges)

\`\`\`css
.list-view__tag-scroll {
  mask-image: linear-gradient(
    to right,
    transparent 0%,
    black var(--tag-fade-width),
    black calc(100% - var(--tag-fade-width)),
    transparent 100%
  );
  -webkit-mask-image: linear-gradient(
    to right,
    transparent 0%,
    black var(--tag-fade-width),
    black calc(100% - var(--tag-fade-width)),
    transparent 100%
  );
}
\`\`\`

### Breakout Animation

\`\`\`css
.list-view__tag-selected {
  display: flex;
  align-items: center;
  overflow: hidden;
  max-width: 0;
  opacity: 0;
  transition:
    max-width var(--tag-breakout-duration) ease-out,
    opacity var(--tag-breakout-duration) ease-out;
}

.list-view__tag-selected--active {
  max-width: 150px;  /* Adjust based on max expected tag length */
  opacity: 1;
}
\`\`\`

---

## Interaction Flow Diagram

\`\`\`
User Action              System Response                    Visual Result
───────────────────────────────────────────────────────────────────────────
Page loads          →    Render tags, start scroll      →   Tags animate
                                                            left smoothly

Mouse enters        →    animation-play-state: paused  →   Tags stop
scroll area                                                 immediately

Mouse hovers        →    No change                      →   Chip slightly
over chip                                                   brightens

Mouse clicks        →    1. Play click pulse           →   Chip scales 1.05x
chip                     2. Update activeTagFilter          then returns
                         3. Move chip to static area    →   Smooth slide left
                         4. Resume scroll sans chip     →   Other tags
                                                            continue

Mouse leaves        →    animation-play-state: running →   Tags resume
scroll area                                                 scrolling

Click selected      →    1. Play click pulse           →   Same pulse
chip again               2. Clear activeTagFilter
                         3. Return chip to scroll       →   Chip slides back
                         4. Scroll includes all tags         into stream
\`\`\`

---

## Testing Checklist

- [ ] Tags scroll smoothly at 60fps
- [ ] Hover pauses immediately (no drift)
- [ ] Click registers on first try
- [ ] Selected tag transition is smooth (no jump)
- [ ] Deselection returns chip to stream cleanly
- [ ] Edge fade hides loop seam
- [ ] Works with 0, 1, 5, 20, 100 tags
- [ ] Long tag names truncate properly
- [ ] Tags with special characters render correctly
- [ ] Filter respects current state/intent filters
- [ ] Document list updates after tag selection

---

## Notes

- The animation should feel **inevitable** — like a stream flowing, not a carousel advancing
- Pause on hover is critical; without it, clicking a moving target is frustrating
- The breakout animation is the most complex piece; get it right or cut it (fallback: instant swap)
- Consider \`prefers-reduced-motion\` — users who disable animations should get static tag list
- Performance: CSS animations are GPU-composited; should be smooth even on modest hardware`,
  },
  {
    id: 'inst-scope-tag-filter-deck-view',
    title: 'Scope: Tag Filter for Deck View',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'ux', 'deck-view', 'tags', 'filtering'],
    content: `# Scope: Tag Filter for Deck View

**Date:** 2026-01-10
**Subject:** Adapting the scrolling tag filter system for the grid-based deck view
**Method:** Scope Method (UX requirements)

---

## Audit

### Deck View Current State

The deck view (\`deck.ts\`) is a grid-based document browser with:

| Component | Current Implementation |
|-----------|------------------------|
| **Lens bar** | 5 lenses (Type, Recency, State, Intent, Lineage) — top row |
| **Search bar** | Text filter — dims non-matching cards |
| **Grid** | Auto-fill columns, section headers for grouped lenses |
| **Status bar** | Document count + active lens — bottom row |
| **Navigation** | Arrow keys, number keys for lens switching |
| **FLIP animation** | Cards animate position on lens change |

### List View Tag Filter (from Survey)

The list view tag filter has:
- Scrolling tag row below state/intent chips
- Selected tag breaks out to static position
- Tags respect current filters (state/intent)
- Single selection model

### Key Difference: Deck View Has Lenses

The deck view's primary filter mechanism is **lens switching**, not chip selection. This changes how tag filtering should integrate:

| List View | Deck View |
|-----------|-----------|
| Filters are additive (state + intent + tag) | Lens is primary, filters are secondary |
| Always visible filter row | Lens bar dominates header |
| Tags filter documents | Tags could filter OR group documents |

---

## Affordances

### What Deck View Promises

| Element | Promise |
|---------|---------|
| Lens bar | "Change how you see all documents" |
| Search bar | "Find specific documents by text" |
| Grid layout | "Browse visually, see many at once" |
| Section headers | "Documents are grouped meaningfully" |

### How Tag Filter Should Integrate

Tag filtering in deck view could serve **two different purposes**:

**Option A: Filter (like search)**
- Tag selection dims non-matching cards (like search does)
- Additive with search and lens
- Non-destructive, reversible

**Option B: Group (like lens)**
- Tag selection becomes a "Tags" lens
- Cards group by tag, with section headers
- Mutually exclusive with other lenses

**Recommendation:** Option A (Filter) — it's simpler, consistent with list view, and doesn't compete with the lens system.

---

## Expectations

### What Users Would Expect

1. **Tag filter visible but not dominant** — lens bar is primary
2. **Tags work with current lens** — "Show me Research intent documents tagged 'oikonomia'"
3. **Tags dim cards, not hide** — consistent with search behavior
4. **Tag selection persists across lens switches** — filter is sticky
5. **Clear way to remove tag filter** — click selected tag, or clear button

### Placement Options

\`\`\`
┌─────────────────────────────────────────────────────────────────────┐
│  [Type] [Recency] [State] [Intent] [Lineage]     ← Lens bar        │
├─────────────────────────────────────────────────────────────────────┤
│  [Search input____________________________]       ← Search          │
├─────────────────────────────────────────────────────────────────────┤
│  [selected?] | [...scrolling tags...]             ← Tag filter     │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│                        Grid of cards                                │
│                                                                     │
├─────────────────────────────────────────────────────────────────────┤
│  48 documents | State lens                        ← Status bar     │
└─────────────────────────────────────────────────────────────────────┘
\`\`\`

**Alternative: Combine with search bar**

\`\`\`
┌─────────────────────────────────────────────────────────────────────┐
│  [Type] [Recency] [State] [Intent] [Lineage]                        │
├─────────────────────────────────────────────────────────────────────┤
│  [Search____] | [selected?] | [...scrolling tags...]               │
├─────────────────────────────────────────────────────────────────────┤
│                        Grid of cards                                │
└─────────────────────────────────────────────────────────────────────┘
\`\`\`

**Recommendation:** Separate row (first option) — keeps header sections visually distinct, easier to scan.

---

## Gaps

### Deck View-Specific Challenges

| Gap | Impact | Mitigation |
|-----|--------|------------|
| **No chip-style filters currently** | Deck view has no precedent for chip filters | Follow list view patterns, adapt styling |
| **Lens changes re-sort cards** | Tag filter must survive lens switch | Store \`activeTagFilter\` in view state |
| **Cards dim, not filter** | Unlike list view which hides cards | Apply same \`.deck-card--dimmed\` class |
| **Section headers** | Should they reflect tag filter? | No — headers show lens grouping, not tag |
| **Tag context depends on lens?** | Do tags change based on active lens? | No — show all tags, let user combine |
| **Keyboard shortcut conflict** | 1-5 for lenses, what for tags? | No shortcut for tags; mouse/touch only |

### Edge Cases

| Case | Behavior |
|------|----------|
| Tag selected + lens changes | Cards re-sort, then dimming re-applies |
| Tag selected + search active | Both filters apply (intersection) |
| 0 documents match tag | All cards dimmed, empty-like state |
| Lens "Lineage" + tag "genealogy" | Both active, show matching lineage docs |

---

## Requirements

### Must Have (Core Integration)

- [ ] **Tag filter row below search bar**
  - *Same scrolling animation as list view*
  - *Acceptance: Tags scroll, pause on hover, select on click*

- [ ] **Tag selection dims non-matching cards**
  - *Use existing \`.deck-card--dimmed\` class*
  - *Acceptance: Same visual treatment as search mismatch*

- [ ] **Tags persist across lens switches**
  - *Store in \`DeckView.activeTagFilter\`*
  - *Acceptance: Change lens, tag filter still applied*

- [ ] **Tags work with search**
  - *Both filters apply (logical AND)*
  - *Acceptance: Search "survey" + tag "codebase" shows surveys tagged codebase*

- [ ] **Contextual tags based on lens grouping**
  - *If lens = "Type" and grouping = "Frameworks", show tags from frameworks*
  - *Wait — this contradicts. Keep it simple: show all tags.*
  - *Revised: Show all tags. Let user over-constrain if they want.*

### Should Have (Polish)

- [ ] **Status bar shows active tag**
  - *"48 documents | State lens | #oikonomia"*
  - *Acceptance: User sees all active filters at a glance*

- [ ] **Tag count badges**
  - *Each tag chip shows how many cards it would affect*
  - *Acceptance: "economy (12)" — helps user decide*

- [ ] **Animated dim/undim**
  - *Cards fade smoothly when tag filter changes*
  - *Use existing transition on opacity*

- [ ] **Clear tag from status bar**
  - *Click the tag in status bar to clear*
  - *Acceptance: Easy escape hatch*

### Could Have (Advanced)

- [ ] **"Tags" lens option**
  - *Add 6th lens that groups by tag*
  - *Multi-tag documents appear in multiple sections*
  - *Acceptance: Alternative view organized by tag*

- [ ] **Tag affinity visualization**
  - *When tag selected, other related tags glow*
  - *Based on co-occurrence in documents*
  - *Acceptance: Discovery of tag clusters*

### Out of Scope

- Tag creation/editing from deck view
- Multi-tag selection (single selection only)
- Tag-based FLIP animation (lens changes already animate)
- Custom tag ordering (alphabetical only)

---

## Implementation Notes

### Shared Code with List View

The tag filter mechanics are identical:

\`\`\`typescript
// Could extract to shared utility
interface TagFilterState {
  activeTagFilter: string | null;
  getContextualTags(docs: Document[]): string[];
  matchesTagFilter(doc: Document): boolean;
}
\`\`\`

Or duplicate the logic in \`DeckView\` — simpler given the views are separate classes.

### Integration Points

| File | Changes |
|------|---------|
| \`deck.ts\` | Add \`activeTagFilter\`, \`renderTagFilter()\`, update \`applySearch()\` |
| \`deck.css\` | Add \`.deck-view__tag-filter\` styles |
| (shared) | Could extract tag scroll component, but probably not worth it |

### HTML Structure Addition

\`\`\`html
<div class="deck-view__tag-filter">
  <span class="deck-view__tag-selected"></span>
  <div class="deck-view__tag-scroll">
    <div class="deck-view__tag-scroll-inner">
      <!-- tag chips -->
    </div>
  </div>
</div>
\`\`\`

Insert after \`.deck-view__search-bar\`, before \`.deck-view__grid\`.

### Filter Application Order

\`\`\`
1. Get all docs
2. Sort by lens
3. Apply search filter (dims cards)
4. Apply tag filter (dims cards)  ← NEW
5. Render grid
\`\`\`

Since both search and tag filter use dimming (not removal), the order doesn't matter for visual result. Both use the same \`.deck-card--dimmed\` class.

---

## Visual Design

### Consistency with List View

| Element | List View | Deck View |
|---------|-----------|-----------|
| Tag chip style | \`.list-view__chip\` | \`.deck-view__chip\` (same styles) |
| Scroll animation | Same keyframes | Same keyframes |
| Selected breakout | Same behavior | Same behavior |
| Fade edges | Same gradient | Same gradient |

### Deck View-Specific Adjustments

| Element | Adjustment | Reason |
|---------|------------|--------|
| Row height | 32px (vs 28px in list) | More vertical space available |
| Scroll container | Full width below search | No other elements competing |
| Selected chip | Slightly larger | More prominence in sparse header |

---

## Testing Checklist

- [ ] Tags scroll smoothly in deck view
- [ ] Hover pauses animation
- [ ] Click selects tag, dims non-matching cards
- [ ] Lens switch preserves tag filter
- [ ] Search + tag filter work together
- [ ] Status bar shows active tag
- [ ] Click selected tag clears filter
- [ ] Works with 0, 1, 50 tags
- [ ] Cards with no tags are correctly dimmed when any tag selected
- [ ] FLIP animation still works after tag filter changes

---

## Notes

- The deck view is more visual/spatial than list view — tag filter should be **subtle**, not dominant
- Consider whether tag filter should be **collapsed by default** and expandable (saves vertical space)
- The lens system is the primary organizational principle; tags are secondary filtering
- If users frequently combine tag + lens, might eventually want tag as a proper lens — defer until usage patterns are clear`,
  },
  {
    id: 'inst-scope-workflow-lenses',
    title: 'Scope: Workflow Lenses (Technical/Aesthetic/Resolving)',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method', 'fw-invariants-variants'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['scope', 'workflow', 'lenses', 'technical', 'aesthetic', 'creative', 'resolving', 'magician-warrior', 'meta'],
    content: `# Scope: Workflow Lenses (Technical/Aesthetic/Resolving)

**Date:** 2026-01-10
**Subject:** When to apply technical vs. aesthetic vs. resolving modes in loomlib workflows
**Method:** Scope Method + Invariants/Variants

---

## The Core Question

From systems thinking: "seeing loops" is what makes you a systems thinker. Without loops, you analyze sequences, not systems.

The loomlib commands *are* loops:
\`\`\`
Discovery → Protocol → Output → Composition → (feeds next) Discovery...
\`\`\`

But the insight is deeper: **loops alone don't make a good system**. You need to know *which lens to apply at which point in the loop*.

Three lenses are in play:
1. **Technical/Implementation** — What's structurally possible? What does the code allow?
2. **Subjective/Aesthetic** — What feels right? What's creative? What's beautiful?
3. **Resolving/Shipping** — What closes the loop? What gets this done?

The Magician-Warrior imbalance is exactly this problem: Magician stays in aesthetic/creative mode too long. Warrior knows when to switch to resolving mode.

---

## Audit: Current State

### What the Commands Currently Do

| Command Phase | Current Lens | Observation |
|---------------|--------------|-------------|
| Calibration | Technical | Load commitments/skills — implementation concern |
| Discovery | Technical | Query API — implementation concern |
| Protocol | Mixed | Method steps — could be either lens |
| Output | Aesthetic | Writing markdown — subjective choices |
| Composition | Technical | Recording upstream/downstream — graph concern |

### What's Missing

The commands don't explicitly switch lenses. They implicitly blend all three throughout. This creates:
- Technical concerns bleeding into creative phases
- Aesthetic concerns delaying resolution
- No clear "switch point" where mode changes

---

## Affordances: What the System Suggests

### The Implicit Promise

The 5-phase command pattern (Calibration → Discovery → Protocol → Output → Composition) suggests a *progression* — each phase has a different character.

### The Mental Model

Users might expect:
- Early phases = gathering, technical
- Middle phases = synthesizing, aesthetic
- Final phases = packaging, resolving

### What's Actually Happening

All three lenses are mixed throughout. There's no explicit mode-switching. The Magician can stay in Protocol/Output forever, refining aesthetically, never reaching Composition (resolution).

---

## Expectations: What Would Users Want?

### Natural Flow

1. **Begin technical** — Discovery should be rigorous, not creative
2. **Open to aesthetic** — Protocol/Output should allow creative synthesis
3. **Close resolving** — Composition should be about shipping, not refining

### The Switch Points

| Transition | Expected Mode Shift |
|------------|---------------------|
| Calibration → Discovery | Technical → Technical (same) |
| Discovery → Protocol | Technical → Aesthetic (open up) |
| Protocol → Output | Aesthetic → Aesthetic (same) |
| Output → Composition | Aesthetic → Resolving (close down) |

### What Would Delight

- Explicit "creative mode" signal during Protocol/Output
- Explicit "resolution mode" signal during Composition
- Clear handoff: "You've gathered and created; now ship it"

### What Would Frustrate

- Technical concerns interrupting creative flow
- Aesthetic refinement preventing resolution
- No signal that it's time to switch modes

---

## Gaps: Where Reality Diverges

| Gap | Type | Description |
|-----|------|-------------|
| No explicit mode-switching | Friction | Commands don't signal which lens to apply |
| Magician trap enabled | Blocking | System doesn't prompt resolution, enables infinite refinement |
| Technical/aesthetic collision | Friction | Both lenses active simultaneously = neither optimized |
| Missing "close the loop" pressure | Friction | Composition phase doesn't enforce resolution |
| No heuristic for when to switch | Blocking | User doesn't know when to shift from creative to resolving |

---

## Invariants/Variants

### Invariants (Cannot Change)

**1. All three lenses are necessary.**
You cannot have a good workflow with only technical (dry, no creativity) or only aesthetic (never ships) or only resolving (no depth). The invariant is: all three appear somewhere.

**2. Lenses don't mix well simultaneously.**
Trying to be technical AND aesthetic at the same time produces neither good implementation nor good aesthetics. The invariant is: dominance of one lens per phase.

**3. The loop must close.**
Without resolution, you have an open system that dissipates. The Magician trap is exactly this — loops that never close. The invariant is: eventually, you must switch to resolving mode.

**4. Switch points exist at phase boundaries.**
The transitions between phases (Discovery→Protocol, Output→Composition) are natural switch points. Moving lenses mid-phase is disruptive.

**5. Calibration determines lens appropriateness.**
The user's Magician-Warrior imbalance means: aesthetic lens is overdeveloped, resolving lens is underdeveloped. Calibration should *inform which lens to emphasize*.

### Variants (Can Change)

**1. Which lens dominates which phase.**
Could be:
- Discovery: Technical → Aesthetic (exploratory discovery)
- Protocol: Aesthetic → Technical (rigorous method)
Different workflows, different lens assignments.

**2. How explicitly the lens is signaled.**
Could be:
- Subtle (implicit in phase structure)
- Explicit (banner: "You are now in CREATIVE MODE")
- Directive (prompts that force lens switch)

**3. How strongly resolution is enforced.**
Could be:
- Suggestive ("Consider closing this document")
- Assertive ("You have been in Protocol for 3 turns. Switch to Output?")
- Mandatory (timeout on phases)

**4. Whether the user controls lens or system does.**
Could be:
- User-driven (manually switch modes)
- System-driven (phases auto-switch)
- Negotiated (system suggests, user confirms)

### False Invariants

| False Invariant | Actually Variant |
|-----------------|------------------|
| "Technical always comes first" | Aesthetic-first workflows exist (brainstorming, creative scoping) |
| "Aesthetic is optional" | Deep work requires aesthetic engagement; skipping it produces shallow output |
| "Resolution should be quick" | Some loops need extended resolution (complex synthesis, phased shipping) |
| "One lens per command" | Some commands legitimately blend (excavation is both technical and aesthetic) |

### Hidden Invariants

| Hidden Invariant | Why It's Fixed |
|------------------|----------------|
| **Resolution cannot be skipped** | Open loops dissipate; the Magician trap is a pattern of unresolved work |
| **Aesthetic needs constraints** | Without technical grounding, aesthetic becomes self-indulgent; without resolution deadline, it never finishes |
| **Technical needs purpose** | Without aesthetic direction, technical becomes mere implementation; it needs to serve something |
| **The user's imbalance shapes defaults** | A Magician-heavy user needs resolving mode *emphasized*, not just available |

---

## Requirements

### Must Have (Blocking)

- [ ] **Explicit lens assignment per phase** — *Acceptance: Each phase in the command pattern has a default lens (technical/aesthetic/resolving)*

- [ ] **Resolution emphasis for Magician-type users** — *Acceptance: Composition phase includes explicit "close this loop" prompt calibrated to user's Warrior deficit*

- [ ] **Switch point signals** — *Acceptance: Transitions between phases include mode-switching language (e.g., "Discovery complete. Opening to creative synthesis...")*

### Should Have (Friction)

- [ ] **Lens override option** — *Acceptance: User can declare "stay technical through Output" or "stay aesthetic through Composition" when appropriate*

- [ ] **Phase timeout warnings** — *Acceptance: After N turns in Protocol/Output without progress, system prompts: "Consider switching to resolving mode"*

- [ ] **Calibration-informed emphasis** — *Acceptance: Users with Magician imbalance see stronger resolving prompts; Warriors see aesthetic prompts*

### Could Have (Polish)

- [ ] **Visual mode indicators** — Different styling or icons for technical/aesthetic/resolving phases
- [ ] **Mode-specific heuristics** — Each lens has explicit questions/prompts appropriate to it
- [ ] **Loop closure tracking** — Dashboard showing open loops (unresolved documents) vs. closed loops

### Out of Scope

- Forcing users into modes they don't want
- Removing aesthetic mode for "productivity"
- Automated resolution without user consent
- Gamification of mode-switching

---

## The Three Lenses: Detailed

### Technical/Implementation Lens

**When it applies:**
- Discovery (what exists?)
- API queries (structural)
- Calibration (loading context)
- Graph operations (recording composition)

**Characteristic questions:**
- What's structurally possible?
- What does the API return?
- What files exist?
- What's the correct type/schema?

**The error when misapplied:**
- Using technical lens during creative synthesis → dry, lifeless output
- "This is the correct structure" ≠ "This is good"

### Subjective/Aesthetic Lens

**When it applies:**
- Protocol execution (synthesizing)
- Output writing (crafting)
- Creative scoping (imagining possibilities)
- Framework design (building methods)

**Characteristic questions:**
- What feels right?
- What's beautiful?
- What serves the deeper purpose?
- What would delight?

**The error when misapplied:**
- Using aesthetic lens during resolution → infinite refinement, never ships
- "This could be better" blocks "This is done"

### Resolving/Shipping Lens

**When it applies:**
- Composition (closing the loop)
- Status promotion (declaring done)
- Resolve command (marking resolved)
- Any transition that requires commitment

**Characteristic questions:**
- Is this good enough to ship?
- What's the minimum to close this loop?
- What can I defer to the next loop?
- Is perfectionism blocking resolution?

**The error when misapplied:**
- Using resolving lens during creative synthesis → premature closure, shallow work
- "Ship it" before the work is ready

---

## The Magician-Warrior Dynamic

From user commitments: 90% Magician, 10% Warrior.

**Magician strength:** Aesthetic lens is highly developed. Creative synthesis, framework building, deep reading.

**Magician trap:** Aesthetic lens never yields to resolving lens. Loops stay open. Work accumulates but doesn't ship.

**Warrior deficit:** Resolving lens is underdeveloped. "Close this loop" feels like premature termination, not completion.

### Calibration Implication

For this user, loomlib commands should:
1. **Make resolving mode explicit** — Not hidden, not optional-feeling
2. **Frame resolution as completion, not termination** — "This loop is done" ≠ "This work is abandoned"
3. **Provide aesthetic closure** — Resolution should feel like finishing a piece, not cutting it off
4. **Track closed loops as achievement** — Not just "what's open" but "what's shipped"

---

## Proposed: Lens Annotations for Command Phases

Update the command pattern to include lens:

\`\`\`
CALIBRATION   [Technical]   → Load context, query state
DISCOVERY     [Technical]   → Find related docs, report
PROTOCOL      [Aesthetic]   → Execute method, synthesize
OUTPUT        [Aesthetic]   → Write document, craft
COMPOSITION   [Resolving]   → Record genealogy, close loop
\`\`\`

Each phase transition includes mode-switch prompt:

\`\`\`
Discovery → Protocol:
"Discovery complete. Found 3 related docs.
Opening to creative synthesis — follow the method, let aesthetic judgment guide."

Output → Composition:
"Output written.
Entering resolution mode — record what informed this, what it enables, close the loop."
\`\`\`

---

## Composition

**Upstream (what informed this scope):**
- [Invariants/Variants](fw-invariants-variants) — the lens-analysis method
- [Scope Method](fw-scope-method) — the scope structure
- [Invariants/Variants OF Systems Thinking](inst-invariants-variants-systems-thinking) — "seeing loops" insight
- [User Commitments](idx-user-commitments) — Magician-Warrior imbalance context
- [Loomlib Architecture](idx-loomlib-architecture) — system invariants

**Downstream (what this scope enables):**
- Command template updates with lens annotations
- Mode-switching prompts in phase transitions
- Resolution-emphasis calibration for Magician users
- Potentially: new \`fw-workflow-lenses\` framework

**The insight:**
Loops make systems, but loops need mode-switching. Technical → Aesthetic → Resolving is the natural flow. The Magician trap is staying in Aesthetic indefinitely. The Warrior intervention is forcing the switch to Resolving.

---

## Notes

This scope is itself an example of the problem: it could be refined forever (Magician mode). The resolution is: write it, close it, let the next loop (implementation) begin.

The loop closes here.`,
  },
  {
    id: 'inst-survey-ai-orchestration-evaluation',
    title: 'Survey: Loomlib AI Orchestration Evaluation',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method', 'fw-invariants-variants'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['survey', 'ai-orchestration', 'evaluation', 'best-practices', 'comparison'],
    content: `# Survey: Loomlib AI Orchestration Evaluation

**Date:** 2026-01-08
**Subject:** How well does loomlib's architecture align with expert AI orchestration practices?
**Method:** Survey Method + Invariants/Variants analysis
**Comparand:** Industry best practices from Microsoft Azure, Deloitte, n8n, and AI engineering literature (2025)

---

## The Evaluation Framework

Based on research into AI agent orchestration best practices, expert systems evaluate on these dimensions:

| Dimension | What Experts Recommend | Industry Source |
|-----------|----------------------|-----------------|
| **Orchestration Pattern** | Match pattern to workflow nature | Microsoft Azure Architecture |
| **State Management** | Persistent memory across interactions | n8n, LangChain |
| **Context Handling** | Provide only what agents need | Microsoft, RAG best practices |
| **Agent Specialization** | Clear roles, distinct capabilities | Deloitte, enterprise patterns |
| **Discovery/Retrieval** | Semantic search, graph relationships | RAG literature |
| **Observability** | Audit trails, traceability | Enterprise best practices |
| **Security/Access** | Least privilege, tenant isolation | Microsoft, enterprise |

---

## Loomlib vs. Expert Patterns

### 1. Orchestration Pattern

**Expert recommendation:** Choose patterns based on workflow nature:
- Sequential for predetermined pipelines
- Handoff for dynamic routing to specialists
- Group Chat for collaborative validation

**Loomlib implements:** **Handoff Orchestration with Semantic Routing**

\`\`\`
User intent → Router (loomlib.md)
                ↓
        ┌───────┴───────┐
        ↓               ↓
    loomlib:survey  loomlib:scope  loomlib:instance  ...
        ↓               ↓
    [specialized protocol]
        ↓
    [output with lineage]
\`\`\`

The \`/loomlib\` router parses intent and delegates to specialized commands. Each command is a distinct "agent" with its own protocol (Survey Method, Scope Method, Etymon Method).

**Assessment: ✅ EXCELLENT**

This matches Microsoft's Handoff pattern exactly: "Dynamic task delegation between specialized agents. Each agent assesses whether to handle task or route to appropriate specialist."

**Advantage over typical implementations:** The routing is *semantic* (based on intent parsing) rather than keyword-based. The router understands "investigate" → survey, "requirements for" → scope, "[TERM] as" → instance.

---

### 2. State Management

**Expert recommendation:** "Persistent memory that survives across agent interactions... context needs to transfer seamlessly."

**Loomlib implements:** **Document Graph as Persistent State**

\`\`\`
┌─────────────────────────────────────────────────────────────┐
│                   PERSISTENT STATE                          │
│                                                             │
│   Markdown files → API → IndexedDB → UI                    │
│                                                             │
│   Every document has:                                       │
│   - upstream[] (what informed it)                          │
│   - downstream[] (what it enables)                         │
│   - execution_state (lifecycle position)                   │
│   - status (quality level)                                 │
└─────────────────────────────────────────────────────────────┘
\`\`\`

State isn't just "memory" — it's a *graph* with typed edges:
- \`informs\` — content shaped output
- \`method\` — framework guided production
- \`source\` — reference material used
- \`prior\` — earlier version or related work

**Assessment: ✅ EXCELLENT — EXCEEDS STANDARD**

Most AI orchestration systems track state as conversation history or key-value stores. Loomlib tracks state as a *knowledge graph with typed relationships*. This is closer to enterprise knowledge graphs than typical agent frameworks.

**Comparison:**
| System | State Model |
|--------|-------------|
| LangChain | Conversation buffer, vector store |
| CrewAI | Shared memory dict |
| AutoGen | Message history |
| **Loomlib** | **Document graph with typed edges** |

---

### 3. Context Handling

**Expert recommendation:** "Provide only context agents need to be effective. Don't overload agents with unnecessary information."

**Loomlib implements:** **Discovery Protocol with Selective Retrieval**

\`\`\`bash
# Each command queries for relevant context
curl -s http://localhost:5173/api/docs | jq '[.[] | select(.title | test("topic"; "i"))]'
\`\`\`

Commands discover:
- Prior work on same topic (avoid duplication)
- Related frameworks (methods to apply)
- Upstream context (what informs this)

But they don't get everything — the query is scoped to relevance.

**Assessment: ✅ GOOD**

The discovery pattern matches RAG best practices: "semantic search to understand a user's intent... retrieve relevant information even when the wording doesn't exactly match."

**Gap:** Discovery is currently text-based (\`test("topic")\`). True semantic retrieval (vector similarity) is marked \`available: false\` in the codebase.

---

### 4. Agent Specialization

**Expert recommendation:** "Ensure each agent adds distinct value. Reduced complexity, scalability, maintainability."

**Loomlib implements:** **12 Specialized Commands**

| Command | Specialization | Protocol |
|---------|----------------|----------|
| \`survey\` | Code investigation | Survey Method |
| \`scope\` | UX requirements | Scope Method |
| \`excavate\` | Etymology | Etymon Method |
| \`instance\` | Content production | Operator + Framework |
| \`framework\` | Method creation | Framework pattern |
| \`source\` | External references | Source template |
| \`note\` | Raw capture | Minimal structure |
| \`index\` | Collection curation | Index pattern |
| \`triage\` | Classification | Type determination |
| \`promote\` | Status advancement | Workflow rules |
| \`resolve\` | Closure | State update |
| \`(router)\` | Intent parsing | Semantic routing |

Each command has:
- Distinct capability (what it does)
- Own protocol (how it does it)
- Output format (what it produces)

**Assessment: ✅ EXCELLENT**

This is textbook agent specialization. Microsoft: "Optimization: Each agent uses distinct models, tools, knowledge."

**Advantage:** The specialization isn't arbitrary — it maps to a *production ontology* (research → build → produce). Commands aren't just "agents for different tasks" — they're stages in a knowledge production pipeline.

---

### 5. Discovery/Retrieval Architecture

**Expert recommendation (RAG):** "Chunk content by meaning... knowledge graph that captures entities and relationships... vector search for semantic queries."

**Loomlib implements:** **Hybrid: Graph + Metadata + Text Search**

| Layer | Implementation |
|-------|----------------|
| **Graph** | \`upstream\`/\`downstream\` edges, \`framework_ids\`, \`source_id\` |
| **Metadata** | \`type\`, \`status\`, \`intent\`, \`execution_state\`, \`perspective\`, \`output\` |
| **Text** | jq regex filtering on titles/content |

The graph layer is the differentiator. Discovery can ask:
- "What frameworks exist?" (type filter)
- "What surveys inform this topic?" (graph traversal)
- "What's incubating that might need this source?" (state + type filter)

**Assessment: ✅ GOOD — INNOVATIVE**

Most RAG systems are document-centric (chunks, embeddings, retrieval). Loomlib is *relationship-centric* — the graph edges ARE the retrieval mechanism.

**Gap:** No vector embeddings for semantic similarity. Text matching is literal, not semantic.

---

### 6. Observability & Auditability

**Expert recommendation:** "Log every decision with traceability. Instrument all agent operations and handoffs."

**Loomlib implements:** **Composition Reports + Conducting Frontmatter**

Every command outputs:

\`\`\`markdown
## Composition

**Upstream (what informed this):**
- [Survey Method](fw-survey-method) — method used
- [Prior Survey](inst-survey-X) — context

**Downstream (what this enables):**
- Scope work on this topic
- Implementation planning
\`\`\`

The \`upstream\`/\`downstream\` fields create a permanent audit trail. You can trace any document back to its sources.

**Assessment: ✅ EXCELLENT**

This exceeds typical agent observability (which logs API calls and latency). Loomlib logs *intellectual lineage* — not just what happened, but why and from what.

**Advantage:** The audit trail is *semantic*, not just technical. "This instance was produced by applying Etymon Method to this source" vs. "API call at timestamp X."

---

### 7. Security & Access Model

**Expert recommendation:** "Least privilege per agent. Tenant isolation. Role-based access control."

**Loomlib implements:** **Single-user, local-first**

- All data in local IndexedDB
- No multi-tenant model
- No access control (owner has full access)

**Assessment: ⚠️ NOT APPLICABLE (by design)**

Loomlib is a personal knowledge tool, not an enterprise system. Single-user by design means security is device-level, not application-level.

**If multi-user were needed:** The \`perspective\` and \`output\` fields could map to access boundaries. Documents with \`output: etymon\` might be public-ready; \`output: null\` might be private drafts.

---

## Scorecard: Loomlib vs. Expert Patterns

| Dimension | Expert Standard | Loomlib Implementation | Score |
|-----------|-----------------|----------------------|-------|
| **Orchestration Pattern** | Handoff for dynamic routing | Semantic routing to specialized commands | ⭐⭐⭐⭐⭐ |
| **State Management** | Persistent memory | Document graph with typed edges | ⭐⭐⭐⭐⭐ |
| **Context Handling** | Selective retrieval | Discovery protocol, scoped queries | ⭐⭐⭐⭐ |
| **Agent Specialization** | Distinct capabilities per agent | 12 commands with own protocols | ⭐⭐⭐⭐⭐ |
| **Discovery/Retrieval** | Semantic + graph | Graph edges + metadata + text | ⭐⭐⭐⭐ |
| **Observability** | Audit trails | Upstream/downstream lineage | ⭐⭐⭐⭐⭐ |
| **Security** | Least privilege | N/A (single-user design) | N/A |

**Overall: 4.7/5 on applicable dimensions**

---

## Where Loomlib Exceeds Expert Patterns

### 1. Production Ontology

Most AI orchestration is *task-oriented*: "Do this thing." Loomlib is *production-oriented*: "What kind of knowledge work is this, and how does it compose?"

The document types (source → framework → instance) form a *theory of knowledge production*, not just a task taxonomy.

### 2. Typed Relationships

Standard agent systems pass "context" as unstructured text or key-value pairs. Loomlib passes *typed relationships*:
- \`method\` — this framework guided production
- \`informs\` — this content shaped output
- \`source\` — this reference grounded claims

This is closer to academic citation graphs than typical agent memory.

### 3. Bi-directional Lineage

Most systems track input→output. Loomlib tracks both:
- \`upstream\` — what informed this
- \`downstream\` — what this enables

This allows reasoning in both directions: "What led to this?" and "What does this unlock?"

### 4. Status/Execution Separation

Two independent state dimensions:
- \`status\` (incubating → draft → verified → captured) — quality maturity
- \`execution_state\` (pending → completed → resolved) — workflow position

This distinguishes "Is it good?" from "Is it done?"

---

## Where Loomlib Could Strengthen

### 1. Semantic Retrieval

Current discovery is text-based (\`jq\` regex). Vector embeddings would enable:
- "Find documents similar to this one"
- "What frameworks apply to this problem?" (by semantic similarity)

The \`semantic\` lens exists but is \`available: false\`.

### 2. Cross-Document Reasoning

Each command operates on its discoveries independently. No mechanism for:
- "Synthesize findings across these 5 surveys"
- "What patterns emerge across all instances using this framework?"

This would be **Concurrent Orchestration** or **Group Chat** patterns.

### 3. Feedback Loops

No mechanism for downstream to inform upstream. If an instance reveals a flaw in its framework, there's no automatic feedback path.

This would require **bidirectional graph updates** — when downstream fails, upstream should hear about it.

### 4. Conflict Resolution

When multiple frameworks or sources conflict, there's no explicit resolution protocol. Expert patterns recommend:
- Clear conflict resolution strategy
- Maker-checker validation loops

---

## Comparison to Named Systems

### vs. LangChain

| Aspect | LangChain | Loomlib |
|--------|-----------|---------|
| Orchestration | Chain-based, procedural | Handoff, semantic routing |
| Memory | Conversation buffers, vector stores | Document graph |
| Specialization | Tools/agents as plugins | Commands as knowledge workers |
| Discovery | RAG retrieval | Graph + metadata + text |
| Output | Function results | Persistent documents with lineage |

**Verdict:** LangChain is more general-purpose; Loomlib is more opinionated about knowledge production. LangChain excels at tool integration; Loomlib excels at intellectual lineage.

### vs. CrewAI

| Aspect | CrewAI | Loomlib |
|--------|--------|---------|
| Orchestration | Role-based agents | Method-based commands |
| Memory | Shared dict | Document graph |
| Specialization | Agent personas | Production protocols |
| Collaboration | Agent-to-agent conversation | Graph composition |

**Verdict:** CrewAI focuses on agent collaboration (group chat pattern). Loomlib focuses on document composition (handoff pattern). Different use cases.

### vs. Enterprise RAG

| Aspect | Enterprise RAG | Loomlib |
|--------|---------------|---------|
| Retrieval | Vector similarity | Graph traversal + text match |
| Knowledge | Document chunks | Whole documents with metadata |
| Relationships | Implicit (via embeddings) | Explicit (typed edges) |
| Auditability | Retrieval logs | Composition lineage |

**Verdict:** Enterprise RAG is better at "find relevant content." Loomlib is better at "understand how knowledge was produced."

---

## Findings

Loomlib implements a sophisticated AI orchestration architecture that aligns with — and in several dimensions exceeds — industry best practices. The core innovations are:

1. **Semantic handoff routing** to specialized commands with distinct protocols
2. **Document graph as persistent state** with typed relationship edges
3. **Discovery-first pattern** that queries context before production
4. **Composition reports** that create auditable intellectual lineage
5. **Production ontology** (research → build → produce) that structures knowledge work

Compared to expert frameworks (LangChain, CrewAI, enterprise RAG), loomlib trades general-purpose flexibility for opinionated structure around knowledge production. It's less about "agents doing tasks" and more about "orchestrated document composition with explicit genealogy."

The main gaps are semantic retrieval (vector embeddings) and cross-document synthesis (concurrent orchestration). These would strengthen discovery and enable meta-level reasoning across the knowledge graph.

---

## Open Questions

- How would vector embeddings integrate with the existing graph structure? Parallel retrieval path or replacement?
- Is cross-document synthesis (Group Chat pattern) desirable, or does document-at-a-time preserve quality control?
- Should downstream→upstream feedback be explicit (graph edges) or emergent (human-mediated)?
- What observability beyond composition reports would be valuable? Token counts? Latency? Discovery hit rates?

---

## Composition

**Upstream (what informed this survey):**
- [Survey Method](fw-survey-method) — investigation protocol
- [Invariants/Variants](fw-invariants-variants) — evaluation structure
- [Survey: Loomlib Architecture](inst-survey-loomlib) — internal architecture
- [Index: Conducting Frontmatter System](idx-conducting-frontmatter-system) — orchestration design

**External sources:**
- [Microsoft Azure AI Agent Design Patterns](https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/ai-agent-design-patterns)
- [Deloitte AI Agent Orchestration](https://www.deloitte.com/us/en/insights/industry/technology/technology-media-and-telecom-predictions/2026/ai-agent-orchestration.html)
- [n8n AI Agent Orchestration Frameworks](https://blog.n8n.io/ai-agent-orchestration-frameworks/)
- [RAG Best Practices (kapa.ai)](https://www.kapa.ai/blog/rag-best-practices)

**Downstream (what this enables):**
- Targeted improvements to discovery (semantic retrieval)
- Framework for evaluating future architecture changes
- Evidence for design decisions in external conversations`,
  },
  {
    id: 'inst-survey-constellation-view',
    title: 'Survey: Constellation View Implementation',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['survey', 'constellation', 'graph', 'visualization'],
    content: `# Survey: Constellation View Implementation

**Date:** 2026-01-08
**Subject:** Spatial knowledge graph visualization in loomlib
**Method:** Survey Method (codebase investigation)

---

## Core Sample

### File Inventory

| File | LOC | Purpose |
|------|-----|---------|
| \`src/views/constellation.ts\` | 615 | Main view class, rendering, event handling |
| \`src/ui/constellation.css\` | 676 | All visual styling including overlays |
| \`src/data/graph.ts\` | 583 | Layout computation, categorization, positioning |
| \`src/data/constellation-config.ts\` | 231 | Slot limits, positions, lens configs |
| \`src/components/formula-bar.ts\` | 69 | Production formula display |
| \`src/components/lens-picker.ts\` | 125 | Lens selection modal |

**Total:** ~2,300 lines dedicated to constellation view

### Entry Points

\`\`\`
ConstellationView.show()
  → refresh()
    → listDocuments()           // fetch all docs
    → computeLayout()           // categorize + position
      → categorizeDocsSemantic()   // 8 categories
      → computeVisibleDocsSemantic()  // apply pagination
      → computeGraph()             // nodes + edges
    → render()
      → renderTethers()    // SVG lines
      → renderNodes()      // DOM cards
      → renderSlotIndicators()  // pagination controls
\`\`\`

---

## Stratigraphy

### Layer 1: Semantic Categorization (8 types)

Documents around the focused node are categorized into:

| Category | Relationship | Spatial Position |
|----------|--------------|------------------|
| \`toolkitParent\` | Focus uses this toolkit | Left (180°) |
| \`domainParent\` | Focus uses this domain | Right (0°) |
| \`sourceParent\` | Focus references this source | Top (270°) |
| \`child\` | This doc uses focus as framework/source | Bottom (90°) |
| \`formulaSibling\` | Same framework_ids set | Below children |
| \`channelSibling\` | Same output channel | Lower-right |
| \`perspectiveSibling\` | Same perspective | Lower-left |
| \`distant\` | No direct relationship | Outer ring |

### Layer 2: Slot System (Pagination)

Each category has configurable limits based on total doc count:

\`\`\`typescript
// <20 docs: generous limits
{ toolkitParent: 4, domainParent: 4, child: 6, distant: 6, ... }

// 20-50 docs: moderate limits
{ toolkitParent: 3, domainParent: 3, child: 4, distant: 4, ... }

// >50 docs: tight limits
{ toolkitParent: 2, domainParent: 2, child: 3, distant: 0, ... }
\`\`\`

Overflow shows pagination indicators with \`‹ 1-4 of 12 ›\` controls.

### Layer 3: Lens System (10 modes)

| Lens | Filter Logic | Available |
|------|--------------|-----------|
| Default | All relationships | ✓ |
| Formula | Production lineage only | ✓ |
| Production | What this framework produced | ✓ |
| Lineage | Parents and children | ✓ |
| Channel | Same output channel | ✓ |
| Perspective | Same perspective cluster | ✓ |
| Incubating | status = incubating | ✓ |
| Recent | Modified in last 7 days | ✓ |
| Framework | type = framework | ✓ |
| Semantic | AI-inferred similarity | ✗ (planned) |

### Layer 4: Depth System (3 layers)

| Layer | CSS Treatment |
|-------|--------------|
| \`focus\` | scale(1.06), opacity 1, max-width 240px, accent border |
| \`context\` | scale(0.95), opacity 0.85 |
| \`distant\` | scale(0.9), opacity 0.7 |

**Note:** Blur variables exist (\`--depth-focus-blur\`, etc.) but all set to 0.

### Layer 5: Visual Components

**Node Cards:**
- Glassmorphism background
- Type icon (colored) + title
- Position via absolute CSS transform
- Click: focus, Double-click: open editor
- Hover: show preview panel

**Tethers (SVG):**
- Only rendered when connected to focused node
- Focused tethers get glow filter + thicker stroke
- Draw-in animation via stroke-dasharray

**Formula Bar:**
- Only shows for instances
- Format: \`◧ TITLE = ⚙ Toolkit + ▣ Domain + ◈ Source\`
- Positioned at top center

**Preview Panel:**
- Shows on hover (any node)
- Icon, title, type/status, tags, content snippet
- Smart positioning to avoid edges

**Slot Indicators:**
- Fixed positions per category
- Show only when overflow exists
- Tab cycles active slot, \`[\` \`]\` scrolls

---

## Findings

### Architectural Patterns

1. **Everything recomputes on focus change** — \`setFocus()\` → \`computeLayout()\` → \`render()\` does full rebuild
2. **No animation between states** — Nodes jump to new positions instantly
3. **Click/double-click disambiguation** — 250ms timer delay on all clicks
4. **Event delegation absent** — Each node gets individual listeners
5. **Canvas is just DOM positioning** — Not actually canvas/webgl, uses absolute positioning

### Complexity Hotspots

1. **8 semantic categories** — Cognitive load for users, visual clutter for UI
2. **Slot indicator positioning** — 8 hardcoded CSS position rules
3. **Layout algorithm** — Purely mathematical, no physics or force-direction
4. **Lens × Category interaction** — Lens filters docs, then categories partition remainder

### Dormant/Incomplete Features

1. **Blur depth disabled** — All \`--depth-*-blur\` = 0
2. **Semantic lens** — Marked \`available: false\`
3. **Incubating animation** — CSS exists but commented "disabled for cleaner visual"
4. **Noise texture** — 2.5% opacity, barely visible

### Inconsistencies

1. **Color definitions** — \`TYPE_COLORS\` uses hex (\`#7BA3C9\`), CSS uses oklch
2. **Slot positions** — Config uses angle/distance, but \`computePositions()\` uses different algorithm
3. **Preview vs Formula Bar** — Preview shows for all, Formula Bar only for instances

### Performance Characteristics

- Full re-render on any focus change
- SVG recreation (innerHTML = '') on each render
- No virtualization
- No caching of categorization results

---

## Dependencies

### Internal

- \`types.ts\` — Document interface, enums, type guards
- \`documents.ts\` — \`listDocuments()\` for data fetching
- \`time.ts\` — \`relativeTime()\` (used in preview)

### External

- None (vanilla DOM/SVG)

---

## Questions Raised

1. **Why are all depth blurs disabled?** Was this a performance decision or visual preference?
2. **Why does the slot position config exist if computePositions() doesn't use it?** Legacy code or planned refactor?
3. **Should lens and category be independent axes?** Currently lens filters first, then categories subdivide.
4. **Is 8 categories too many?** Could toolkit/domain collapse to "parent"?
5. **Why no animation?** Is instant layout change intentional or missing feature?

---

## Diagrams

### Spatial Layout (Default Lens)

\`\`\`
                    [sourceParent]
                         ▲
                         │
   [toolkitParent] ←── [FOCUS] ──→ [domainParent]
                         │
                         ▼
                      [child]
                         │
                         ▼
                  [formulaSibling]
                    /         \\
[perspectiveSibling]         [channelSibling]
                    \\         /
                     [distant]
\`\`\`

### Component Hierarchy

\`\`\`
ConstellationView
├── svg.constellation-tethers
│   └── line.tether (×n)
├── div.constellation-canvas
│   ├── div.constellation-node (×n)
│   └── div.constellation-slot-indicator (×8 max)
├── div.constellation-preview
├── div.formula-bar
├── div.constellation-lens-indicator
└── div.constellation-lens-picker (LensPicker component)
\`\`\``,
  },
  {
    id: 'inst-survey-deck-view-implementation',
    title: 'Survey: Deck View Implementation',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['survey', 'deck', 'grid', 'implementation'],
    content: `# Survey: Deck View Implementation

**Date:** 2026-01-10
**Subject:** Technical implementation path for deck view
**Method:** Survey Method (static analysis)

---

## Survey

### Relevant Files

**Core (must create):**
- \`loomlib/src/views/deck.ts\` — New deck view class
- \`loomlib/src/ui/deck.css\` — Grid layout and card styles

**Must modify:**
- \`loomlib/src/layout/shell.ts\` — Add deck view to view cycle
- \`loomlib/src/main.ts\` — Import deck CSS
- \`loomlib/src/types.ts\` — Add \`DeckLens\` type

**Pattern reference (read, don't modify):**
- \`loomlib/src/views/list.ts\` — View lifecycle pattern
- \`loomlib/src/views/spatial.ts\` — Alternative spatial approach
- \`loomlib/src/components/document-card.ts\` — Card rendering
- \`loomlib/src/components/lens-picker.ts\` — Picker component pattern

**Data layer (use existing):**
- \`loomlib/src/data/documents.ts\` — \`listDocuments()\`
- \`loomlib/src/types.ts\` — \`Document\`, \`ExecutionState\`, \`DocumentIntent\`

---

## Core Sample

### View Class Pattern

All views follow this interface (from \`list.ts\`, \`spatial.ts\`):

\`\`\`typescript
class SomeView {
  constructor(container: HTMLElement, options: ViewOptions)

  // Lifecycle
  async refresh(): Promise<void>  // Fetch data and render
  show(): void                     // Add visibility class
  hide(): void                     // Remove visibility class
  focus(): void                    // Focus keyboard target

  // State
  private docs: Document[]
  private focusedId: string | null
}
\`\`\`

### Shell Integration

\`shell.ts\` manages view switching:

\`\`\`typescript
// Current views
private listView: ListView;
private constellationView: ConstellationView;
private flowView: FlowView;
private spatialView: SpatialView;
private editor: Editor;

// View cycle (Cmd+Shift+V)
toggleView(): void {
  // list -> constellation -> flow -> spatial -> editor -> list
}

// Direct shortcuts
// Cmd+Shift+S → showSpatial()
// Need: Cmd+Shift+D → showDeck()
\`\`\`

### Sort Functions Needed

Based on scope requirements:

\`\`\`typescript
type DeckLens = 'type' | 'recency' | 'state' | 'intent' | 'lineage';

// Type lens: group by doc.type
const TYPE_ORDER = ['framework', 'instance', 'source', 'note', 'index'];

// Recency lens: sort by modifiedAt desc
docs.sort((a, b) => b.modifiedAt - a.modifiedAt);

// State lens: group by execution_state
const STATE_ORDER = ['in_progress', 'pending', 'completed', 'resolved'];

// Intent lens: group by intent
const INTENT_ORDER = ['research', 'build', 'produce', 'capture', 'organize'];

// Lineage lens: sort by upstream chain length
const lineageDepth = (doc) => doc.upstream?.length ?? 0;
docs.sort((a, b) => lineageDepth(a) - lineageDepth(b));
\`\`\`

### CSS Grid Layout

Target: auto-fill columns with min-width 200px

\`\`\`css
.deck-view__grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
  padding: 16px;
}
\`\`\`

### Keyboard Navigation

List view uses 1D navigation:
\`\`\`typescript
handleKeydown = (e: KeyboardEvent) => {
  if (e.key === 'ArrowDown') selectedIndex++;
  if (e.key === 'ArrowUp') selectedIndex--;
}
\`\`\`

Deck needs 2D grid navigation:
\`\`\`typescript
// Need to calculate columns based on grid
const columns = Math.floor(containerWidth / (cardWidth + gap));

if (e.key === 'ArrowRight') selectedIndex++;
if (e.key === 'ArrowLeft') selectedIndex--;
if (e.key === 'ArrowDown') selectedIndex += columns;
if (e.key === 'ArrowUp') selectedIndex -= columns;
\`\`\`

---

## Stratigraphy

### Call Hierarchy (Proposed)

\`\`\`
Shell
├── DeckView (NEW)
│   ├── listDocuments() → API → IndexedDB
│   ├── sortByLens(lens) → sorted docs array
│   ├── renderGrid() → DOM creation
│   ├── renderLensBar() → lens selector
│   └── handleKeydown() → 2D navigation
│
├── ListView (existing)
├── SpatialView (existing)
└── Editor (existing)
\`\`\`

### State Location

| State | Location | Notes |
|-------|----------|-------|
| Active lens | \`DeckView.activeLens\` | \`DeckLens\` enum |
| Sorted docs | \`DeckView.sortedDocs\` | Result of lens sort |
| Grid columns | Computed | \`Math.floor(width / cellWidth)\` |
| Focused index | \`DeckView.focusedIndex\` | 0-based into sortedDocs |
| Card elements | \`DeckView.cardElements\` | Map<docId, HTMLElement> for FLIP |

### Animation Strategy

**FLIP technique for lens changes:**

1. **First:** Record current positions of all cards
2. **Last:** Apply new sort, render in new positions
3. **Invert:** Calculate delta from new to old position
4. **Play:** Animate from inverted back to final

\`\`\`typescript
// Pseudo-code
async switchLens(newLens: DeckLens) {
  // First: capture old positions
  const oldPositions = new Map<string, DOMRect>();
  for (const [id, el] of this.cardElements) {
    oldPositions.set(id, el.getBoundingClientRect());
  }

  // Last: re-sort and re-render
  this.activeLens = newLens;
  this.sortedDocs = this.sortByLens(this.docs, newLens);
  this.renderGrid();

  // Invert + Play
  for (const [id, el] of this.cardElements) {
    const oldRect = oldPositions.get(id);
    const newRect = el.getBoundingClientRect();
    if (oldRect) {
      const dx = oldRect.left - newRect.left;
      const dy = oldRect.top - newRect.top;
      el.animate([
        { transform: \`translate(\${dx}px, \${dy}px)\` },
        { transform: 'translate(0, 0)' }
      ], { duration: 300, easing: 'ease-out' });
    }
  }
}
\`\`\`

---

## Findings

### Reusable Components

1. **Card rendering:** \`document-card.ts\` exports \`createDocumentCard()\` — can reuse for deck cards, but may want simplified variant

2. **Lens picker pattern:** \`lens-picker.ts\` shows how constellation does lens selection — can adapt for deck's lens bar

3. **Filter chip pattern:** \`list.ts\` has state/intent filter chips — deck's lens bar is similar but single-select

### Key Differences from Existing Views

| Aspect | List | Spatial | Deck |
|--------|------|---------|------|
| Layout | Flex column | Absolute positioned | CSS Grid |
| Sort | Date only | UMAP position | Lens-based |
| Navigation | 1D (up/down) | Pan/zoom | 2D grid |
| Filter | Chip toggles | Overlay toggles | Lens single-select |
| Animation | None | None | FLIP on lens change |

### Dependencies

**Internal (existing):**
- \`listDocuments()\` from \`data/documents.ts\`
- \`Document\` type from \`types.ts\`
- Possibly \`createDocumentCard()\` from \`components/document-card.ts\`

**External (none new):**
- CSS Grid (native)
- Web Animations API (native)
- No new npm dependencies needed

### Complexity Hotspots

1. **2D keyboard navigation:** Calculating column count dynamically as viewport resizes

2. **FLIP animation:** Handling cards that enter/exit view (fade vs slide)

3. **Section headers for grouped lenses:** Inserting headers into grid while maintaining correct keyboard navigation order

4. **Responsive column count:** \`auto-fill\` handles this, but FLIP needs to recalculate on resize

---

## Implementation Plan

### Phase 1: Grid Foundation (~200 lines)

**Files:**
\`\`\`
loomlib/src/
├── views/deck.ts           # NEW
├── ui/deck.css             # NEW
├── layout/shell.ts         # Modify
├── main.ts                 # Modify (import CSS)
└── types.ts                # Modify (add DeckLens)
\`\`\`

**Tasks:**
1. Add \`DeckLens\` type to \`types.ts\`
2. Create \`DeckView\` class with basic grid rendering
3. Add deck.css with grid layout
4. Wire into Shell (new container, \`showDeck()\`, Cmd+Shift+D)
5. Implement basic 2D keyboard navigation

### Phase 2: Lens System (~150 lines)

**Tasks:**
1. Implement \`sortByLens()\` for all 5 lenses
2. Create lens bar component (5 buttons, active indicator)
3. Wire number keys 1-5 to lens switching
4. Store active lens in view state

### Phase 3: Animation (~100 lines)

**Tasks:**
1. Implement FLIP animation helper
2. Apply FLIP on lens change
3. Handle cards that enter/exit (fade)
4. Test with 112 documents

### Phase 4: Polish (~100 lines)

**Tasks:**
1. Section headers for grouped lenses
2. Type-ahead search filter
3. Lens persistence (localStorage)
4. Focus ring styling
5. Empty state

---

## File Change Summary

| File | Action | Lines Est. |
|------|--------|------------|
| \`src/types.ts\` | Modify | +10 |
| \`src/views/deck.ts\` | **Create** | ~350 |
| \`src/ui/deck.css\` | **Create** | ~200 |
| \`src/layout/shell.ts\` | Modify | +40 |
| \`src/main.ts\` | Modify | +1 |

**Total new code:** ~550 lines
**Modification touchpoints:** 3 existing files

---

## Card Component Decision

**Option A: Reuse \`createDocumentCard()\`**
- Pro: Consistent with list view
- Con: Cards are wide (full-width design), may not fit grid cells

**Option B: New deck-specific card**
- Pro: Optimized for 200px width, 2-line title
- Con: Some duplication

**Recommendation:** Option B — Create \`createDeckCard()\` optimized for grid cells. The list card has too much horizontal spread (lineage text, connection counts, full timestamp) for a compact grid cell.

### Deck Card Anatomy

\`\`\`typescript
function createDeckCard(doc: Document): HTMLElement {
  // Compact card for ~200px width
  return \`
    <div class="deck-card" data-id="\${doc.id}">
      <div class="deck-card__header">
        <span class="deck-card__icon">\${getDocumentIcon(doc)}</span>
        <span class="deck-card__title">\${doc.title}</span>
      </div>
      <div class="deck-card__footer">
        <span class="deck-card__state">\${getExecutionDots(doc)}</span>
        <span class="deck-card__intent">\${getIntentIcon(doc)}</span>
        <span class="deck-card__type">\${doc.type}</span>
      </div>
    </div>
  \`;
}
\`\`\`

---

## Open Questions

1. **What happens to Cmd+Shift+S (spatial)?**
   - Keep as secondary view for semantic exploration
   - Or deprecate entirely if deck + semantic lens covers the use case

2. **Should deck be the new default view?**
   - Currently list is default
   - Deck might be more useful as browse-all view

3. **How to handle 500+ documents?**
   - CSS Grid should handle it, but may need:
   - Virtual scrolling (defer until needed)
   - Pagination within lens groups

---

## Composition

**Upstream (what informed this survey):**
- [Survey Method](fw-survey-method) — method used
- [Scope: Deck View](inst-scope-deck-view) — requirements

**Downstream (what this survey enables):**
- Implementation of deck view
- Phase-by-phase development

**Related:**
- [Survey: Spatial Canvas Implementation](inst-survey-spatial-canvas-implementation) — alternative approach
- [Scope: List View Aesthetic](inst-scope-list-view-aesthetic) — card design context`,
  },
  {
    id: 'inst-survey-editor-persistence',
    title: 'Survey: Editor Persistence Bug',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['survey', 'editor', 'persistence', 'indexeddb', 'bug'],
    content: `# Survey: Editor Persistence Bug

**Date:** 2026-01-07
**Subject:** Why editor changes don't survive browser refresh
**Method:** Survey Method (static analysis)

---

## Survey

Relevant files:
- \`loomlib/src/views/editor.ts\` — Editor UI, debounced save logic
- \`loomlib/src/data/documents.ts\` — Document CRUD operations
- \`loomlib/src/data/db.ts\` — IndexedDB wrapper
- \`loomlib/src/data/seed.ts\` — Seed data sync on startup
- \`loomlib/src/data/seed-data.ts\` — Authoritative document definitions (auto-generated)
- \`loomlib/src/main.ts\` — App initialization, calls \`syncSeedData()\`

---

## Core Sample

### Entry Points
- **App load:** \`main.ts:init()\` → \`syncSeedData()\` → \`Shell.init()\`
- **Editor save:** \`Editor.handleInput()\` → debounce → \`Editor.save()\` → \`saveDocument()\` → \`putDoc()\`
- **Document load:** \`Editor.load()\` → \`loadDocument()\` → \`getDoc()\`

### Data Flow
\`\`\`
User types → handleInput() → 500ms debounce → save() → saveDocument() → putDoc(IndexedDB)
                    ↓
           Shows "Saved" status
\`\`\`

### Key Abstractions
- **Debounced autosave:** 500ms delay after input before IndexedDB write
- **\`putDoc()\`:** Upserts document to IndexedDB by \`id\` keyPath
- **\`syncSeedData()\`:** Compares seed-data against IndexedDB on every app load

---

## Stratigraphy

### Call Hierarchy (App Startup)
\`\`\`
init()
  ├── syncSeedData()           ← RUNS FIRST, BEFORE SHELL
  │     └── for each seedDoc:
  │           ├── getDoc(id)
  │           └── if content differs → putDoc({...existing, ...seedDoc, modifiedAt: now})
  └── Shell.init()
        └── ListView.refresh()
              └── getAllDocs()
\`\`\`

### State Location
- **IndexedDB:** \`loomlib\` database, \`documents\` object store
- **seed-data.ts:** Compile-time document definitions (authoritative source)
- **Editor state:** \`this.currentDoc\`, \`this.isDirty\`, \`this.textarea.value\`

### Boundary Conditions
- \`syncSeedData()\` checks: \`existing.content !== seedDoc.content\`
- If content differs, the **seed-data wins** — it overwrites the IndexedDB document

---

## Findings

**Root Cause:** The \`syncSeedData()\` function runs on every page load and compares each seed document's content against what's stored in IndexedDB. When it finds a difference, it **overwrites the IndexedDB document with the seed-data version**, preserving only \`createdAt\`. User edits are treated as "drift from authoritative source" and are silently reverted.

This is **working as designed** for managed frameworks (which should be controlled via markdown files and the sync workflow), but creates unexpected behavior:
1. User edits content in browser
2. Editor saves to IndexedDB (works correctly)
3. User refreshes browser
4. \`syncSeedData()\` detects content mismatch
5. Seed-data overwrites the IndexedDB version
6. User's changes are lost

### Key Files

| File | Role |
|------|------|
| \`seed.ts:28-38\` | Overwrites documents when \`existing.content !== seedDoc.content\` |
| \`seed-data.ts\` | Auto-generated, defines authoritative content for managed documents |
| \`editor.ts:243-256\` | Save function (works correctly, writes to IndexedDB) |
| \`main.ts:40\` | Calls \`syncSeedData()\` before any UI interaction |

### Dependencies
- Internal: \`db.ts\` (IndexedDB operations)
- External: Browser IndexedDB API

### Complexity Hotspots
- **Managed vs. user documents:** No distinction in data model between documents that should be sync'd and documents that are user-owned
- **Sync timing:** Happens synchronously at app load, before user can interact

---

## Open Questions

- **Intentional design?** Should managed documents (frameworks, core instances) always reflect seed-data, preventing browser-based editing?
- **User documents:** Where should user-created documents live if seed-data overwrites everything with matching IDs?
- **Edit workflow:** Is the intended flow: edit markdown → run \`/loomlib:sync\` → refresh app? If so, browser editing is read-only for seeded documents.
- **ID collision:** What happens if a user creates a document with an ID that later appears in seed-data?

---

## Diagnosis

The editor **is** saving correctly. The persistence layer works. The issue is the **sync-on-load design pattern** that treats \`seed-data.ts\` as the authoritative source for all documents with matching IDs.

**This is not a bug — it's a design decision.** The question is whether it matches user expectations for browser-based editing.`,
  },
  {
    id: 'inst-survey-loomlib',
    title: 'Survey: Loomlib Architecture',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['survey', 'loomlib', 'architecture', 'indexeddb', 'constellation'],
    content: `# Survey: Loomlib Architecture

**Date:** 2026-01-07
**Subject:** Complete loomlib subsystem architecture and data flow
**Method:** Survey Method (static analysis)

---

## Survey

Relevant files:
- \`src/main.ts\` — Application bootstrap, theme handling, global keyboard shortcuts
- \`src/types.ts\` — Core type definitions: Document, SemanticCategory, Lens system
- \`src/data/db.ts\` — IndexedDB wrapper for document CRUD
- \`src/data/documents.ts\` — Document operations, filtering, metadata
- \`src/data/seed.ts\` — Runtime sync of seed-data to IndexedDB
- \`src/data/seed-data.ts\` — Auto-generated from markdown docs at build time
- \`src/data/graph.ts\` — Graph computation, semantic categorization, slot system
- \`src/data/constellation-config.ts\` — Slot limits, lens configurations
- \`src/layout/shell.ts\` — View orchestration (list/constellation/editor)
- \`src/views/constellation.ts\` — Graph visualization with tethers and nodes
- \`src/views/list.ts\` — Document list view
- \`src/views/editor.ts\` — Markdown editor
- \`src/components/triage-modal.ts\` — Document metadata editor
- \`src/components/command-palette.ts\` — Quick document search/open
- \`src/components/lens-picker.ts\` — Lens selection UI
- \`src/components/formula-bar.ts\` — Production formula display
- \`scripts/generate-seed.ts\` — Build-time markdown-to-TypeScript generator

---

## Core Sample

### Entry Points
1. **Build-time:** \`npm run generate:seed\` runs \`scripts/generate-seed.ts\`
   - Parses \`loomlib/docs/**/*.md\` with gray-matter
   - Validates frontmatter against Document schema
   - Generates \`src/data/seed-data.ts\`

2. **Runtime:** \`src/main.ts::init()\`
   - Calls \`syncSeedData()\` to sync seed-data to IndexedDB
   - Initializes Shell with TriageModal and CommandPalette
   - Sets up global keyboard shortcuts (Cmd+O, Cmd+Shift+L)

### Data Flow
\`\`\`
loomlib/docs/*.md  --[generate-seed.ts]--> src/data/seed-data.ts
                                                |
                                      [vite build / import]
                                                |
                                                v
                                    src/data/seed.ts::syncSeedData()
                                                |
                                      [IndexedDB: loomlib]
                                                |
                                      src/data/db.ts
                                                |
                                      src/data/documents.ts
                                                |
                    +---------------------------+---------------------------+
                    |                           |                           |
              src/views/list.ts      src/views/constellation.ts   src/views/editor.ts
\`\`\`

### Key Abstractions

**Document Type System:**
- 5 document types: \`source | note | framework | instance | index\`
- Frameworks have \`framework_kind\`: \`toolkit | domain\`
- Status progression: \`incubating → draft → verified → captured\`

**Semantic Relationships (8 categories):**
- \`toolkitParent\`, \`domainParent\`, \`sourceParent\` — parent relationships
- \`child\` — documents that reference focus
- \`formulaSibling\` — exact same framework_ids
- \`channelSibling\` — same output channel
- \`perspectiveSibling\` — same perspective
- \`distant\` — unrelated documents

**Lens System:**
- Switchable view modes: \`default\`, \`formula\`, \`production\`, \`lineage\`, \`channel\`, \`perspective\`, \`incubating\`, \`recent\`, \`framework\`, \`semantic\`
- Each lens has \`filter()\` and \`sort()\` functions

---

## Stratigraphy

### Call Hierarchy
\`\`\`
main.ts::init()
  ├── syncSeedData() → db.ts::putDoc()
  ├── Shell.init()
  │     ├── ListView.refresh() → documents.ts::listDocuments()
  │     ├── ConstellationView.refresh()
  │     │     ├── documents.ts::listDocuments()
  │     │     ├── graph.ts::categorizeDocsSemantic()
  │     │     ├── graph.ts::computeGraph()
  │     │     └── render() → renderNodes(), renderTethers()
  │     └── Editor.load()
  ├── TriageModal.open()
  │     └── updateDocumentMetadata() → db.ts::putDoc()
  └── CommandPalette.open()
        └── filterDocuments() → db.ts::getAllDocs()
\`\`\`

### State Location
- **Persistent:** IndexedDB database "loomlib", object store "documents"
  - Indexed by: id (primary), modifiedAt, type, status, output
- **UI State (per-view):**
  - Shell: \`currentView\` ('list' | 'constellation' | 'editor')
  - ConstellationView: \`focusedId\`, \`activeLens\`, \`slotOffsets\`, \`categorizedDocs\`
  - ListView: internal scroll/selection state
  - Editor: current document ID, content buffer

### Boundary Conditions
- **Seed sync:** Adds new docs, updates changed content, preserves user docs
- **Framework deletion:** Blocked if children exist (orphan protection)
- **Slot limits:** Adaptive based on document count (<20, 20-50, >50)
- **Graph rendering:** Only tethers connected to focus node are rendered

---

## Findings

Loomlib is a single-page application for managing a personal knowledge library organized around a "production formula" metaphor. Documents flow from sources through frameworks (toolkits + domains) to produce instances. The system uses a build-time pipeline that converts markdown files with YAML frontmatter into TypeScript, which then syncs to IndexedDB at runtime. The constellation view provides a graph-based interface with semantic categorization of relationships, allowing users to explore documents by production lineage, output channel, or perspective. The lens system enables focused exploration by filtering and sorting the graph.

### Key Files

| File | Role |
|------|------|
| \`src/main.ts\` | Bootstrap, global shortcuts, theme |
| \`src/types.ts\` | Type definitions, icons, colors |
| \`src/data/db.ts\` | IndexedDB operations |
| \`src/data/seed.ts\` | Runtime seed sync |
| \`src/data/graph.ts\` | Semantic categorization, graph layout |
| \`src/data/constellation-config.ts\` | Slot limits, lens configs |
| \`src/layout/shell.ts\` | View orchestration |
| \`src/views/constellation.ts\` | Graph visualization |
| \`scripts/generate-seed.ts\` | Build-time markdown→TS |

### Dependencies
- **Internal:** Clean separation between data layer (db, documents, graph) and UI layer (views, components)
- **External:**
  - Vite (bundler)
  - gray-matter (frontmatter parsing, build-time only)
  - IndexedDB (browser-native storage)
  - No runtime dependencies beyond browser APIs

### Complexity Hotspots
- \`graph.ts::categorizeDocsSemantic()\` — Complex 8-way classification logic
- \`constellation.ts\` — 600+ lines managing graph rendering, slots, lenses, previews
- \`generate-seed.ts\` — Validation logic duplicates type definitions from \`types.ts\`

---

## Open Questions

- How does the \`semantic\` lens (AI-inferred similarity) intend to work? Currently marked \`available: false\`.
- What is the \`captured\` status used for? Appears in types but not well-documented.
- How are \`index\` documents intended to function? The type exists but no special handling visible.
- Is there a migration path for IndexedDB schema changes? Current version is 1.
- The constellation slot position system (\`SLOT_POSITIONS\`) in config doesn't seem to be used by \`graph.ts::computePositions()\` which has its own positioning logic.`,
  },
  {
    id: 'inst-survey-loomlib-startup',
    title: 'Survey: How to Start Loomlib',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['survey', 'startup', 'development', 'vite'],
    content: `# Survey: How to Start Loomlib

**Date:** 2026-01-07
**Subject:** Loomlib application startup process
**Method:** Survey Method (static analysis)

---

## Survey

Relevant files:
- \`loomlib/package.json\` — npm scripts for dev, build, test
- \`loomlib/index.html\` — HTML entry point, loads \`/src/main.ts\`
- \`loomlib/vite.config.ts\` — Vite configuration (base path, build output)
- \`loomlib/src/main.ts\` — Application bootstrap
- \`loomlib/src/data/db.ts\` — IndexedDB initialization
- \`loomlib/src/data/seed.ts\` — Database seeding logic
- \`loomlib/src/data/seed-data.ts\` — Authoritative document definitions
- \`loomlib/src/layout/shell.ts\` — Main UI orchestration
- \`loomlib/src/types.ts\` — Core type definitions

---

## Core Sample

### Entry Points

**npm scripts (package.json:5-11):**
\`\`\`
npm run dev      → vite          (development server)
npm run build    → tsc && vite build
npm run preview  → vite preview  (production preview)
npm run test     → vitest run
\`\`\`

**HTML → TypeScript:**
\`index.html\` loads \`/src/main.ts\` as ES module.

**Application bootstrap (main.ts:31-106):**
\`\`\`
init() →
  1. loadTheme()
  2. seedIfEmpty()           ← seeds if IndexedDB empty
  3. updateManagedFrameworks() ← always updates 8 core frameworks
  4. new Shell(app)          ← creates views
  5. new TriageModal()
  6. new CommandPalette()
  7. shell.init()            ← loads list view
  8. Global keyboard handlers
\`\`\`

### Data Flow

\`\`\`
seed-data.ts (TypeScript objects)
      ↓
seed.ts (seedIfEmpty, updateManagedFrameworks)
      ↓
db.ts (putDoc → IndexedDB)
      ↓
Shell → ListView/ConstellationView/Editor
      ↓
Browser DOM
\`\`\`

### Key Abstractions

1. **Document** — Core entity with \`id\`, \`title\`, \`content\`, \`type\`, \`framework_ids\`, \`status\`, etc.
2. **Shell** — View orchestrator managing list/constellation/editor transitions
3. **IndexedDB singleton** — Lazy-opened database with indexes on \`modifiedAt\`, \`type\`, \`status\`, \`output\`
4. **Managed frameworks** — 8 framework IDs that auto-update on every app load

---

## Stratigraphy

### Call Hierarchy

\`\`\`
index.html
  └── /src/main.ts
        └── init()
              ├── loadTheme() ← localStorage read
              ├── seedIfEmpty() ← db.ts → IndexedDB
              ├── updateManagedFrameworks() ← always runs
              ├── new Shell()
              │     ├── new ListView()
              │     ├── new ConstellationView()
              │     └── new Editor()
              ├── new TriageModal()
              ├── new CommandPalette()
              └── shell.init()
                    └── listView.refresh()
\`\`\`

### State Location

| State | Location | Persistence |
|-------|----------|-------------|
| Theme | \`localStorage['loomlib:theme']\` | Persistent |
| Documents | IndexedDB \`loomlib.documents\` | Persistent |
| Current view | \`Shell.currentView\` | Session |
| Open document | \`Editor\` instance | Session |

### Boundary Conditions

- **No dependencies** — Zero npm runtime deps (devDeps only: fake-indexeddb, TypeScript, Vite, Vitest)
- **Browser-only** — Uses IndexedDB, localStorage, DOM APIs
- **Base path** — Configured for \`/loomcommander/loomlib/\` (GitHub Pages deployment)

---

## Findings

Loomlib starts as a standard Vite application. The HTML entry point loads \`main.ts\`, which orchestrates a sequential bootstrap: theme loading from localStorage, database seeding if empty, forced update of 8 "managed" framework documents to ensure they always reflect the latest TypeScript definitions, and finally Shell initialization which creates the three main views (list, constellation, editor) and shows the list view. The application is deliberately dependency-free at runtime, relying only on browser APIs (IndexedDB, localStorage, DOM). State is divided between persistent (IndexedDB for documents, localStorage for theme) and ephemeral (current view mode, open document).

### Key Files

| File | Role |
|------|------|
| \`package.json\` | Defines \`npm run dev\` as Vite dev server |
| \`main.ts\` | Bootstrap: theme → seed → shell → modals → keyboard |
| \`db.ts\` | IndexedDB CRUD with lazy singleton pattern |
| \`seed.ts\` | Seeds empty DB, updates managed frameworks |
| \`seed-data.ts\` | Authoritative document content (TypeScript) |
| \`shell.ts\` | View orchestration, keyboard shortcuts |
| \`types.ts\` | Document type, ViewMode, TypeScript interfaces |

### Dependencies

- **Internal:** Shell → ListView, ConstellationView, Editor; all views → db.ts
- **External:** Browser IndexedDB API, localStorage API

### Complexity Hotspots

- **seed-data.ts** — Single point of truth for all document content; will grow large
- **Managed framework sync** — Runs on every load, compares content for changes
- **No markdown sync** — Markdown files in \`/docs/\` are not auto-imported (manual process)

---

## Open Questions

- Does \`updateManagedFrameworks()\` need to run on every page load, or only when seed-data.ts changes?
- What's the planned mechanism for \`/loomlib:sync\` to import markdown from \`/docs/\` into \`seed-data.ts\`?
- Should theme loading block the rest of init, or can it be parallel?
- How will the app handle IndexedDB quota limits as document count grows?

---

## Resolution (2026-01-07)

**Questions 1-2 have been answered:**

1. **\`updateManagedFrameworks()\` was deleted.** It was replaced by \`syncSeedData()\`, which runs on every page load and syncs ALL seed-data documents (not just 8 hardcoded frameworks).

2. **\`/loomlib:sync\` now exists.** It reads markdown from \`loomlib/docs/\`, parses YAML frontmatter, and generates \`seed-data.ts\`.

**Updated bootstrap sequence (main.ts):**
\`\`\`
init() →
  1. loadTheme()
  2. syncSeedData()  ← replaces seedIfEmpty + updateManagedFrameworks
  3. new Shell(app)
  ...
\`\`\`

Questions 3-4 remain open.`,
  },
  {
    id: 'inst-survey-spatial-canvas-implementation',
    title: 'Survey: Spatial Canvas Implementation',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['survey', 'spatial', 'canvas', 'implementation'],
    content: `# Survey: Spatial Canvas Implementation

**Date:** 2025-01-10
**Subject:** Implementation path for spatial canvas list view
**Method:** Survey Method (static analysis)

---

## Survey

### Relevant Files

**Core (must modify):**
- \`loomlib/src/views/list.ts\` — Current list view, to be replaced/extended
- \`loomlib/src/types.ts\` — Document interface needs \`x\`, \`y\` coords
- \`loomlib/scripts/generate-seed.ts\` — Build-time processing, add UMAP
- \`loomlib/package.json\` — Add umap-js dependency

**Shell integration:**
- \`loomlib/src/layout/shell.ts\` — View switching, may need new view slot
- \`loomlib/src/ui/list.css\` — Replace with spatial canvas styles

**Data layer (reference):**
- \`loomlib/src/data/embeddings.ts\` — Voyage AI integration (existing)
- \`loomlib/src/data/similarity.ts\` — Cosine similarity (existing)
- \`loomlib/src/data/db.ts\` — IndexedDB, embeddings store (existing)
- \`loomlib/src/data/seed-data.ts\` — Auto-generated, will include coords

**Pattern reference (don't modify):**
- \`loomlib/src/views/constellation.ts\` — Existing spatial view pattern
- \`loomlib/src/ui/constellation.css\` — SVG + positioned nodes pattern
- \`loomlib/src/data/graph.ts\` — Layout computation pattern

**Components (may extend):**
- \`loomlib/src/components/document-card.ts\` — Card rendering
- \`loomlib/src/components/lens-picker.ts\` — Overlay picker pattern

---

## Core Sample

### Entry Points

1. **Build-time:** \`npm run dev\` → \`npm run generate:seed\` → \`scripts/generate-seed.ts\`
   - Reads markdown from \`docs/\`
   - Validates frontmatter
   - Outputs \`src/data/seed-data.ts\`
   - **Gap:** No UMAP projection here

2. **Runtime initialization:** \`main.ts\` → \`Shell\` constructor → \`ListView\` constructor
   - Shell creates view containers
   - ListView creates DOM structure (header, filters, list, footer)
   - \`init()\` calls \`listView.refresh()\` which fetches documents

3. **Data flow:** \`ListView.refresh()\` → \`listDocuments()\` → API/IndexedDB → \`renderCardList()\`

### Data Flow

\`\`\`
┌─────────────────────────────────────────────────────────────────────────┐
│ BUILD TIME                                                               │
│                                                                          │
│ docs/*.md ──parse──→ seed-data.ts ──(missing)──→ coords in seed         │
│                           │                                              │
│ Voyage API ←─────────────(embeddings stored in IndexedDB at runtime)    │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│ RUNTIME                                                                  │
│                                                                          │
│ seed-data ──→ IndexedDB ──→ listDocuments() ──→ ListView.render()       │
│                                                                          │
│ embeddings ──→ IndexedDB ──→ getAllEmbeddings() ──→ (used by FlowView)  │
└─────────────────────────────────────────────────────────────────────────┘
\`\`\`

### Key Abstractions

1. **View pattern:** Each view class has \`show()\`, \`hide()\`, \`refresh()\`, \`focus()\`, constructor takes container + options
2. **Document type:** Lives in \`types.ts\`, includes all frontmatter fields
3. **Card rendering:** \`document-card.ts\` exports \`createDocumentCard()\` and \`renderCardList()\`
4. **Layout computation:** \`graph.ts\` computes positions based on relationships (not embeddings)
5. **SVG + DOM hybrid:** Constellation uses SVG for tethers, absolute-positioned divs for nodes

---

## Stratigraphy

### Call Hierarchy

\`\`\`
Shell
├── ListView
│   ├── listDocuments() → API → IndexedDB
│   ├── renderCardList() → createDocumentCard()
│   └── applyFilters() → render()
│
├── ConstellationView
│   ├── listDocuments()
│   ├── computeGraph() → graph.ts
│   ├── renderTethers() → SVG manipulation
│   └── renderNodes() → DOM creation/update
│
├── FlowView
│   ├── listDocuments()
│   ├── getAllEmbeddings() → db.ts
│   ├── findMostSimilar() → similarity.ts
│   └── render() → DOM zones
│
└── Editor
    └── load() / save()
\`\`\`

### State Location

| State | Location | Notes |
|-------|----------|-------|
| Documents | IndexedDB (\`documents\` store) | Source of truth |
| Embeddings | IndexedDB (\`embeddings\` store) | 1024-dim vectors from Voyage |
| Current view | \`Shell.currentView\` | \`'list' | 'constellation' | 'flow' | 'editor'\` |
| Focused doc | Per-view (e.g., \`focusedId\`) | Not shared across views |
| Filter state | \`ListView.activeStateFilters\`, \`activeIntentFilters\` | Sets |
| Lens state | \`ConstellationView.activeLens\` | LensId |

### Boundary Conditions

- **No server in production:** Build compiles to static files, IndexedDB is client-only
- **Embeddings require API key:** Stored in localStorage, optional feature
- **No 2D coords currently:** Embeddings exist but no UMAP projection
- **Card size fixed:** Cards don't adapt to zoom level
- **No pan/zoom:** List scrolls vertically, no 2D navigation

---

## Findings

The loomlib codebase has a clean separation: Shell manages view switching, views handle their own rendering, data layer provides IndexedDB access. The **ConstellationView** already implements a spatial layout pattern (SVG tethers + positioned DOM nodes), but positions are computed from relationship semantics (parent/child/sibling), not from embedding similarity.

**Key insight:** FlowView already fetches embeddings and uses \`findMostSimilar()\` for semantic siblings. The missing piece is **UMAP projection** to convert 1024-dim embeddings → 2D coordinates.

**Implementation strategy:** Create a new \`SpatialView\` that:
1. Uses UMAP-projected coordinates for document positions
2. Borrows the SVG + positioned-node pattern from ConstellationView
3. Adds overlay system for toggling rendering modes
4. Implements pan/zoom via d3-zoom or CSS transforms

### Key Files

| File | Role | Change Required |
|------|------|-----------------|
| \`types.ts\` | Document interface | Add \`umap_x?: number\`, \`umap_y?: number\` |
| \`generate-seed.ts\` | Build-time processing | Add UMAP computation |
| \`package.json\` | Dependencies | Add \`umap-js\` |
| \`views/spatial.ts\` | **NEW** | Spatial canvas view |
| \`ui/spatial.css\` | **NEW** | Styles for spatial view |
| \`shell.ts\` | View management | Add spatial view slot |
| \`components/overlay-picker.ts\` | **NEW** | Overlay toggle UI |

### Dependencies

**Internal:**
- \`data/documents.ts\` — \`listDocuments()\`
- \`data/db.ts\` — \`getAllEmbeddings()\`
- \`data/similarity.ts\` — May extend for UMAP
- \`types.ts\` — Document interface

**External (new):**
- \`umap-js\` — UMAP implementation for JS/TS
- Optionally: \`d3-zoom\` for pan/zoom (or custom)

### Complexity Hotspots

1. **Build-time embedding fetch:** UMAP needs all embeddings at build time, but embeddings are fetched at runtime from Voyage API. **Decision required.**

2. **Pan/zoom performance:** With 100+ documents, DOM-based positioning may lag. May need canvas or WebGL for large graphs.

3. **Overlay compositing:** Multiple overlays (type color + state pulse + recency fade) need clean compositing.

4. **Coordinate persistence:** If user drags documents, need to store custom positions.

---

## Open Questions

1. **Where do embeddings come from at build time?**
   - Option A: Pre-compute embeddings and store in markdown frontmatter
   - Option B: Fetch at build time (requires API key in CI)
   - Option C: Compute UMAP at runtime (first load only, cache in IndexedDB)

2. **Replace list view or add new view?**
   - Replace: Simpler shell, spatial becomes default list
   - Add: Keep traditional list, spatial is opt-in (Cmd+Shift+S)

3. **Canvas vs DOM for nodes?**
   - DOM: Easier text rendering, existing card component
   - Canvas/WebGL: Better performance for 500+ nodes

4. **Overlay architecture?**
   - CSS classes toggle (\`.overlay-type\`, \`.overlay-state\`)
   - Or full re-render per overlay

---

## Decisions

Decisions required before implementation:

| Question | Options | Decision | Rationale |
|----------|---------|----------|-----------|
| Embedding source at build time | A: frontmatter / B: build-time fetch / **C: runtime UMAP** | **C** | Embeddings already runtime-fetched; UMAP can cache result in IndexedDB after first computation |
| View architecture | A: replace list / **B: add spatial view** | **B** | Traditional list still useful for quick scan; spatial is exploratory mode |
| Rendering tech | **A: DOM** / B: Canvas | **A** | <200 docs, DOM is fine; reuse card component; defer canvas optimization |
| Overlay system | **A: CSS class toggle** / B: re-render | **A** | Performance; overlays are visual modifiers, not structural changes |

### Implementation Constraints (from decisions)

1. **Runtime UMAP:** Add \`umap-js\` as runtime dependency, compute on first \`SpatialView.show()\`, cache \`{docId, x, y}\` in IndexedDB
2. **New view slot:** Shell gets \`spatialView\` alongside existing views, toggled via Cmd+Shift+S
3. **DOM-based nodes:** Extend ConstellationView pattern, absolute-positioned cards
4. **CSS overlay classes:** \`.spatial-node--overlay-type\`, \`.spatial-node--overlay-state\`, etc.

---

## Implementation Plan

### Phase 1: Infrastructure

**Files to create/modify:**

\`\`\`
loomlib/
├── package.json              # Add umap-js
├── src/
│   ├── types.ts              # Add UmapCoord interface, optional coords on Document
│   ├── data/
│   │   ├── umap.ts           # NEW: UMAP computation + IndexedDB cache
│   │   └── db.ts             # Add umap coords store
│   └── ...
\`\`\`

**Tasks:**
1. \`npm install umap-js\`
2. Add \`UmapCoordsStore\` to IndexedDB (version 3)
3. Create \`data/umap.ts\`:
   - \`computeUmapCoords(embeddings: Map<string, number[]>): Promise<Map<string, {x, y}>>\`
   - \`getCachedUmapCoords()\`: Load from IndexedDB
   - \`cacheUmapCoords()\`: Save to IndexedDB
   - \`isUmapStale(embeddingHashes)\`: Check if recomputation needed

### Phase 2: Spatial View Core

**Files to create:**

\`\`\`
loomlib/src/
├── views/
│   └── spatial.ts            # NEW: SpatialView class
├── ui/
│   └── spatial.css           # NEW: Spatial canvas styles
\`\`\`

**SpatialView structure:**
\`\`\`typescript
class SpatialView {
  // State
  private docs: Document[]
  private coords: Map<string, {x, y}>
  private viewport: {x, y, zoom}
  private activeOverlays: Set<OverlayId>

  // Lifecycle
  async refresh(): Promise<void>  // Fetch docs + embeddings + UMAP
  show(): void
  hide(): void
  focus(): void

  // Rendering
  private renderNodes(): void      // Positioned cards
  private applyOverlays(): void    // CSS class manipulation

  // Interaction
  private handlePan(dx, dy): void
  private handleZoom(scale): void
  private handleNodeClick(id): void
}
\`\`\`

**Tasks:**
1. Create \`SpatialView\` class following ConstellationView pattern
2. Implement viewport state (pan/zoom via CSS transform on container)
3. Render nodes at UMAP-derived positions
4. Add to Shell view cycle

### Phase 3: Overlay System

**Files to create/modify:**

\`\`\`
loomlib/src/
├── components/
│   └── overlay-picker.ts     # NEW: Overlay selection UI
├── ui/
│   └── spatial.css           # Overlay-specific styles
\`\`\`

**Overlays:**
| ID | CSS class | Effect |
|----|-----------|--------|
| \`type\` | \`.spatial-node--type-{type}\` | Background color by document type |
| \`state\` | \`.spatial-node--state-{state}\` | Border/glow by execution state |
| \`intent\` | \`.spatial-node--intent-{intent}\` | Icon tint by intent |
| \`recency\` | \`.spatial-node--recency-{bucket}\` | Opacity by age |
| \`lineage\` | (special) | Show/hide tether lines |

**Tasks:**
1. Create \`OverlayPicker\` component (based on LensPicker pattern)
2. Add overlay CSS rules to \`spatial.css\`
3. Bind number keys 1-5 to overlay toggles
4. Implement overlay compositing (multiple overlays active)

### Phase 4: Polish

**Tasks:**
1. Semantic zoom (cluster labels when zoomed out, cards when zoomed in)
2. Minimap for navigation
3. Custom position persistence (drag override)
4. Keyboard navigation (arrow keys move between neighbors)
5. Search highlight (matching docs glow)

---

## File Change Summary

| File | Action | Lines Est. |
|------|--------|------------|
| \`package.json\` | Modify | +1 |
| \`src/types.ts\` | Modify | +10 |
| \`src/data/db.ts\` | Modify | +50 |
| \`src/data/umap.ts\` | **Create** | ~150 |
| \`src/views/spatial.ts\` | **Create** | ~400 |
| \`src/ui/spatial.css\` | **Create** | ~300 |
| \`src/components/overlay-picker.ts\` | **Create** | ~150 |
| \`src/layout/shell.ts\` | Modify | +30 |

**Total new code:** ~1,100 lines
**Modification touchpoints:** 4 existing files

---

## Composition

**Upstream (what informed this survey):**
- [Survey Method](fw-survey-method) — method used
- [Scope: Spatial Canvas List View](inst-scope-spatial-canvas-list) — requirements
- [Survey: Constellation View Implementation](inst-survey-constellation-view) — pattern reference

**Downstream (what this survey enables):**
- Implementation of spatial canvas view
- Phase-by-phase development tickets

**Related (discovered but not upstream):**
- \`inst-scope-constellation-aesthetic\` — visual design reference
- \`inst-scope-list-view-aesthetic\` — list design context`,
  },
  {
    id: 'inst-survey-tag-filter-system',
    title: 'Survey: Tag Filter System Implementation',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['survey', 'tags', 'filtering', 'list-view', 'ux', 'animation'],
    content: `# Survey: Tag Filter System Implementation

**Date:** 2026-01-10
**Subject:** Implementing a unique tag list with scrolling animation and selection filtering
**Method:** Survey Method (codebase investigation)

---

## Core Sample

### Request Analysis

The user wants a tag filter row below the existing type/state filter chips that:

1. **Extracts unique tags** from all documents
2. **Respects current lens/filters** (e.g., if viewing only "research" intent, show tags from research documents only)
3. **Displays as animating "rollover" scroll** — tags continuously scroll horizontally
4. **Selected tag becomes static** — pinned to the left
5. **Clicking a tag filters** the document list to only those with that tag

### Existing Infrastructure

#### Tag Data Already Available

\`\`\`typescript
// loomlib/src/data/documents.ts:183-192
export async function getUniqueTags(): Promise<string[]> {
  const docs = await getAllDocs();
  const tags = new Set<string>();
  for (const doc of docs) {
    for (const tag of doc.tags) {
      tags.add(tag);
    }
  }
  return Array.from(tags).sort();
}
\`\`\`

This function already exists but doesn't filter by current view context. It returns ALL tags across ALL documents.

#### Current Filter System

\`\`\`typescript
// loomlib/src/views/list.ts:14-28
const EXECUTION_STATES: ExecutionState[] = ['pending', 'in_progress', 'completed', 'resolved'];
const INTENTS: DocumentIntent[] = ['research', 'build', 'capture', 'organize', 'produce'];

// Active filters stored as Sets
private activeStateFilters: Set<ExecutionState> = new Set();
private activeIntentFilters: Set<DocumentIntent> = new Set();
\`\`\`

Tags would need a third filter dimension:
\`\`\`typescript
private activeTagFilter: string | null = null; // Single selection, not multi-select
\`\`\`

#### Filter Application Logic

\`\`\`typescript
// loomlib/src/views/list.ts:141-171
private applyFilters(): void {
  const query = this.searchInput.value.toLowerCase();

  this.filteredDocs = this.docs.filter(doc => {
    // Text search
    if (query) {
      const matchesQuery =
        doc.title.toLowerCase().includes(query) ||
        doc.content.toLowerCase().includes(query) ||
        doc.tags.some(t => t.toLowerCase().includes(query));
      if (!matchesQuery) return false;
    }

    // Execution state filter
    if (this.activeStateFilters.size > 0) {
      const docState = doc.execution_state ?? 'pending';
      if (!this.activeStateFilters.has(docState)) return false;
    }

    // Intent filter
    if (this.activeIntentFilters.size > 0) {
      const docIntent = doc.intent ?? DEFAULT_INTENT[doc.type];
      if (!this.activeIntentFilters.has(docIntent)) return false;
    }

    return true;
  });
  // ...
}
\`\`\`

Tag filtering would add:
\`\`\`typescript
// Tag filter (single selection)
if (this.activeTagFilter) {
  if (!doc.tags.includes(this.activeTagFilter)) return false;
}
\`\`\`

---

## Stratigraphy

### Layer 1: Data Extraction (tags respecting current filters)

**Challenge:** \`getUniqueTags()\` returns all tags. We need tags from currently visible documents only.

**Solution:** Compute tags from \`this.filteredDocs\` (before tag filter is applied), or from docs matching state/intent filters (excluding tag filter to avoid chicken-and-egg).

\`\`\`typescript
private getContextualTags(): string[] {
  // Get docs that match state/intent filters (but ignore tag filter)
  const contextDocs = this.docs.filter(doc => {
    if (this.activeStateFilters.size > 0) {
      const docState = doc.execution_state ?? 'pending';
      if (!this.activeStateFilters.has(docState)) return false;
    }
    if (this.activeIntentFilters.size > 0) {
      const docIntent = doc.intent ?? DEFAULT_INTENT[doc.type];
      if (!this.activeIntentFilters.has(docIntent)) return false;
    }
    return true;
  });

  // Extract unique tags from these docs
  const tags = new Set<string>();
  for (const doc of contextDocs) {
    for (const tag of doc.tags) {
      tags.add(tag);
    }
  }
  return Array.from(tags).sort();
}
\`\`\`

### Layer 2: UI Structure

Current filter HTML structure:

\`\`\`html
<div class="list-view__filters">
  <div class="list-view__filter-group list-view__filter-group--state"></div>
  <div class="list-view__filter-group list-view__filter-group--intent"></div>
</div>
\`\`\`

Add a third row for tags:

\`\`\`html
<div class="list-view__filters">
  <div class="list-view__filter-group list-view__filter-group--state"></div>
  <div class="list-view__filter-group list-view__filter-group--intent"></div>
</div>
<div class="list-view__tag-filter">
  <span class="list-view__tag-selected"></span>  <!-- Static selected tag (or empty) -->
  <div class="list-view__tag-scroll">             <!-- Animating container -->
    <!-- Tag chips injected here -->
  </div>
</div>
\`\`\`

### Layer 3: Animation Mechanics

**"Rollover scroll"** — Tags scroll left continuously like a ticker. User can:
- Let it scroll to discover tags
- Click any tag to select it
- Clicking pauses or the selected tag "pulls out" to the static left position

**Implementation Options:**

**Option A: CSS \`marquee\` / \`animation\`**
\`\`\`css
.list-view__tag-scroll {
  overflow: hidden;
  white-space: nowrap;
}

.list-view__tag-scroll-inner {
  display: inline-block;
  animation: scroll-left 20s linear infinite;
}

@keyframes scroll-left {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
\`\`\`

Duplicate tags once so the loop is seamless:
\`\`\`
[tag1] [tag2] [tag3] [tag1] [tag2] [tag3]
                     ↑ when this reaches 0, reset to start
\`\`\`

**Option B: JavaScript \`requestAnimationFrame\`**
More control over speed, pause on hover, resume after selection. Heavier but more flexible.

**Option C: CSS scroll-snap + JS nudge**
Horizontal scroll container with periodic scroll nudges.

**Recommendation:** Option A (CSS animation) for simplicity, with hover pause via:
\`\`\`css
.list-view__tag-scroll:hover .list-view__tag-scroll-inner {
  animation-play-state: paused;
}
\`\`\`

### Layer 4: Selection Behavior

When a tag is clicked:

1. **Selected tag moves to static position** on the left
2. **Tag filter is applied** to document list
3. **Remaining tags continue scrolling** (minus the selected one)
4. **Click selected tag again to deselect** (clears filter)

\`\`\`typescript
private activeTagFilter: string | null = null;

private selectTag(tag: string): void {
  if (this.activeTagFilter === tag) {
    // Deselect
    this.activeTagFilter = null;
  } else {
    this.activeTagFilter = tag;
  }
  this.renderTagFilter();  // Re-render tag row
  this.applyFilters();     // Re-filter documents
}
\`\`\`

### Layer 5: CSS Structure

\`\`\`css
.list-view__tag-filter {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-top: var(--space-sm);
  height: 28px;  /* Fixed height */
  overflow: hidden;
}

.list-view__tag-selected {
  flex-shrink: 0;
  /* Same styling as active chip */
}

.list-view__tag-selected:empty {
  display: none;
}

.list-view__tag-scroll {
  flex: 1;
  overflow: hidden;
  position: relative;
  mask-image: linear-gradient(
    to right,
    transparent 0%,
    black 10%,
    black 90%,
    transparent 100%
  );  /* Fade edges */
}

.list-view__tag-scroll-inner {
  display: inline-flex;
  gap: var(--space-xs);
  animation: tag-scroll 30s linear infinite;
}

.list-view__tag-scroll:hover .list-view__tag-scroll-inner {
  animation-play-state: paused;
}

@keyframes tag-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
\`\`\`

---

## Findings

### 1. Tag Data Pipeline Exists

\`getUniqueTags()\` in \`documents.ts\` already extracts unique tags. Needs modification or a parallel function to accept a document subset.

### 2. Filter System is Composable

State and intent filters use the same pattern (Set of active values, toggle function, applyFilters rerun). Tag filter follows the same shape but is single-select (string | null) not multi-select.

### 3. Animation is CSS-Native

CSS \`animation\` with \`translateX(-50%)\` on a duplicated tag list creates infinite scroll. No JavaScript loop needed. Pause on hover is one line.

### 4. Selected Tag as "Breakout" Element

The selected tag should visually "break out" of the scroll and anchor left. This is a layout change, not just styling:
- Before selection: \`[scroll container with all tags]\`
- After selection: \`[selected chip] | [scroll container minus selected]\`

### 5. Fade Edges Give Infinite Feel

\`mask-image: linear-gradient(...)\` fades left/right edges, hiding the loop seam and creating a "window into infinite scroll" aesthetic.

### 6. Performance Considerations

- **Tag count:** Typical loomlib has 20-50 unique tags — no virtualization needed
- **Animation:** CSS transforms are GPU-accelerated, 60fps trivial
- **Re-render:** Only on filter change, not per-frame

### 7. Integration Points

| File | Changes Needed |
|------|----------------|
| \`list.ts\` | Add \`activeTagFilter\`, \`getContextualTags()\`, \`renderTagFilter()\`, update \`applyFilters()\` |
| \`list.css\` | Add \`.list-view__tag-filter\`, \`.list-view__tag-scroll\`, animation keyframes |
| \`documents.ts\` | Optional: add \`getTagsFromDocs(docs: Document[])\` helper |

### 8. Edge Cases

- **No tags match current filters:** Hide tag row or show "No tags" message
- **Only one tag:** Still scrolls (just slower/single item loop)
- **Very long tag:** Truncate with ellipsis, full text on hover
- **Tag with special characters:** Already handled (tags are plain strings)

---

## Implementation Sketch

\`\`\`typescript
// In ListView class

private activeTagFilter: string | null = null;
private tagScrollContainer: HTMLElement | null = null;

// After existing renderFilterChips(), add:
private renderTagFilter(): void {
  const tags = this.getContextualTags();
  const tagFilter = this.container.querySelector('.list-view__tag-filter');
  if (!tagFilter) return;

  const selectedEl = tagFilter.querySelector('.list-view__tag-selected')!;
  const scrollEl = tagFilter.querySelector('.list-view__tag-scroll')!;

  // Render selected tag (if any)
  if (this.activeTagFilter) {
    selectedEl.innerHTML = \`
      <button class="list-view__chip list-view__chip--tag list-view__chip--active" data-tag="\${this.activeTagFilter}">
        \${this.activeTagFilter}
      </button>
    \`;
    selectedEl.querySelector('button')?.addEventListener('click', () => this.selectTag(this.activeTagFilter!));
  } else {
    selectedEl.innerHTML = '';
  }

  // Filter out selected tag from scroll
  const scrollTags = tags.filter(t => t !== this.activeTagFilter);

  if (scrollTags.length === 0) {
    scrollEl.innerHTML = '';
    return;
  }

  // Duplicate for seamless loop
  const tagsHtml = scrollTags.map(t => \`
    <button class="list-view__chip list-view__chip--tag" data-tag="\${t}">\${t}</button>
  \`).join('');

  scrollEl.innerHTML = \`
    <div class="list-view__tag-scroll-inner">
      \${tagsHtml}
      \${tagsHtml}
    </div>
  \`;

  // Bind click handlers
  scrollEl.querySelectorAll('.list-view__chip--tag').forEach(chip => {
    chip.addEventListener('click', () => {
      const tag = (chip as HTMLElement).dataset.tag!;
      this.selectTag(tag);
    });
  });
}

private getContextualTags(): string[] {
  // Filter by state/intent but NOT by tag (avoid circular)
  const contextDocs = this.docs.filter(doc => {
    if (this.activeStateFilters.size > 0) {
      const docState = doc.execution_state ?? 'pending';
      if (!this.activeStateFilters.has(docState)) return false;
    }
    if (this.activeIntentFilters.size > 0) {
      const docIntent = doc.intent ?? DEFAULT_INTENT[doc.type];
      if (!this.activeIntentFilters.has(docIntent)) return false;
    }
    return true;
  });

  const tags = new Set<string>();
  for (const doc of contextDocs) {
    for (const tag of doc.tags) tags.add(tag);
  }
  return Array.from(tags).sort();
}

private selectTag(tag: string): void {
  this.activeTagFilter = this.activeTagFilter === tag ? null : tag;
  this.renderTagFilter();
  this.applyFilters();
}

// Modify applyFilters to include tag:
private applyFilters(): void {
  // ... existing logic ...

  // Add after intent filter:
  if (this.activeTagFilter) {
    if (!doc.tags.includes(this.activeTagFilter)) return false;
  }

  // Also re-render tag filter (tags may have changed)
  this.renderTagFilter();
}
\`\`\`

---

## Composition

### Upstream (What Informed This)
- \`fw-survey-method\`: structural investigation approach
- \`inst-scope-list-view-aesthetic\`: prior UX analysis, filter controls as a "should have"

### Downstream (What This Enables)
- Direct implementation of tag filtering in \`list.ts\`
- Scope document for animation polish (if needed)
- Could extend to other views (deck, spatial) with same tag data

### Warrior Assessment
This is Magician work (research/architecture) that directly enables Warrior work (implementation). The implementation sketch is concrete enough to code from.`,
  },
  {
    id: 'inst-synthesis-feedback-systems',
    title: 'Synthesis: Feedback and Systems Thinking',
    type: 'instance',
    framework_kind: null,
    perspective: 'linguistic-recovery',
    framework_ids: [],
    source_id: null,
    output: 'etymon',
    status: 'draft',
    tags: ['synthesis', 'feedback', 'systems', 'cybernetics', 'drift', 'circular-causality'],
    content: `# Synthesis: Feedback and Systems Thinking

**Date:** 2026-01-08
**Sources synthesized:**
- [Excavation: FEEDBACK](inst-excavate-feedback)
- [Systems Thinking](src-systems-thinking)

---

## The Emergent Insight

**Systems thinking and "feedback" drifted in opposite directions — and this divergence explains why organizations that claim to be "learning systems" often aren't.**

Systems thinking preserved the loop. The field maintains "feedback loop" as a technical term meaning circular causality — output returning to input. When Meadows, Senge, and Forrester use "feedback," they mean what Wiener meant: self-regulation through recursive influence.

But when "feedback" crossed from systems engineering into management and psychology, it lost the loop. "Giving feedback" became linear: information flows one direction, from evaluator to evaluated. The circularity that defines the systems concept vanished.

**The synthesis reveals:** Organizations that adopt "feedback culture" often believe they're implementing systems thinking. But by using the drifted meaning — feedback as one-way evaluation — they enact the opposite of what systems thinking prescribes. They linearize where they should circularize.

---

## Source Contributions

### From Excavation: FEEDBACK

- **Key claim:** Feedback originally named circular causality — output returning to input
- **Drift pattern:** CIRCULAR → LINEAR, SYSTEMIC → PERSONAL, HOMEOSTATIC → EVALUATIVE
- **Recovery claim:** Without the loop, it isn't feedback — it's judgment
- **Vocabulary:** loop, homeostasis, circular causality, negative/positive feedback

### From Systems Thinking (Source)

- **Key claim:** Systems exhibit circular causality; outputs feed back to influence inputs
- **Core vocabulary:** feedback loop, stock, flow, emergence, leverage point
- **Traditions:** Hard (quantitative) vs. Soft (participatory) — both preserve loop concept
- **Theorists:** Wiener (cybernetics), Meadows (leverage points), Senge (learning organizations)

---

## Alignments

### Shared Ground

Both sources agree on what feedback *should* mean:
- Circular causality (output → input → output)
- Self-regulation or self-reinforcement
- System-level phenomenon, not individual-level
- Requires actual structural loop, not metaphorical

### The Gap

- **Systems thinking (src):** Continues to use "feedback loop" correctly as technical term
- **Excavation (inst):** Documents how general usage lost the loop
- **The gap between them:** Systems practitioners preserved meaning; general usage degraded it

---

## The Weave

### Why the Drift Matters for Systems Thinking

Systems thinking claims that "seeing feedback loops" is essential to understanding complex systems. But if people hear "feedback" and think "one-way evaluation," they can't see loops — they see lines.

**The vocabulary corruption undermines the practice:**

| Systems Thinking Prescription | Corrupted Execution |
|------------------------------|---------------------|
| "Build feedback loops" | "Create feedback culture" (linear) |
| "Identify reinforcing loops" | "Give positive feedback" (one-way) |
| "Use negative feedback for stability" | "Avoid negative feedback" (misread as criticism) |

The drift from cybernetics to management laundered one-way judgment through systems vocabulary.

### Why "Learning Organizations" Often Fail

Senge's *Fifth Discipline* teaches that learning organizations need feedback loops. But organizations that implement "feedback" (the drifted meaning) create:
- Performance reviews (linear evaluation)
- 360 feedback (still evaluation, just multi-directional)
- Feedback culture (pressure to judge colleagues)

None of these are loops in the systems sense. The output (evaluation) doesn't return to modify the input (evaluator's behavior). The structure is extractive, not circular.

**Synthesis claim:** Most "learning organizations" fail because they implemented feedback-as-judgment instead of feedback-as-loop.

### Recovery Implications for Systems Practice

To actually implement systems thinking:
1. **Test for loops:** Does the "feedback" structure actually return output to input?
2. **Check for mutual modification:** Does the "feedback giver" change based on the interaction?
3. **Identify what's regulating:** Is this homeostatic (maintaining equilibrium) or evaluative (demanding change)?

If it's not circular, call it what it is: assessment, evaluation, judgment. Reserve "feedback" for actual loops.

---

## What This Enables

### For Etymon Channel
A video thesis: "Why Feedback Culture Isn't Systems Thinking" — exposing how vocabulary drift let organizations claim systems practice while enacting its opposite.

### For Further Synthesis
- Connect to OIKONOMIA/CHREMATISTICS: Both cases show relational concepts becoming extractive
- Connect to OPERATIVE: The systems operative would recognize true vs. false feedback

### New Questions
- Did the drift *cause* learning organization failures, or just correlate?
- Can organizations recover the loop without the vocabulary?
- What happens when systems thinkers encounter "feedback culture" practitioners?

---

## Composition

**Upstream (synthesized sources):**
- [Excavation: FEEDBACK](inst-excavate-feedback) — synthesizes
- [Systems Thinking](src-systems-thinking) — synthesizes

**Downstream (what this enables):**
- Video script on feedback/systems gap
- Further synthesis with oikonomia framework
- Diagnostic for "learning organizations"`,
  },
  {
    id: 'inst-account',
    title: 'ACCOUNT',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['etymology', 'account', 'reckoning', 'narrative', 'double-entry'],
    content: `# ACCOUNT

**Type:** Instance
**Frameworks:** Etymon Method
**Output:** Etymon
**Status:** Incubating

## ACCOUNT AS Reckoning

The operator: **AS** — recovers original sense

---

## Excavation

Old French *acont* — a reckoning, a computation
From Latin *ad-* (to) + *computare* (to reckon, to count together)

Related: *count*, *compute*, *recount* (both meanings: to count again, and to tell a story)

An account is a reckoning. But reckoning isn't just arithmetic — it's **giving an account of**, rendering a story of what happened with the numbers.

---

## Drift

**Reckoning → Record → Compliance**

1. **Account (reckoning):** A rendering of what happened, a story told in numbers
2. **Account (ledger entry):** A record of transactions
3. **Account (holder):** Your relationship with an institution
4. **Accounting (profession):** Compliance, audit, tax preparation

The narrative dimension disappeared. Double-entry bookkeeping is powerful because it tells a story — every transaction has two sides, every flow has a source and destination. But modern accounting feels like compliance, not narration.

---

## Double-Entry as Narrative Technology

Pacioli's innovation (1494): every transaction affects two accounts. The books must balance. This isn't just arithmetic constraint — it's **coherence requirement**. The story must make sense. The left side and right side must tell the same tale from different angles.

An accountant, recovered, is a *narrator of what happened with the resources*.

---

## Recovery

What would accounting-as-reckoning mean?

- **Reading statements as stories:** What happened? Who did what? Where did it go?
- **Balance as coherence:** The books balance because the story is consistent
- **Audit as verification:** Not "are the numbers right?" but "does the story hold up?"
- **The accountant as narrator:** One who gives account, who can reckon with what happened

---

## The Compression

**ACCOUNT:** From reckoning to record. Double-entry is narrative technology — the books tell a story. Recovery means reading statements as accounts-of, not just accounts.

*Incubating — needs Gleeson-White, Crosby*`,
  },
  {
    id: 'inst-american-system',
    title: 'American System AS National Arrangement',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-oikonomia-chrematistics'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['american-system', 'hamilton', 'clay', 'lincoln', 'developmental', 'tariffs', 'national-bank', 'internal-improvements', 'arrangement'],
    content: `# American System AS National Arrangement

**Operator:** AS (reading the American System through the lens of national arrangement analysis)
**Date:** 2025-01-09

---

## What Is a National Arrangement?

A **national arrangement** is a coherent policy regime that structures economic activity toward developmental ends. It includes:
- **Instruments:** Specific policy tools (tariffs, banks, subsidies)
- **Institutions:** Organizations that implement policy (Treasury, Bank, Corps of Engineers)
- **Ideology:** Justifying theory (productive powers, infant industry)
- **Interests:** Political coalition supporting the arrangement
- **Trajectory:** Historical arc from origin to dissolution or transformation

The American System is the exemplar American national arrangement — the developmental nationalist alternative to British free-trade imperialism.

---

## The Arrangement

### Origin (1790s)

**Founder:** Alexander Hamilton, Treasury Secretary

**Founding documents:**
- *Report on Public Credit* (1790) — establish national creditworthiness
- *Report on a National Bank* (1790) — create financial infrastructure
- *Report on Manufactures* (1791) — develop industrial capacity

**Core insight:** The United States could not be truly independent while dependent on British manufactures. National security required national productive capacity. This required active government policy — markets alone would not produce industrialization against established British competition.

**Initial implementation:**
- Assumption of state debts (national credit)
- First Bank of the United States (1791-1811)
- Moderate tariffs (revenue + some protection)

**Opposition:** Jefferson and Madison opposed on constitutional and ideological grounds. Agrarian vision vs. manufacturing vision. The conflict was not resolved at founding.

---

### Crystallization (1816-1828)

**Catalyst:** War of 1812. British blockade proved Hamilton right — dependence was dangerous. Post-war nationalism created political opening.

**Systematizer:** Henry Clay, Senator from Kentucky

**Naming:** Clay called it "the American System" in his 1824 speech to Congress, contrasting it with the "British System" (free trade for British benefit) and the "European System" (mercantilism).

**The Three Pillars:**

| Pillar | Instrument | Purpose | Institution |
|--------|------------|---------|-------------|
| **Protective Tariffs** | Import duties (20-25%+) | Shield infant industries from British competition | Treasury/Customs |
| **National Bank** | Second Bank of the United States (1816) | Single currency, sovereign credit, capital allocation | Bank of the United States |
| **Internal Improvements** | Federal funding for roads, canals, harbors | Create national market; connect regions | Corps of Engineers, state projects |

**The logic:** Tariffs generate revenue → revenue funds improvements → improvements create national market → national market supports manufactures → manufactures generate wealth and employment → wealth funds further development. A virtuous cycle.

**Key legislation:**
- Tariff of 1816 (first explicitly protective tariff)
- Second Bank of the United States (1816)
- Various internal improvement appropriations

---

### Contestation (1828-1860)

**The sectional divide:** The American System benefited the industrializing North and the developing West. The South, locked into cotton export agriculture, opposed tariffs that raised prices for manufactures without benefiting their exports.

**Tariff of Abominations (1828):** High protective tariff. South Carolina's Nullification Crisis (1832-33) — Calhoun's doctrine that states could nullify federal laws. Jackson threatened force; compromise tariff reduced rates.

**Bank War (1832-1836):** Jackson vetoed recharter of Second Bank, destroying the central financial pillar. This was partly democratic populism, partly sectional politics, partly personal vendetta.

**Internal improvements:** Partially implemented. Erie Canal (state-funded, 1825) demonstrated the model. Federal funding remained contested.

**The arrangement fractured but survived.** Tariffs remained (though fluctuating). Internal improvements continued through state and mixed funding. The Bank died but commercial banking expanded.

**Whig Party:** Clay's party carried the American System as platform. Lost to Jacksonian Democrats repeatedly but kept the vision alive.

---

### Fulfillment (1861-1900)

**Catalyst:** Civil War and Republican dominance. Southern opposition removed from Congress.

**Implementer:** Abraham Lincoln and the Republican Party

Lincoln called himself a "Henry Clay Whig" and a "tariff man." The Republicans were the American System party.

**Full implementation:**

| Measure | Year | Effect |
|---------|------|--------|
| Morrill Tariff | 1861 | Raised rates to 20%+; continued increases through war |
| Legal Tender Act | 1862 | National currency (greenbacks) |
| National Banking Acts | 1863-64 | National banking system replacing defunct Bank |
| Pacific Railroad Acts | 1862-64 | Transcontinental railroad (federal land grants + bonds) |
| Homestead Act | 1862 | Free land for settlers — creates Western market |
| Morrill Land-Grant Act | 1862 | Federal land for state universities — human capital |

**The result:** From Civil War to 1900, the United States industrialized at unprecedented speed. By 1900, it was the world's largest industrial economy.

**The full arrangement:**
- High tariffs (40%+ on manufactures) — protected industry
- National banking system — stable currency, capital allocation
- Massive internal improvements — transcontinental railroads, harbors, rivers
- Land policy — populated the West, created domestic market
- Education policy — land-grant universities built human capital

---

### Dissolution (1900-1945)

**The arrangement's success undermined it.** Once American industry was dominant, protection became less necessary and more costly. Industrial interests themselves split — exporters wanted lower tariffs; import-competitors wanted continued protection.

**Progressive Era:** Tariff reform, income tax (1913) reduced dependence on tariff revenue. Federal Reserve (1913) replaced the national banking system with central bank.

**Interwar period:** High tariffs (Fordney-McCumber 1922, Smoot-Hawley 1930) but in different context — defending mature industries, not building infant ones.

**New Deal and WWII:** Different arrangement. Federal management of economy shifted from developmental (build capacity) to Keynesian (manage demand). Bretton Woods (1944) committed US to international economic leadership.

---

### Aftermath (1945-present)

**The inversion:** The United States, now the dominant industrial power, preached free trade — exactly as Britain had done after its own industrialization. "Kicking away the ladder."

**GATT/WTO regime:** Systematic tariff reduction. American System principles abandoned by both parties.

**Deindustrialization (1970s-present):** Manufacturing capacity hollowed out. Trade deficits permanent. The arrangement's warnings proved prophetic — dependence on foreign manufactures returned.

**Contemporary revival?** Industrial policy, infrastructure investment, "reshoring" — echoes of the American System. But without the coherent arrangement or political coalition.

---

## Diagnostic Analysis

### Oikonomic/Chrematistic

| Question | American System Answer | Assessment |
|----------|------------------------|------------|
| **What are the limits?** | National development; sufficiency for independence | **Oikonomic** — bounded by national need |
| **What is the telos?** | National productive capacity, independence, security | **Oikonomic** — clear purpose beyond accumulation |
| **Who is the household?** | The nation | **Oikonomic** — the nation as oikos |
| **What counts as enough?** | Industrial parity with competitors | **Oikonomic** — satiation point exists |

**Verdict:** The American System is an **oikonomic arrangement**. The nation is the household. Development is for flourishing and independence, not unlimited accumulation. There is a telos — productive capacity sufficient for sovereignty.

**Contrast with chrematistic alternatives:**
- British free trade (1840s+): Unbounded; serves capital, not nation; no limit principle
- Contemporary financialization: Serves shareholder returns, not national capacity; no telos beyond more

---

### Developmental/Extractive

| Question | American System Answer | Assessment |
|----------|------------------------|------------|
| **Does it build productive capacity?** | Yes — manufacturing, infrastructure, education | **Developmental** |
| **Who develops?** | The nation as whole; North, West, eventually South | **Developmental** |
| **Time horizon?** | Generational — Clay, Lincoln thinking decades ahead | **Developmental** |
| **Infant industry logic?** | Core principle | **Developmental** |

**Verdict:** Paradigmatically **developmental**. The arrangement exists to build capacity that compounds.

---

### Embedded/Disembedded

| Question | American System Answer | Assessment |
|----------|------------------------|------------|
| **Is economy subordinate to society?** | Yes — economy serves national development | **Embedded** |
| **Are labor/land/money protected?** | Partially — tariffs protect labor; land policy distributes land | **Partially embedded** |
| **What violence created this?** | Revolution created the nation; Civil War fulfilled the system | State violence, but constitutive not extractive |

**Verdict:** **Embedded** in national purpose. The economy serves the nation, not vice versa. But not fully embedded in Polanyi's sense — labor not fully protected, capitalism still operative within national frame.

---

### Particular/Universal

| Question | American System Answer | Assessment |
|----------|------------------------|------------|
| **Does it serve specific national development?** | Yes — explicitly American, not universal theory | **Particular** |
| **Are conditions acknowledged?** | Yes — American conditions (resource-rich, labor-scarce, new nation) | **Particular** |
| **Role of the state?** | Active developmental state | **Particular** |

**Verdict:** **Particular**. The American System is explicitly national — not a universal theory but a policy for American conditions. Clay's contrast: "American System" vs. "British System" vs. "European System."

---

## The Actors

| Actor | Role | Period | Key Contribution |
|-------|------|--------|------------------|
| **Alexander Hamilton** | Founder | 1789-1804 | Originated the vision; established precedents |
| **Henry Clay** | Systematizer | 1810s-1852 | Named and articulated the System; built coalition |
| **John Quincy Adams** | Advocate | 1820s-1840s | Internal improvements champion |
| **Abraham Lincoln** | Implementer | 1861-1865 | Fulfilled the System during Civil War |
| **Ulysses Grant** | Consolidator | 1869-1877 | Maintained high tariff regime |
| **William McKinley** | Defender | 1890s | Tariff advocate; last full commitment |

**Theorists:**
- **Daniel Raymond** — first American economist; national over individual
- **Friedrich List** — learned from American practice; provided theory
- **Henry Carey** — mid-century systematic theorist

**Opponents:**
- **Thomas Jefferson** — agrarian vision
- **Andrew Jackson** — democratic populism; killed the Bank
- **John C. Calhoun** — Southern sectional interest
- **Free-trade Democrats** — after 1850s

---

## The Institutions

| Institution | Function | Period | Fate |
|-------------|----------|--------|------|
| **First Bank of the United States** | Central banking, currency | 1791-1811 | Charter expired |
| **Second Bank of the United States** | Central banking, currency | 1816-1836 | Jackson killed it |
| **Treasury Department** | Tariff administration | 1789-present | Continues |
| **Army Corps of Engineers** | Internal improvements | 1802-present | Continues |
| **National Banking System** | Currency, capital allocation | 1863-1913 | Replaced by Federal Reserve |
| **Land-Grant Universities** | Human capital | 1862-present | Continue |

---

## Connections to Economic Genealogy

### Term Excavations Illuminated

| Term | American System Usage | Genealogical Significance |
|------|----------------------|---------------------------|
| **CAPITAL** | Productive capacity (factories, skills, infrastructure) | Oikonomic sense — capital as heads, as capacity |
| **CREDIT** | Sovereign credit of the nation; Bank credit for development | Credit as national trust, not individual score |
| **INTEREST** | National interest; interest rates for development | Interest as concern (inter-esse), not just rate |
| **WEALTH** | National well-being; productive powers | Wealth as wela — well-being, not just assets |

### Sources Applied

| Source | How It Illuminates American System |
|--------|-----------------------------------|
| **Hamilton** | Origin; the practice before the theory |
| **List** | Theory of what Hamilton practiced; learned in America |
| **Polanyi** | American System as embedded economy; contrast with disembedded free trade |
| **Graeber** | Credit/debt in national development; sovereign credit |

---

## What the American System Makes Thinkable

### Recovered Possibilities

1. **National development as purpose.** The economy serves the nation, not vice versa. There is a telos beyond growth.

2. **Protection as developmental tool.** Tariffs are not "distortion" but instrument. They are appropriate at certain stages.

3. **The state as developmental agent.** Government actively builds capacity. It does not merely "get out of the way."

4. **Infrastructure as productive.** Internal improvements are investment, not "spending." They compound.

5. **Generational time horizon.** Hamilton, Clay, Lincoln thought in decades. Policy for the next generation, not the next quarter.

6. **National interest as real.** Not just aggregate of individual interests. The nation is a unit of analysis.

### What Current Discourse Suppresses

The American System reveals what contemporary free-trade consensus suppresses:

- The United States industrialized behind high tariffs, not free trade
- Every successful industrialization (Britain, Germany, Japan, Korea, Taiwan, China) used protection
- Free trade is preached by dominant powers to subordinate competitors
- "Kicking away the ladder" is the pattern

---

## For Etymon Production

### Video Potential

| Title | Hook | Core Content |
|-------|------|--------------|
| "The American System" | "America didn't industrialize through free trade" | Hamilton → Clay → Lincoln arc |
| "Henry Clay's Lost Vision" | "What Republicans forgot" | Clay's 1824 speech; contrast with contemporary GOP |
| "Kicking Away the Ladder" | "Britain preached free trade after using protection — and so did we" | Hamilton/List genealogy |
| "The Nation as Household" | "What if the country is an oikos?" | Oikonomia applied to national policy |

### Operator

**AS** — American System AS National Arrangement

The instance reads the American System through the national arrangement lens, applying diagnostic questions (oikonomic/chrematistic, developmental/extractive, embedded/disembedded, particular/universal) to a concrete historical case.

---

## Composition

**Upstream:**
- \`fw-oikonomia-chrematistics\` — diagnostic lens
- \`src-hamilton-report-manufactures\` — origin source
- \`src-list-national-system\` — theoretical source
- \`inst-scope-political-economy-study\` — prior research identifying need

**Downstream potential:**
- Etymon video on American System
- Comparison instances: American System VERSUS British System; American System VERSUS Neoliberalism
- Related arrangements: German developmental state; East Asian developmental states
- Term excavations informed: CAPITAL, CREDIT, INTEREST, WEALTH now have American System context

---

## Sources

- [Senate.gov - Clay's American System Speech](https://www.senate.gov/artandhistory/history/common/generic/Speeches_ClayAmericanSystem.htm)
- [American Compass - Rediscovering American System](https://americancompass.org/rediscovering-a-genuine-american-system/)
- [American History Central - American System](https://www.americanhistorycentral.com/entries/american-system/)
- Hamilton, *Report on Manufactures* (1791)
- List, *National System of Political Economy* (1841)`,
  },
  {
    id: 'inst-american-system-versus-globalist',
    title: 'American System VERSUS Globalist Arrangement',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-oikonomia-chrematistics'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['versus', 'american-system', 'globalism', 'cosmopolitan', 'bis', 'fed', 'cfr', 'wef', 'trilateral', 'developmental', 'free-trade'],
    content: `# American System VERSUS Globalist Arrangement

**Operator:** VERSUS (structured contrast between two national arrangements)
**Date:** 2025-01-09

---

## The Two Arrangements

| Dimension | American System | Globalist Arrangement |
|-----------|-----------------|----------------------|
| **Period** | 1791-1945 (origin to dissolution) | 1944-present (Bretton Woods to now) |
| **Unit of analysis** | The nation | The "international community" / global economy |
| **Core principle** | National productive capacity | Free movement of capital, goods, people |
| **State role** | Developmental agent | Rule-enforcer for global markets |
| **Legitimating theory** | List's developmental nationalism | Smith's cosmopolitan economics (as ideology) |
| **Whose interests?** | National producers, workers, posterity | Capital, consumers, "humanity" |

---

## The Globalist Arrangement: Structure

### Origin (1944-1971)

**Founding moment:** Bretton Woods Conference (1944)

The United States, having achieved industrial supremacy partly through the American System, now inverted its position — preaching the free trade it had once rejected. This is List's "kicking away the ladder" in action.

**Initial architecture:**

| Institution | Founded | Function |
|-------------|---------|----------|
| **IMF** | 1944 | Currency stabilization, balance of payments |
| **World Bank** | 1944 | Development lending (on Washington's terms) |
| **GATT** | 1947 | Tariff reduction, trade liberalization |
| **BIS** | 1930 (repurposed) | Central bank coordination |
| **Federal Reserve** | 1913 (elevated) | Dollar as reserve currency; de facto global central bank |

**The arrangement's logic:** Dollar-gold convertibility anchors system → US provides liquidity → other nations rebuild behind American security umbrella → trade liberalizes gradually → US benefits as dominant manufacturer.

**Note:** This early phase was still semi-developmental for allies (Marshall Plan, tolerated protection in Europe/Japan). Full cosmopolitanism came later.

---

### Expansion (1971-1991)

**Nixon Shock (1971):** Dollar-gold convertibility ends. Pure fiat regime.

**Key developments:**
- Floating exchange rates → financial instability → need for coordination
- Petrodollar system → dollar hegemony without gold anchor
- Volcker Shock (1979) → high interest rates → Third World debt crisis → IMF structural adjustment
- Reagan/Thatcher deregulation → financial liberalization → capital mobility

**Institutional evolution:**

| Institution | Change | Effect |
|-------------|--------|--------|
| **BIS** | Becomes regulatory hub | Basel Accords standardize global banking |
| **IMF** | Becomes structural adjustment enforcer | Washington Consensus imposed on debtors |
| **Federal Reserve** | Becomes global lender of last resort | Dollar swap lines, crisis management |
| **GATT → WTO** | 1995 | Binding dispute resolution; deeper liberalization |

---

### Consolidation (1991-2008)

**"End of History":** Soviet collapse removes alternative. Full globalization.

**The think tank / forum layer:**

| Institution | Founded | Function | Key Figures |
|-------------|---------|----------|-------------|
| **Council on Foreign Relations (CFR)** | 1921 | Bipartisan foreign policy consensus | David Rockefeller, Henry Kissinger |
| **Trilateral Commission** | 1973 | US-Europe-Japan elite coordination | David Rockefeller, Zbigniew Brzezinski |
| **World Economic Forum (WEF)** | 1971 | Davos: public-private partnership ideology | Klaus Schwab |
| **Brookings Institution** | 1916 | Centrist policy development | Cross-board with CFR, Trilateral |
| **Atlantic Council** | 1961 | NATO/transatlantic coordination | Defense/foreign policy establishment |
| **CSIS** | 1962 | Strategic studies | Bipartisan security establishment |

**The interlocking directorate:** These institutions share boards, funders, and personnel. CFR chairman David Rubenstein is also Brookings co-chair. Trilateral North American chair Meghan O'Sullivan sits on CFR board. The "revolving door" between government, finance, and think tanks creates a unified policy class.

**Cross-party consensus:** The arrangement is explicitly bipartisan. Democrats and Republicans differ on domestic policy but converge on:
- Free trade agreements (NAFTA, WTO, TPP)
- Central bank independence
- Financial deregulation
- Military interventionism to enforce "rules-based order"
- IMF/World Bank structural adjustment

---

### Crisis and Adaptation (2008-present)

**2008 Financial Crisis:** The arrangement nearly collapses but is rescued by:
- Federal Reserve emergency lending (trillions)
- BIS-coordinated central bank swap lines
- G20 coordination (expanding beyond G7)
- Quantitative easing as permanent policy

**New tensions:**
- China's rise outside the arrangement's rules
- Brexit, Trump — nationalist reaction within the West
- COVID response → "Great Reset" proposal
- Inflation return → stress on central bank credibility

**The "Great Reset" (2020):**

Klaus Schwab's proposal to use COVID crisis for:
- "Stakeholder capitalism" replacing shareholder capitalism
- Public-private partnership (corporations as governance actors)
- ESG/sustainability as condition of capital access
- Digital transformation accelerated

**Criticism from left:** Naomi Klein called it "coronavirus-themed rebranding" — the rich appearing to reform while preserving their position.

**Criticism from right:** An attempt to impose global governance, bypassing national sovereignty.

**Criticism from both:** The Transnational Institute describes Davos as "a silent global coup d'état" where corporations become official stakeholders while governments become one stakeholder among many.

---

## The Institutional Architecture

### Financial Core

\`\`\`
                        ┌─────────────────────────┐
                        │   Bank for International │
                        │   Settlements (BIS)      │
                        │   "Central bank of       │
                        │    central banks"        │
                        └───────────┬─────────────┘
                                    │
              ┌─────────────────────┼─────────────────────┐
              ▼                     ▼                     ▼
      ┌───────────────┐     ┌───────────────┐     ┌───────────────┐
      │ Federal Reserve│     │ ECB           │     │ Other Central │
      │ (de facto      │     │               │     │ Banks (63)    │
      │  global CB)    │     │               │     │               │
      └───────────────┘     └───────────────┘     └───────────────┘
              │                     │                     │
              └─────────────────────┼─────────────────────┘
                                    ▼
                        ┌─────────────────────────┐
                        │   Basel Committee       │
                        │   (Banking standards)   │
                        └─────────────────────────┘
\`\`\`

**BIS role:**
- Hosts central bank governors' meetings (Economic Consultative Committee, Global Economy Meeting)
- Houses Basel Committee on Banking Supervision
- Sets capital standards (Basel I, II, III)
- Coordinates monetary policy informally
- Described as where "a self-selected group of decision-makers shape global economic policy"

**Federal Reserve role:**
- Dollar as reserve currency gives US monetary policy global effect
- Swap lines to other central banks in crisis
- Lender of last resort for global dollar system
- "Independence" from Congress but coordination with other central banks
- Bernanke: "Globalization influences the conduct of monetary policy through its powerful effects on the economic and financial environment"

---

### Governance/Ideological Layer

\`\`\`
┌─────────────────────────────────────────────────────────────────┐
│                      ELITE COORDINATION                         │
│                                                                 │
│  ┌─────────────┐   ┌─────────────┐   ┌─────────────┐          │
│  │   WEF       │   │ Trilateral  │   │ Bilderberg  │          │
│  │   (Davos)   │   │ Commission  │   │   Group     │          │
│  │             │   │ (US-EU-JP)  │   │  (annual)   │          │
│  └──────┬──────┘   └──────┬──────┘   └──────┬──────┘          │
│         │                 │                 │                  │
│         └─────────────────┼─────────────────┘                  │
│                           ▼                                    │
│              ┌─────────────────────────┐                       │
│              │ THINK TANK NETWORK      │                       │
│              │ CFR, Brookings, CSIS,   │                       │
│              │ Atlantic Council, etc.  │                       │
│              └───────────┬─────────────┘                       │
│                          ▼                                     │
│              ┌─────────────────────────┐                       │
│              │ BIPARTISAN CONSENSUS    │                       │
│              │ Free trade, intervention│                       │
│              │ Central bank independence│                      │
│              │ "Rules-based order"     │                       │
│              └─────────────────────────┘                       │
└─────────────────────────────────────────────────────────────────┘
\`\`\`

**The consensus production mechanism:**

1. **Elite forums** (Davos, Trilateral, Bilderberg) convene business, government, media leaders
2. **Think tanks** (CFR, Brookings, CSIS) produce policy papers staffed by former officials
3. **Media** (major outlets often have CFR members on boards/staff) amplifies consensus positions
4. **Government** (officials rotate through think tanks) implements
5. **Academia** (funded research, recruited experts) legitimates

**Goldwater's critique:** "A skillful, coordinated effort to seize control and consolidate the four centers of power: political, monetary, intellectual, and ecclesiastical."

---

## The Diagnostic Contrast

### Oikonomic/Chrematistic

| Question | American System | Globalist Arrangement |
|----------|-----------------|----------------------|
| **What are the limits?** | National sufficiency for independence | None — growth is infinite imperative |
| **What is the telos?** | National productive capacity, security | "Growth," "development," shareholder returns |
| **Who is the household?** | The nation | No household — global economy as abstraction |
| **What counts as enough?** | Industrial parity with competitors | Never enough — accumulation without limit |

**Verdict:**
- American System: **Oikonomic** — the nation is the oikos; bounded by sufficiency
- Globalist Arrangement: **Chrematistic** — unbounded accumulation; no limit principle; "the economy" serves no household

---

### Developmental/Extractive

| Question | American System | Globalist Arrangement |
|----------|-----------------|----------------------|
| **Builds productive capacity?** | Yes — explicit purpose | Ambiguous — builds some, extracts from others |
| **Who develops?** | The nation as whole | Capital-owners; some nations at expense of others |
| **Time horizon?** | Generational | Quarterly (shareholder); electoral (politicians) |
| **Infant industry logic?** | Core principle | Prohibited by WTO rules |

**Verdict:**
- American System: **Developmental** for the nation
- Globalist Arrangement: **Extractive** in practice — developing nations locked into commodity export; deindustrialization of former industrial nations; wealth concentration at top

---

### Embedded/Disembedded

| Question | American System | Globalist Arrangement |
|----------|-----------------|----------------------|
| **Economy subordinate to society?** | Yes — economy serves national development | No — society must adapt to economy |
| **Are labor/land/money protected?** | Partially — tariffs protect labor | No — full commodity fiction; mobile capital disciplines labor |
| **What violence created this?** | Revolution; Civil War | Structural adjustment; regime change; debt discipline |

**Verdict:**
- American System: **Embedded** in national purpose (though still capitalist)
- Globalist Arrangement: **Disembedded** — the economy is autonomous; Polanyi's "self-regulating market" as ideology

---

### Particular/Universal

| Question | American System | Globalist Arrangement |
|----------|-----------------|----------------------|
| **Serves specific development?** | Yes — explicitly American | Claims universality but serves specific interests |
| **Conditions acknowledged?** | Yes — American circumstances | No — one model for all ("Washington Consensus") |
| **Role of the state?** | Active developmental agent | Rule-enforcer; "getting out of the way" |

**Verdict:**
- American System: **Particular** — explicitly for American development
- Globalist Arrangement: **Pseudo-universal** — claims to be for everyone but serves capital; List's "cosmopolitan economics" as ideology

---

## The Inversion

The deepest point: **The United States built its industrial supremacy using the American System, then inverted to preach free trade once dominant.**

| Phase | US Position | For Whom |
|-------|-------------|----------|
| 1791-1945 | Protection, developmental nationalism | American development |
| 1945-present | Free trade, globalization | American hegemony (initially); capital (eventually) |

This is exactly what Britain did:
- Industrialized behind Navigation Acts and tariffs (1600s-1840s)
- Preached free trade after achieving dominance (1846 repeal of Corn Laws)
- List called it "kicking away the ladder"

The United States repeated the pattern. The American System built American industry. Then, dominant, America kicked away the ladder — telling other nations to liberalize while the US had not done so at their stage.

**The irony:** Contemporary Americans who defend "free trade" as traditional are actually defending the **British** tradition that the American System was built to oppose. The Founders — Hamilton, Clay, Lincoln — were protectionists.

---

## The Personnel

### American System Lineage

| Figure | Role | Period |
|--------|------|--------|
| Alexander Hamilton | Founder | 1789-1804 |
| Henry Clay | Systematizer | 1810s-1852 |
| Abraham Lincoln | Implementer | 1861-1865 |
| Friedrich List | Theorist | 1825-1846 |
| Henry Carey | Economist | 1840s-1870s |

### Globalist Arrangement Lineage

| Figure | Role | Institutions |
|--------|------|--------------|
| John Maynard Keynes | Bretton Woods architect | British Treasury |
| Harry Dexter White | Bretton Woods architect | US Treasury |
| David Rockefeller | Network builder | CFR, Trilateral, Chase Manhattan |
| Henry Kissinger | Strategist | CFR, Nixon/Ford administrations |
| Paul Volcker | Central banker | Fed, Trilateral founder |
| Alan Greenspan | Central banker | Fed, Trilateral founder |
| Klaus Schwab | Forum builder | WEF |
| Robert Rubin | Treasury, finance | Goldman Sachs, Treasury, Citigroup, CFR |
| Larry Summers | Treasury, academia | Treasury, Harvard, World Bank |

**The revolving door:**
- Government → think tank → finance → government
- CFR members in every administration since founding
- Fed chairs often from or to Trilateral Commission
- Treasury secretaries often from or to Goldman Sachs

---

## What Each Makes Thinkable

### American System Enables

- The nation as legitimate economic unit
- Protection as developmental tool
- The state as positive agent
- Generational time horizons
- National interest as real category
- Productive capacity over financial returns
- "Enough" as meaningful concept

### Globalist Arrangement Enables

- "The economy" as autonomous sphere
- Capital mobility as freedom
- Central bank "independence" (from democracy, not from capital)
- "Efficiency" as supreme value
- Shareholder returns as purpose
- "Growth" without asking "for whom?"
- Governance by experts insulated from publics

### What Each Suppresses

**American System suppresses:**
- Cosmopolitan solidarity
- Consumer benefit from cheap imports
- International labor solidarity
- Global environmental coordination

**Globalist Arrangement suppresses:**
- National sovereignty in economic policy
- Democratic control of monetary policy
- Infant industry development for late-comers
- Any limit principle on accumulation
- The question "whose interests?"
- The history of how rich nations got rich

---

## For Etymon Production

### Video Potential

| Title | Hook | Core Content |
|-------|------|--------------|
| "The Ladder They Kicked Away" | "America preaches free trade — after building its industry behind tariffs" | Hamilton → Lincoln → Bretton Woods → WTO |
| "The Central Bank of Central Banks" | "There's a bank in Switzerland that coordinates all the others" | BIS structure and function |
| "Davos Man vs. Hamilton's Vision" | "Two models for who the economy serves" | American System vs. WEF stakeholder capitalism |
| "Who Runs the Rules-Based Order?" | "The think tanks that shape bipartisan consensus" | CFR, Trilateral, personnel overlap |
| "Why Can't We Have Industrial Policy?" | "The rules we wrote for others now bind us" | WTO, IMF constraints on developmental nationalism |

### The Stakes

The contrast reveals: the globalist arrangement is not neutral, natural, or inevitable. It is a specific historical construction, serving specific interests, justified by a specific ideology (cosmopolitan economics) that the American Founders rejected.

Recovery of the American System tradition does not mean autarky or isolation. It means:
- The nation as legitimate unit of economic policy
- Protection appropriate at certain developmental stages
- The state as developmental agent, not just rule-enforcer
- Democratic accountability for monetary policy
- "Enough" as meaningful economic concept
- Who benefits? as legitimate question

---

## Composition

**Upstream:**
- \`fw-oikonomia-chrematistics\` — diagnostic lens
- \`inst-american-system\` — the arrangement being contrasted
- \`src-list-national-system\` — theoretical framework
- \`src-hamilton-report-manufactures\` — origin source

**Downstream potential:**
- Etymon videos on specific contrasts
- Excavations of globalist vocabulary: "rules-based order," "stakeholder," "independence"
- Further arrangements: Chinese developmental state, East Asian model
- Apologetic on "free trade" as idea

---

## Sources

- [BIS - About](https://www.bis.org/about/index.htm)
- [BIS - History](https://www.bis.org/about/history.htm)
- [Council on Foreign Relations - Wikipedia](https://en.wikipedia.org/wiki/Council_on_Foreign_Relations)
- [Trilateral Commission - Wikipedia](https://en.wikipedia.org/wiki/Trilateral_Commission)
- [Great Reset - Wikipedia](https://en.wikipedia.org/wiki/Great_Reset)
- [WEF - Great Reset](https://www.weforum.org/stories/2020/06/now-is-the-time-for-a-great-reset/)
- [Federal Reserve - Globalization and Monetary Policy](https://www.federalreserve.gov/newsevents/speech/bernanke20070302a.htm)
- [American Compass - Rediscovering American System](https://americancompass.org/rediscovering-a-genuine-american-system/)
- [CFR - InfluenceWatch](https://www.influencewatch.org/non-profit/council-on-foreign-relations-cfr/)`,
  },
  {
    id: 'inst-apologetic-economic-genealogy-recon',
    title: 'Apologetic: Economic Genealogy Recon',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-apologetic-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['apologetic', 'domestication', 'meta-critique', 'economic-genealogy', 'self-reflection', 'strangeness'],
    content: `# Apologetic: Economic Genealogy Recon

**Date:** 2026-01-09
**Status:** research (meta-critique)

**Target:** \`inst-recon-economic-genealogy\` — our own reconnaissance document
**Purpose:** Turn the Apologetic Method on ourselves. How might we be domesticating the very thing we claim to excavate?

---

## Dominant Reading (Our Own)

**The received view we're constructing:** Economic vocabulary has undergone "chrematistic drift." Original meanings were bounded, relational, mortal. Modern meanings are unbounded, calculational, immortal. We can "recover" the original meanings through philological excavation, and this recovery enables oikonomic alternatives.

**What this confirms:**
- That the past was better (more human, more bounded)
- That the present is a degradation
- That etymology reveals truth
- That knowing the buried meaning is itself transformative
- That we can access the original

**Makes the past a precursor to:** A better future. One where we re-embed the economy, restore limits, recover flourishing. The oikonomic imaginary as destination.

---

## Domestication Operations (Our Own)

**Primary operation: ROMANTICIZING**

The recon doc treats original meanings as inherently better. "Wealth meant well-being" — as if Medieval England was flourishing because they had the right word. "Credit meant belief" — as if trust-based lending was more humane than algorithmic credit (it could also be more exclusionary, nepotistic, arbitrary).

The operation: nostalgia disguised as analysis. We're not just excavating — we're valorizing.

**Secondary operations:**

1. **LINEARIZING** — Presenting drift as one-directional degradation. But semantic change is not inherently loss. Sometimes abstraction enables genuine progress. "Capital" as abstract fund enabled investment in ventures that cattle-wealth couldn't. The drift *enabled* things, not just destroyed.

2. **SIMPLIFYING** — Collapsing complex historical processes into etymology. Polanyi's "great transformation" took centuries of institutional change. We're implying that word-meaning is causal, when it's more likely epiphenomenal or reflective.

3. **MORALIZING** — "Chrematistic = bad, oikonomic = good." But the oikonomic household was also patriarchal, enslaved, hierarchical. Aristotle's oikonomia was the domain of the patriarch over wife, children, and slaves. Recovery of the household is recovery of... what exactly?

4. **AESTHETICIZING** — Making etymology itself the point. "Mortgage means death pledge!" is dramatic, satisfying, shareable. But what does *knowing* this actually change? The structure of mortgage finance remains identical. Etymology becomes aesthetic pleasure, not action.

---

## Suppressed Element (What We're Flattening)

**The violence in the original:**

Oikonomia was the management of an *oikos* — which included slaves. The "bounded household" was bounded by slavery, patriarchy, and the exclusion of non-citizens from economic activity. When Aristotle distinguished oikonomia from chrematistics, he was also distinguishing the natural order of the household (master over slave) from the unnatural commerce (where slaves might buy their freedom).

The recon doc doesn't mention slavery once. The word "oikonomia" is presented as if it means "flourishing" when it also meant "proper management of slaves and women."

**The complicity of etymology:**

Graeber and Polanyi are cited as allies, but Graeber explicitly warned against the "etymological fallacy" — the assumption that a word's origin reveals its true meaning. He used etymology as one tool among many, not as the master key.

We're flattening this warning. We've made etymology into revelation.

**The present's achievements:**

The recon doc treats modernity as pure drift. But:
- Algorithmic credit enables lending to people who had no relationships with creditors (inclusion, not just calculation)
- Abstract capital enables investment in ventures with no "head" to count (enabling technology, medicine, infrastructure)
- Corporate immortality enables institutions that outlast any individual's ability to fund them

What if some of the drift was *good*?

---

## Original Strangeness (That We're Missing)

**The strangeness we're not recovering:**

The actual strangeness of oikonomia is not "bounded flourishing" — it's a form of life where the household was an economic-political-religious unit with the patriarch as its priest. The *oikos* had its own gods, its own cult, its own hierarchy. The boundary wasn't "enough vs. unlimited" — it was sacred vs. profane.

Aristotle wasn't advocating "limits" in our sense. He was defending a cosmological order where each thing has its proper place, function, and end. The chrematist isn't immoral because they want too much — they're *metaphysically disordered*, pursuing money-making as if it were an end when it's only a means.

This is not "capitalism is bad because it has no limits." This is "humans who pursue money for its own sake have failed to understand the structure of reality." That's a much stranger claim than our recon doc suggests.

**What we can't hear:**

The recon doc reads Aristotle through modern economics (oikonomia vs. chrematistics = limits vs. unlimited) rather than through Aristotle's own metaphysics (proper function vs. corruption). We're domesticating Aristotle into a proto-environmentalist rather than letting him be a teleological metaphysician.

---

## Counter-Readers (Who See What We're Missing)

**Who might challenge our reading:**

1. **Ellen Meiksins Wood** — Marxist historian who would ask: whose oikos? Recovery of "the household" is recovery of the patriarchal family as economic unit. The "disembedding" of the economy was also the liberation of women and slaves from household bondage. Polanyi's embeddedness can romanticize pre-capitalist exploitation.

2. **Deirdre McCloskey** — Economist who would note that "chrematistics" (bourgeois commerce) created the modern world's unprecedented prosperity. The recon doc assumes drift = degradation, but what if drift = progress? What if unbounded accumulation funded the science, medicine, and infrastructure that improved human life?

3. **Slavoj Žižek** — Who would ask: what are you actually proposing? "Recovery" is nostalgic ideology unless it specifies a political program. Etymology-as-critique is comfortable because it demands nothing. You can "know" that mortgage means death pledge and still sign the papers.

4. **Actual Aristotle** — Who might not recognize himself in our reading. His oikonomia/chrematistics distinction was embedded in a cosmology we don't share. Without the teleological metaphysics, we're just borrowing his terms for our own project.

---

## Larper Tell (For Our Own Project)

**The giveaway:** "Etymology reveals what we've forgotten."

**What it reveals:** This treats language as a repository of wisdom that "we" have lost, as if semantic change is a conspiracy against understanding rather than a natural process. It assumes:
- That the past knew something we don't
- That etymology accesses that knowledge
- That the knowledge was pure (not mixed with slavery, patriarchy, cosmology we reject)

Someone who says "etymology reveals what we've forgotten" has absorbed a particular romantic-philological tradition without questioning it. They've made etymology into revelation.

**Alternative tell:** "If people just knew what mortgage meant, they'd think twice."

This assumes that knowledge changes action. But people know cigarettes cause cancer. The mortgage crisis wasn't caused by people not knowing what "mortgage" meant. It was caused by incentive structures, regulatory capture, and systemic risk. Etymology-as-awakening is magical thinking.

---

## Recovery (From Our Own Domestication)

**What would genuine strangeness require?**

1. **Take the cosmology seriously.** Aristotle's distinction isn't "limits good, unlimited bad" — it's "each thing has a proper function determined by its nature and the cosmic order." Recovering oikonomia might mean recovering teleological metaphysics. Are we prepared to do that? Or are we cherry-picking vocabulary while rejecting the worldview?

2. **Acknowledge the violence in the original.** Oikonomia included slavery. The "bounded household" was bounded by domination. If we're recovering the term, we're recovering... what? Can oikonomia be separated from patriarchy? Or are we just romanticizing a word while ignoring its referent?

3. **Interrogate the etymology-revelation claim.** Graeber used etymology as one tool among many, alongside anthropology, history, political economy. We're leaning on etymology too heavily. It's dramatic, it's shareable, but it's not sufficient.

4. **Ask what recovery actually proposes.** "Wealth should mean well-being" — okay, and then what? What institutional change follows? What policy? What action? If the answer is "just knowing this differently," we've made etymology into aesthetic pleasure, not politics.

5. **Consider that drift might be progress.** Not all abstraction is loss. Not all boundedness is good. The "chrematistic" system also produced: modern medicine, widespread literacy, global communication, poverty reduction, women's economic participation. What if some of the drift was *valuable*?

---

## What This Apologetic Enables

**If we take this critique seriously:**

1. **We can still use etymology** — but as one tool among many, not as master key
2. **We can still use Aristotle** — but acknowledging we're appropriating his vocabulary, not recovering his worldview
3. **We can still critique chrematistics** — but specifying what we're actually proposing instead
4. **We can still produce Etymon content** — but with more epistemic humility about what "recovery" means

**The question we should be asking:**

Not "what did the word originally mean?" but "what do we actually want to recover, and why, and is etymology the right tool for that?"

---

## Production Readiness

**Ready for production?** Not as content — this is internal critique for sharpening the project

**What this enables:**
- Epistemic humility in subsequent excavations
- Explicit acknowledgment of what we're not recovering (slavery, patriarchy, teleology)
- Clearer articulation of what "recovery" actually means (vocabulary? institution? metaphysics?)
- Resistance to etymology-as-magic-bullet

**Suggested additions to subsequent excavations:**
- Section on "What we're NOT recovering"
- Acknowledgment of the violence/domination in original context
- Specification of what institutional change recovery implies
- Caveat about etymology ≠ causation

---

## The Self-Reflexive Conclusion

The recon doc itself might be performing a domestication: making "economic genealogy" safe for consumption by:
- Romanticizing the past
- Linearizing history as degradation
- Aestheticizing etymology
- Avoiding the question of institutional change

This doesn't mean the project is wrong. It means the project needs more strangeness — including the strangeness of asking whether etymology-as-recovery is as powerful as we're claiming.

**The hardest question:** If "knowing that mortgage means death pledge" doesn't change anything, what are we actually doing?

Possible answers:
1. **Building vocabulary for a movement that doesn't exist yet** — plausible, but unfalsifiable
2. **Aesthetic pleasure** — honest, but less heroic than we're claiming
3. **Intellectual infrastructure** — maybe, but infrastructure for what?
4. **Something else we haven't articulated** — most likely

The apologetic ends with a question, not an answer. That's appropriate. We're excavating; we should also be examining the excavator.`,
  },
  {
    id: 'inst-apologetic-four-knowings',
    title: 'Apologetic: Four Knowings',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-apologetic-method'],
    source_id: 'src-vervaeke-awftmc',
    output: 'etymon',
    status: 'incubating',
    tags: ['apologetic', 'domestication', 'vervaeke', 'knowing', 'wisdom', 'meaning-crisis', 'strangeness'],
    content: `# Apologetic: The Four Knowings

**Date:** 2025-01-09
**Status:** research (pre-production)

---

## Dominant Reading

**Received view:** A typology of knowledge that explains the "meaning crisis" and points toward its resolution. Four complementary forms (propositional, procedural, perspectival, participatory) that modern culture has lost balance among. The framework as diagnostic tool for what's wrong with us and prescriptive path toward wisdom, integration, and flourishing.

**Confirms:**
- Liberal therapeutic culture: knowledge as self-help for meaning-seekers
- Academic inclusivism: cognition finally gets a unified theory
- Spiritual-but-not-religious synthesis: ancient wisdom made safe for moderns
- Democratic epistemology: everyone has access to all four knowings
- Self-improvement telos: the goal is "integration" and "relevance realization"

**Makes original a precursor to:**
- The secular-sacred synthesis project (Vervaeke's explicit telos)
- A new "ecology of practices" that borrows from traditions without commitment to any
- The Rebel Wisdom / Emerge / meaning-crisis-industrial-complex that offers practice without particularity

---

## Domestication Operation

**Primary operation:** Syncretizing — abstracting structural features from particular traditions (Platonic, Buddhist, Christian, Daoist) to create a universal theory available to anyone regardless of lineage.

**Secondary operations:**
- **Therapeutizing** — "participatory knowing" becomes something you work on in practice, a skill to develop, rather than a condition received through initiation
- **Secularizing** — the divine/transcendent dimension is replaced with "relevance realization," a cognitive science term for what used to be grace or illumination
- **Democratizing** — what was rare (wisdom) becomes universally accessible through the right "ecology of practices"
- **Presentizing** — the framework claims to recover what was lost, but in a form compatible with contemporary assumptions

**How it works:** Vervaeke performs a brilliant abstraction. He extracts the *structure* of ancient wisdom traditions — that knowing has multiple dimensions — while stripping the *content* that made them strange. The result is a framework that sounds like it's recovering something ancient but is actually perfectly compatible with the therapeutic sensibility. You can have "participatory knowing" without belonging to anything. You can achieve "wisdom" through practices you select and combine according to your own judgment.

The key move: replacing *initiation* with *practice selection*. Traditional participatory knowing came through being received into something — a lineage, a mystery, a community that knew you. Vervaeke's version comes through choosing an "ecology of practices" that works for you. The subject remains sovereign.

---

## Suppressed Element

**What's flattened:**

1. **The initiatic dimension.** Participatory knowing in traditions required being initiated — received into something that pre-existed you and wasn't chosen. The Eleusinian mysteries, Christian baptism, Sufi tariqa — these weren't "practices" you added to your portfolio. They were deaths and rebirths that the subject didn't control.

2. **Lineage as epistemological.** In traditions, *who you learned from* determined what you could know. The transmission wasn't just information but capacity that moved through relationship. Vervaeke's model treats content as extractable from lineage — you can learn the structure of wisdom from a YouTube lecture series.

3. **The exclusivity claim.** Particular traditions claimed their path was *the* path — not one option among many. Plato: if you haven't done the dialectical work, you literally cannot see the Forms. Christianity: outside the Church, no salvation. This isn't ecumenical tolerance; it's mutual exclusion. The syncretic framework suppresses this by treating all traditions as contributing pieces to a unified puzzle.

4. **The vertical/transcendent dimension.** Traditional knowing involved vertical hierarchy — gods above, ancestors behind, the transcendent pulling upward. Vervaeke's "relevance realization" is horizontal and immanent. It's about functional fit between agent and arena, not participation in something that transcends both.

**What made interpreters uncomfortable:** That ancient wisdom wasn't available to everyone. That you had to *belong* to something to know certain things. That traditions made mutually exclusive claims. That wisdom wasn't a skill you developed but a grace you received.

---

## Original Strangeness

**The challenging core:** Knowing as dependent on belonging. You cannot know participatorily without being participatorily known. This isn't a practice you do; it's a position you occupy through no choice of your own.

The traditions Vervaeke draws from would find his synthesis strange:
- **Plato:** Only the philosophically educated — a small elite who've undergone decades of dialectical training — can see the Forms. This isn't democratic.
- **Christianity:** Knowing God requires being known by God first (1 Cor 13:12). The initiative isn't yours. And it happens through a specific Church, not a chosen practice ecology.
- **Buddhism:** The sangha (community) is one of the Three Jewels. You can't extract the practices from the lineage.

**Form of life assumed:** A world where you are born into something — a people, a lineage, a religious tradition — and that inheritance determines what you can know. Not because you chose it, but because it chose you. The modern autonomous subject who selects from a buffet of practices is precisely what these traditions *weren't*.

**Question being answered:** Not "how do I achieve wisdom?" (active, chosen) but "how am I being formed by what I belong to?" (passive, received).

---

## Counter-Readers

**Who saw clearly:**

- **Guénon** (*The Reign of Quantity*): Diagnosed the modern attempt to extract "universal" spiritual content from particular traditions as itself a symptom of degeneration. The perennialist synthesis he proposed was NOT democratic — it assumed an initiatic elite who could perceive the metaphysical unity. The popular "all paths lead to the same place" is precisely what he warned against.

- **MacIntyre** (*After Virtue*): Showed that rationality is tradition-constituted. You can't abstract universal ethical content from particular traditions because the content only makes sense within the tradition. The Enlightenment attempt to do so produced emotivism.

- **Pickstock** (*After Writing*): Argued that modernity's problem is precisely the attempt to make meaning available without liturgy — without the bodily, communal, particular practices that constitute the space where meaning can appear.

- **The Traditionalist critique generally:** Evola, Schuon, and others who saw that the modern synthesis project recapitulates the very error it claims to solve — treating wisdom as content to be extracted rather than capacity to be transmitted.

---

## Larper Tell

**The giveaway:** "I've developed my own ecology of practices combining Buddhist meditation, Stoic journaling, and contemplative movement."

**What it reveals:** The sovereign subject selecting from a buffet. This is precisely the condition that ancient traditions would have seen as impoverished — the person who belongs to nothing and therefore can know nothing participatorily. The confidence with which someone curates their practice portfolio demonstrates they haven't understood what participatory knowing requires: not choosing but being chosen.

**Alternative tell:** "Vervaeke helped me understand what the traditions were pointing at without having to commit to any of them." — The framework as inoculation against the very commitment it seems to recommend.

---

## Recovery

**What becomes available:** The question of belonging as prior to the question of practice.

If we let the strangeness surface:
- **Lineage becomes epistemological again** — who you learn from isn't incidental but constitutive of what you can know
- **Initiation becomes non-optional** — participatory knowing requires being received into something, not selecting practices
- **Exclusivity becomes thinkable** — traditions that claim "this is the way" aren't failing at tolerance; they're asserting something about the structure of reality
- **Hierarchy becomes intelligible** — not everyone can know everything; some knowledge requires positions not everyone occupies

**What question can we ask again:** What do I *belong to* that I didn't choose, and what does that belonging make knowable?

**Stakes:** The meaning crisis isn't solved by better practice selection. It's solved — if at all — by recovering or building actual communities of transmission that can initiate people into participatory knowing. Vervaeke's framework, brilliant as it is, might actually *prevent* this by making the structural features available without the initiatic content. You can feel like you understand participatory knowing while remaining a sovereign consumer of practices.

---

## Meta-Apologetic Note

**The loomlib adaptation itself:** The \`fw-four-knowings\` document in this graph has inherited the domesticated version. It presents the four knowings as a "diagnostic application" — a tool for evaluating learning and skill acquisition. This is useful but thin. The original strangeness (knowing as dependent on belonging) doesn't appear.

**The user commitments tension:** \`idx-user-commitments\` identifies this precisely:
- Vervaeke is a "teacher, not peer"
- He's listed as an **anti-peer** in the traditionalism section: "Vervaeke (syncretist where you're lineage-conscious)"
- The framework is "adopted" but the question remains: "Do you share their telos, or have you moved beyond them?"

The apologetic suggests: the useful structural content has been extracted, but the telos is different. Vervaeke's project is a secular-sacred synthesis available to anyone. The user's project is lineage-conscious particularity. These are not the same.

---

## Production Readiness

**Ready for full instance?** Partially — the domestic reading and suppressed element are clear, but the recovery needs sharpening.

**What's needed:**
- [ ] Clearer articulation of what "knowing through belonging" looks like operationally
- [ ] Examples of traditions that resist the synthesis (where exclusivity is load-bearing)
- [ ] Engagement with Vervaeke's own responses to this critique (has he addressed it?)

**Potential compositions:**
- Could compose with excavation of: WISDOM (what gets lost when wisdom becomes technique), INITIATION (the dying-into-knowing that synthesis erases), PARTICIPATION (the mystical sense vs. the cognitive science sense)
- Could inform apologetic of: MEANING CRISIS (the discourse itself), REBEL WISDOM (the media ecosystem), RELEVANCE REALIZATION (the key technical term)
- Could ground video on: "Participatory Knowing VERSUS Belonging" or "What Vervaeke Can't Give You"

**Suggested operator:** VERSUS (Participatory knowing as practice VERSUS participatory knowing as belonging)

**Sources consulted:**
- Vervaeke, *Awakening from the Meaning Crisis* (lecture series)
- Popular summaries: [Psychology Today](https://www.psychologytoday.com/us/blog/theory-knowledge/202101/john-vervaeke-s-brilliant-4p3r-metatheory-cognition), [By Love Alone](https://www.by-love-alone.com/blog/4-kinds-of-knowing)
- Counter-readers: Guénon, MacIntyre, Pickstock
- User commitments index: \`idx-user-commitments\``,
  },
  {
    id: 'inst-apologetic-odysseus',
    title: 'Apologetic: Odysseus',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-apologetic-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['apologetic', 'domestication', 'odysseus', 'homer', 'thumos', 'nostos', 'strangeness'],
    content: `# Apologetic: Odysseus

**Date:** 2026-01-08
**Status:** research (pre-production)

---

## Dominant Reading

**Received view:** The curious traveler, proto-humanist, "well-rounded man." Patron hero of the liberal arts. The clever hero whose intellect and resilience exemplify the human spirit. Odysseus as the figure who shows us that "a liberal education is an education in interpretation."

**Confirms:** Liberal cosmopolitanism. Secular inquiry as leisure. Individual autonomy. The Renaissance humanist ideal of the complete person. The bourgeois subject who navigates the world through cunning and self-possession.

**Makes original a precursor to:** The Enlightenment subject. The tolerant cosmopolitan. The curious traveler who experiences difference as enrichment. The self-made man who returns from his adventures improved.

---

## Domestication Operation

**Primary operation:** Liberalizing — reading through assumptions about individual choice, curiosity as leisure, secular inquiry as the highest form of engagement with the world.

**Secondary operations:**
- **Psychologizing** — converting *thumos* (spirited response, righteous anger) into "trauma," "unresolved feelings," or "emotional processing"
- **Secularizing** — treating divine action as narrative device, stripping the cosmic stakes
- **Aestheticizing** — reducing the epic to "great literature," a cultural accomplishment to be appreciated

**How it works:** The humanist tradition appropriates Odysseus as "the hero of the mind" who exemplifies intellectual curiosity. His suffering becomes character development. His anger becomes a psychological problem to be overcome through self-control (Socrates' reading in *Republic* 441b-c). His *nostos* becomes "the journey home" rather than *return to light and life*. The divine becomes background or metaphor. What remains is a figure who confirms our own values: tolerance, curiosity, self-improvement.

---

## Suppressed Element

**What's flattened:**

The anger. Not psychological anger to be managed, but *thumos* — "energetic thinking that leads to action," the fire in the heart that drives men to act when their honor is violated. Odysseus's rage at the suitors is not a psychological problem but a demand for justice.

The broken trust with the divine. Poseidon's *orgē* — slow-burning resentment, the grudge that does not forget — is not a plot device but a fundamental condition. The gods can be trusted to destroy you. Divine action is real and unintelligible. There is no "personal relationship" with the gods, no comfort, no explanation.

The violence. Renaissance humanists noticed the "penchant for violence in the service of personal gain and glory" in the Kikonian episode — and couldn't square it with their cardinal virtues. So they looked away.

**What made interpreters uncomfortable:** A hero who is both intellectually extraordinary and capable of slaughter. A world where the divine is real but not benevolent. A *nostos* that isn't "personal growth" but restoration of cosmic order through blood.

---

## Original Strangeness

**The challenging core:** Epistemology as spirited response to divine unintelligibility. Knowing born from betrayal, not leisure.

Odysseus knows because he has been destroyed by divine caprice and survived. His *polytropos* (many-turning) nature isn't curiosity — it's the cunning required when you cannot trust the cosmic order. As Adorno and Horkheimer saw: "Defiance and delusion are one, and whoever defies them is lost to the myth he faces. But cunning is defiance that has become rational."

**Form of life assumed:** A world where the gods are real, hostile or indifferent, and do not explain themselves. Where *nostos* means not just "going home" but "return to light and life" — a mystical category connected to the rising of the sun, the overcoming of death itself. Where a man's anger at violated justice is not pathology but the appropriate response.

**Question being answered:** How do you live — and come home — when the cosmos is hostile and unintelligible? What form of intelligence emerges from betrayal rather than security?

---

## Counter-Readers

**Who saw clearly:**

- **Adorno & Horkheimer** (*Dialectic of Enlightenment*, 1947): Saw Odysseus as the "bourgeois prototype" whose cunning exemplifies the domination of nature — including his own. They didn't romanticize him but diagnosed him: "He acknowledges himself to be himself by denying himself under the name Nobody; he saves his life by losing himself." They understood the self-destruction built into Enlightenment reason.

- **Dante Alighieri** (*Inferno* XXVI): Placed Odysseus/Ulysses in the eighth circle of hell — a move the humanist tradition finds embarrassing or paradoxical. But Dante saw something: the rupture from divine approval. His Ulysses is divorced from "the false and lying gods" and thereby from any heroic legitimacy. The charm of his speech ("tenderness and beauty") is precisely the danger.

- **Gregory Nagy** (Harvard): Recovered the mystical dimension of *nostos* — "return to light and life" — connecting it to solar mythology and immortalization. Made visible what the secular reading erases.

---

## Larper Tell

**The giveaway:** "Dante clearly condemns Ulysses for his excessive curiosity."

**What it reveals:** This reading treats Dante's placement as a simple moral judgment (curiosity = bad) rather than engaging with the theological rupture Dante stages. Dante's Ulysses creates his own ending — one where he doesn't return home, where *nostos* fails. The condemnation isn't about curiosity but about the subject who severs himself from divine order entirely. Someone who reads "curiosity bad" has absorbed the Enlightenment framing and can't see what Dante is actually doing.

**Alternative tell:** "Odysseus is basically Stoic" — projects a much later philosophical framework onto a figure whose *thumos* is precisely what Stoicism would dissolve.

---

## Recovery

**What becomes available:** A model for inquiry under conditions of collapsed legitimacy. The right to be angry and still seek. Intelligence that emerges from betrayal rather than comfort.

If we let Odysseus be strange:
- **Thumos becomes available** — not as pathology but as the spirited response appropriate to violated justice
- **Divine unintelligibility becomes thinkable** — not as primitive superstition but as a real condition (the cosmos does not explain itself to us)
- **Nostos recovers its stakes** — not personal growth but return to light and life, restoration of order through violence if necessary
- **Cunning gets revalued** — not as mere cleverness but as the intelligence that emerges when you cannot trust the cosmic order

**What question can we ask again:** What does it mean to know when knowledge is forced upon you by hostile circumstances rather than chosen as leisure? What form of intelligence is appropriate to a world that doesn't owe you an explanation?

**Stakes:** We might stop reading our own liberal assumptions back into antiquity and discover forms of life — ways of knowing, acting, and returning — that don't confirm what we already believe. Odysseus as genuinely foreign.

---

## Production Readiness

**Ready for full instance?** Yes — research is sufficient

**Potential compositions:**
- Could compose with excavation of: NOSTOS (the mystical dimension), THUMOS (the spirited response), POLYTROPOS (the many-turning)
- Could inform apologetic of: ACHILLES (different nostos failure), PENELOPE (the complementary figure), ATHENA (divine alliance rather than hostility)
- Could ground video on: "Odysseus AS spirited inquiry" or "Nostos VERSUS journey"

**Suggested operator:** AS (Odysseus AS spirited response to divine unintelligibility)

**Sources consulted:**
- Adorno & Horkheimer, *Dialectic of Enlightenment* (1947)
- Gregory Nagy, *The Ancient Greek Hero in 24 Hours* (Harvard)
- Dante, *Inferno* XXVI and commentary tradition
- Classical scholarship on *thumos* and *nostos*`,
  },
  {
    id: 'inst-corporation',
    title: 'CORPORATION',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-etymon-method', 'fw-oikonomia-chrematistics'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['etymology', 'corporation', 'body', 'immortality', 'legal-fiction'],
    content: `# CORPORATION

**Type:** Instance
**Frameworks:** Etymon Method, Oikonomia vs Chrematistics
**Output:** Etymon
**Status:** Incubating

## The Body BEHIND Corporation

The operator: **BEHIND** — what's concealed

---

## Excavation

Latin *corpus* — body. *Corporare* — to form into a body. *Corporatio* — the forming of a body.

A corporation was a body made of people. The *corpus* was collective — monks, guilds, universities, towns. Groups incorporated to act as one.

The body was mortal-ish. Monasteries could outlast individual monks, guilds could outlast individual craftsmen. But the body required members. No people, no corpus.

## Drift

**Body of people → Legal person → Immortal entity → Disembodied capital**

1. **Body of people:** Collective form for common action
2. **Legal person:** The body gains legal standing distinct from members
3. **Immortal entity:** The corporation outlives all founders, members, owners
4. **Disembodied capital:** The "body" is pure financial structure; humans are inputs

The modern corporation is a body with no body. It's "incorporated" but has no *corpus*. It's a legal fiction that can own property, make contracts, sue and be sued — but cannot die, feel, or be held in quite the way persons can.

## What the Drift Costs

When corporations were bodies:
- They needed members (no people, no body)
- They could be chartered for specific purposes (the body had a telos)
- They could be dissolved (mortality was possible)
- Responsibility was locatable (humans were present)

When corporations are immortal persons:
- They persist without members (shareholders are not the body)
- Purpose is "shareholder value" (generic chrematistic telos)
- Death is rare and difficult (legal structures resist dissolution)
- Responsibility diffuses (no one is the corporation)

## The Chrematistic Turn

The corporation solved chrematistics' mortality problem. Individual accumulators die. Corporations don't. Wealth can compound beyond any human lifetime.

Limited liability solved the risk problem. You can participate in accumulation without personal exposure. Capital grows; persons are shielded.

## Recovery

What would mortal corporations look like?

- **Sunset clauses:** Corporations chartered for limited terms, requiring renewal
- **Purpose locks:** The corporate "body" has a telos beyond accumulation
- **Steward ownership:** Non-extractive, non-transferable ownership
- **Living body requirements:** Structures that require ongoing human membership
- **Death possibility:** Legal structures that can and do die

The question: What is the *corpus* — the body — of this corporation? If the answer is "nothing" or "financial structure," the word has drifted far from its root.

---

## The Compression

**CORPORATION:** From body of people to immortal legal fiction. The *corpus* was once collective — humans incorporated for common purpose. Now corporations are "bodies" with no bodies, legal persons that cannot die. Recovery means asking: what would it mean for corporations to be mortal again?

*Incubating — needs Berle & Means, Ciepley on corporate theory*`,
  },
  {
    id: 'inst-credit',
    title: 'CREDIT',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-etymon-method', 'fw-oikonomia-chrematistics'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['etymology', 'credit', 'trust', 'belief', 'debt'],
    content: `# CREDIT

**Type:** Instance
**Frameworks:** Etymon Method, Oikonomia vs Chrematistics
**Output:** Etymon
**Status:** Incubating

## CREDIT WITHOUT Trust

The operator: **WITHOUT** — names what's lost

---

## Excavation

Latin *credere* — to believe, to trust, to entrust. *Credo* — I believe (also the origin of "creed").

Credit was belief. To extend credit was to believe in someone — their word, their capacity to repay, their trustworthiness. The creditor believed the debtor.

Related: *credibility* (believability), *incredible* (unbelievable), *credentials* (evidence warranting belief).

The web of credit was a web of trust. Reputation mattered because credit was belief.

## Drift

**Belief → Trust → Lending → Score**

1. **Belief:** I believe in you, therefore I lend
2. **Trust:** I trust you'll repay, therefore I lend
3. **Lending:** I lend, secured by collateral or contract
4. **Score:** The algorithm rates your creditworthiness; belief is irrelevant

Modern credit is secured by mechanisms, not belief. Your credit score is a prediction, not a judgment about character. The lender doesn't need to believe in you — they need to calculate default probability.

## What the Drift Costs

When credit was belief:
- Reputation was essential (belief required social knowledge)
- Default was shameful (betrayed trust, not just broken contract)
- Credit relationships were personal (the creditor knew the debtor)
- Limits were social (you could only borrow from those who knew you)

When credit is calculation:
- Reputation is irrelevant (only data matters)
- Default is strategic (just a financial decision)
- Credit is anonymous (algorithm, not relationship)
- Limits are statistical (borrow up to the probability threshold)

## The Chrematistic Turn

Personal credit was bounded — you could only borrow from those who trusted you. Calculated credit is unbounded — as long as the math works, credit extends.

The shift from belief to calculation enabled unlimited credit expansion. No relationship required. No trust necessary. Just collateral, contracts, and credit scores.

## Recovery

What would credit-as-belief mean today?

- **Relational lending:** Credit extended based on knowledge, not scores
- **Reputation systems with memory:** Default has social, not just financial, consequences
- **Credibility requirements:** The creditor must believe, not just calculate
- **Bounded credit:** Limits based on relationship, not just collateral

The question: Would this person lend to this borrower if they had to *believe* in them? If not — if credit flows only because calculation permits — something important is missing.

---

## The Compression

**CREDIT:** From belief to calculation. The creditor once believed in the debtor — their character, their word, their trustworthiness. Modern credit requires no belief, only collateral and scores. Recovery means asking: what would it mean to extend credit only where there's genuine trust?

*Incubating — needs Graeber on debt, Mehrling on money view*`,
  },
  {
    id: 'inst-credo-anthropology',
    title: 'Credo III: Anthropology — What Is Man?',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-worldview-architectonic'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['credo', 'anthropology', 'human-nature', 'archetypes', 'kwml', 'theosis', 'hierarchy', 'telos'],
    content: `# Credo III: Anthropology — What Is Man?

**The Question:** What is human nature? What are humans for?

**Status:** ◐ Articulated
**Action Required:** Clarify archetype-theology relationship

---

## The Commitment (PARTIALLY ARTICULATED)

What is already held:

> Man has archetypal structure: King, Warrior, Magician, Lover. These are real structures of the psyche, not merely useful models. Man is fallen but redeemable — Christian anthropology. Human telos is integration — the "full mature masculine." Hierarchy is natural — some are fit to govern, some are not.

What remains to clarify:

> Is the archetypal framework descriptive (useful model) or ontological (real structures of being)? What is the relationship between Jungian psychology and Christian anthropology — are they compatible, or must one subordinate the other?

---

## The Strong Positions

### Archetypal Structure (KWML)

From extensive work:
- **King:** Ordering, blessing, providing, protecting. The sovereign function.
- **Warrior:** Discipline, action, boundary-keeping, sacrifice. The fighting function.
- **Magician:** Knowledge, transformation, initiation, power of insight. The knowing function.
- **Lover:** Connection, passion, embodiment, appreciation. The desiring function.

**Self-Diagnosis:**
- Magician dominant (90%)
- Warrior underdeveloped (core growth edge)
- King integrating
- Lover moderate

**The Imbalance:** Framework proliferation without shipping. Research without action. The Magician trap.

### Fallen but Redeemable

Christian anthropology:
- Man is created in God's image (Imago Dei)
- Man fell — the image is damaged, not destroyed
- Man can be redeemed — through Christ, by grace
- Human nature is fixed but damaged

This grounds:
- Recognition of sin without despair
- Possibility of transformation
- Need for grace, not just effort

### Human Telos is Theosis

The goal is not just forgiveness but transformation:
- Becoming like God (2 Peter 1:4 — "partakers of the divine nature")
- Orthodox emphasis on theosis/deification
- Integration of all faculties — not suppression but ordering
- The "full mature masculine" as natural-level goal; theosis as supernatural completion

### Hierarchy is Natural

| Source | Articulation |
|--------|--------------|
| Traditionalist | Caste-nature: some are Brahmin, some Shudra |
| Cavalier | Some are fit to govern by breeding and formation |
| Aristotelian | Natural slaves and natural masters (controversial) |
| Christian | Qualitative difference in calling, gifts, authority |

You affirm hierarchy without accepting rigid caste. The question is what grounds legitimate hierarchy.

---

## The Tension: Archetypes and Theology

### Are Archetypes Real?

**Option A: Archetypes are Useful Models**

- They describe patterns in human psychology
- They are heuristics, not ontological structures
- Jung was a psychologist, not a metaphysician
- The KWML framework is a tool, not a map of the soul

*Implication:* Archetypes can be discarded if a better model comes along. They don't conflict with theology because they're not making metaphysical claims.

**Option B: Archetypes are Ontological Structures**

- They are real features of the psyche
- The collective unconscious is real, not metaphorical
- Archetypes are discovered, not invented
- The KWML framework reveals true structure of masculine soul

*Implication:* Archetypes must be integrated with theology. They are part of creation — how God made man.

### Jungian Psychology and Christianity

**The Compatibility Question:**

| Jung | Christianity |
|------|--------------|
| Collective unconscious | ? (No equivalent doctrine) |
| Archetypes as autonomous | God as ultimate author of the soul |
| Individuation as goal | Theosis as goal |
| Shadow integration | Confession and transformation |
| Self (archetype) | Christ? Imago Dei? |

**Possible Positions:**

1. **Jung describes natural level; Christianity describes supernatural level**
   - Archetypes are how God made the psyche
   - Individuation is natural maturity; theosis is supernatural completion
   - No conflict — different levels

2. **Jung must be subordinated to Christianity**
   - Where Jung conflicts with doctrine, doctrine wins
   - The Self is not identical to God or Christ
   - Archetypes are filtered through Christian anthropology

3. **Jung offers insights Christianity has forgotten**
   - Christianity became too rationalist, lost contact with soul
   - Jung recovered experiential, imaginal dimension
   - Integration is needed, not subordination

---

## The Caste Question

Evola and the Traditionalists:
- Caste-nature is real: Brahmin (priests), Kshatriya (warriors), Vaishya (merchants), Shudra (workers)
- Human types are qualitatively different
- Hierarchy is metaphysically grounded
- Modernity's egalitarianism is against nature

**Do you affirm this?**

| Position | Implications |
|----------|--------------|
| Caste is real | Some people are naturally superior; hierarchy is metaphysical |
| Caste is useful metaphor | Describes differences without claiming ontological status |
| Caste is dangerous distortion | Confuses contingent hierarchy with natural order |

The Cavalier inheritance affirms hierarchy — but by breeding and formation, not by metaphysical caste. Is this distinction coherent?

---

## The Confession Required

To move from ◐ to ◉, you must state:

### On Human Nature

\`\`\`
I believe man is created in God's image, fallen, and redeemable.
Human nature is [fixed/plastic/developmental].
The damage of the fall is [total/partial/affects what specifically].
\`\`\`

### On Archetypes

\`\`\`
I believe archetypes are [ontological structures/useful models/something else].
The KWML framework [reveals/describes/approximates] the structure of the masculine soul.
Jungian psychology relates to Christianity by [subordination/integration/parallel tracks].
\`\`\`

### On Human Telos

\`\`\`
I believe man is for [theosis/flourishing/return to source/other].
This means [specific implications for how life should be lived].
The full mature masculine is [penultimate goal completed by theosis/natural expression of theosis/other].
\`\`\`

### On Hierarchy

\`\`\`
I believe hierarchy is [natural/constructed/both in different senses].
This is grounded in [caste-nature/formation/calling/gifts/other].
The implications for social order are [specific].
\`\`\`

---

## The Test

When this document moves from ◐ to ◉, it will contain:

> "I believe man is _____. Archetypes are _____. Human telos is _____. Hierarchy is grounded in _____. This commits me to _____."

The archetype-theology relationship must be clarified.

---

## Composition

**This document was informed by:**
- \`fw-worldview-architectonic\` (method)
- \`idx-bedford-credo\` (the credo index)
- \`fw-four-knowings\` (Vervaeke's framework)
- KWML work (Robert Moore, self-diagnosis)
- Traditionalist anthropology (Evola)

**This document enables:**
- \`inst-credo-ethics\` (what ought we do depends on what we are)
- \`inst-credo-political\` (legitimate hierarchy depends on human nature)
- \`inst-credo-ecclesiology\` (what the church is for depends on what man is for)`,
  },
  {
    id: 'inst-credo-ecclesiology',
    title: 'Credo X: Ecclesiology — Where Is the Church?',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-worldview-architectonic'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['credo', 'ecclesiology', 'church', 'orthodoxy', 'catholicism', 'protestantism', 'worship', 'sacrament', 'theosis'],
    content: `# Credo X: Ecclesiology — Where Is the Church?

**The Question:** What is the church, and where is it concretely located?

**Status:** ◔ Diagnosed but not resolved
**Action Required:** Make concrete decision

---

## The Commitment (TO BE WRITTEN)

*This section awaits the commitment. It cannot be written by synthesis of scattered positions — only by decision.*

\`\`\`
I believe the Church is _____.
It is concretely located at _____.
House Bedford will worship at _____ parish, under _____ bishop/pastor.
I hold this because _____.
This commits me to: _____.
\`\`\`

---

## The Journey So Far

### Origin: Baptist Protestant Background

The starting point. What this provided:
- Scripture as authority
- Personal relationship with Christ
- Suspicion of ritual and hierarchy
- Conversion experience as central

### Phase 1: Calvinism

What you learned:
- Systematic theology
- Sovereignty of God
- Predestination debates
- Reformed epistemology

### Phase 2: The Historical Turn

The question that changed everything:

> "Why is America and where I'm from so different in teachings than those 1st century Christians?"

This is the genealogical question. You applied to ecclesiology the same method you apply everywhere: *how did we get here?*

What you found:
- Historical Christian practices and beliefs from the 1st century did not correspond with Calvinist and evangelical beliefs
- Something happened between the Apostles and the Reformation
- The Reformation was a break, not a recovery

### Phase 3: Investigation of Ancient Churches

You investigated:
- **Roman Catholicism** — strongest institutional continuity, but post-Vatican II disrupted
- **Eastern Orthodoxy** — strongest claim to unchanged practice, but ethnic and compromised

---

## The Current Diagnosis

### What Protestantism Lacks

| Issue | Diagnosis |
|-------|-----------|
| **Sacramental mystery** | Rejected. Eucharist as memorial, not presence. |
| **Historical continuity** | Broken at Reformation. "Church was wrong for 1500 years, we recovered it." |
| **Liturgical inheritance** | Replaced with innovation. Each generation starts fresh. |
| **Hierarchy** | Rejected or minimized. Every man his own pope. |
| **Theosis** | Unknown or rejected. Salvation as transaction, not transformation. |

### What Rome Has and Lacks

| Has | Lacks (post-Vatican II) |
|-----|-------------------------|
| Apostolic succession | Liturgical integrity (Novus Ordo disrupted tradition) |
| Sacramental theology | Clear boundary (who is Catholic?) |
| Global reach | Resistance to modernity |
| Intellectual tradition (Aquinas) | Trust (abuse scandals, institutional compromise) |

### What Orthodoxy Has and Lacks

| Has | Lacks |
|-----|-------|
| Unchanged liturgy (Divine Liturgy) | Ethnic particularity (Greek, Russian, Serbian churches) |
| Theosis as goal | American presence (convert parishes exist but sparse) |
| Sacramental realism | Institutional unity (autocephalous churches, Moscow vs. Constantinople) |
| Answer to Evola (synergy, not grace-works dichotomy) | Accessibility (services long, in foreign languages) |

---

## The Orthodox Answer to Evola

This is significant and deserves articulation.

**The Evola Problem:** Grace vs. works seems like a Protestant/Catholic debate that misses something. Both sides accept the frame. Is there a tradition that dissolves the dichotomy?

**The Orthodox Answer:** Synergy.
- Neither grace alone (Protestant) nor works earning grace (caricature of Catholic)
- Theosis: becoming like God through cooperation of divine grace and human will
- The goal is not "going to heaven" but "becoming god" (small g — deification, not identity)
- This requires liturgical practice, sacramental participation, ascetic discipline

**Why this resonates:**
- Integrates action and grace (matches Ilyin's position in ethics)
- Makes worship transformative, not merely expressive
- Gives content to "what man is for" (theosis = telos)
- Dissolves Evola's critique of Christianity as passive

---

## The Unresolved Questions

### 1. Which Orthodoxy?

If Orthodoxy, which jurisdiction?
- **Greek Orthodox Archdiocese of America** — largest, but Greek ethnic character
- **Orthodox Church in America (OCA)** — autocephalous, more American
- **Antiochian Orthodox Christian Archdiocese** — historically Arab, but welcoming to converts
- **Russian Orthodox Church Outside Russia (ROCOR)** — conservative, but Russian politics

**The convert's dilemma:** Orthodoxy claims to be the Church, but it presents as ethnic churches. Which parish in Northwest Arkansas?

### 2. What About Rome?

The Catholic Church has claims too:
- Petrine primacy (Matthew 16:18)
- Institutional continuity
- Intellectual tradition (Aquinas, natural law)
- Global rather than ethnic

**Against:** Vatican II disrupted tradition. The Novus Ordo is not the Mass of the Ages. The current papacy causes concern.

**For:** Traditional Latin Mass communities exist (FSSP, ICKSP). The intellectual tradition is unmatched.

### 3. What About Staying Protestant?

Is there a case for remaining?
- **Anglican:** The Cavalier heritage is Anglican. The Episcopal Church is lost, but ACNA exists.
- **Reformed:** Intellectual rigor, covenant theology, but lacks sacramental realism.
- **Lutheran:** Sacramental, but German ethnic character, and Reformation break remains.

**Problem:** If you've diagnosed Protestantism as deficient in sacramental mystery and historical continuity, staying Protestant requires either:
1. Denying the diagnosis
2. Accepting the deficiency as acceptable
3. Finding a Protestant tradition that addresses the deficiency (Anglican?)

### 4. The Family Question

This is not just about you. It's about House Bedford.
- Where will the children be baptized?
- Where will they receive first communion?
- What tradition will form them?
- What will they inherit?

The Cavalier inheritance is Anglican. Converting to Orthodoxy would break that chain. But if Orthodoxy is true, the chain was already broken at the Reformation.

---

## The Lee Kuan Yew Directive

From the constructed dialogue:

> "Sit in the Divine Liturgy. Not as tourism. As investigation. Then decide."

**The protocol:**
1. Attend Divine Liturgy (Orthodox)
2. Not as observer — as participant (as far as non-Orthodox can participate)
3. Multiple times, different parishes
4. Then make a decision

**The principle:** Ecclesiology admits no refinement — only decision. "Orthodoxy is interesting" is not a position. "We will attend _____ parish" is.

---

## Downstream Implications

Whatever the decision, it commits to:

| If Orthodox | Commits to |
|-------------|------------|
| Catechesis | Formal instruction period (can be 1-2 years) |
| Chrismation | Received into the Church |
| Fasting | Serious fasting calendar (Wednesdays, Fridays, four major fasts) |
| Liturgical life | Sunday Liturgy is non-negotiable, plus feast days |
| Confession | Regular sacramental confession to a priest |
| Children | Baptized and chrismated as infants, communing from infancy |

| If Catholic (Traditional) | Commits to |
|---------------------------|------------|
| RCIA | Formal instruction period |
| Confirmation | Received into the Church |
| Mass attendance | Sunday obligation, plus holy days |
| Confession | Regular sacramental confession |
| Finding TLM community | Traditional Latin Mass parish (FSSP, ICKSP, diocesan TLM) |
| Children | Baptized as infants, first communion around age 7 |

| If Anglican (ACNA) | Commits to |
|--------------------|------------|
| Confirmation | If not already confirmed |
| Finding solid parish | ACNA quality varies widely |
| Accepting Protestant status | Remaining in Reformation tradition |
| Children | Baptized, confirmed, formed in Anglican tradition |

---

## The Decision Framework

### What Matters Most?

Rank these in order of importance:

1. **Historical continuity** — Unbroken line to the Apostles
2. **Sacramental realism** — Real presence, real transformation
3. **Theosis as telos** — Deification as goal, not just forgiveness
4. **Accessibility** — Parish available in Northwest Arkansas
5. **Family inheritance** — Continuity with Cavalier Anglican heritage
6. **Intellectual tradition** — Robust theology, answers to hard questions
7. **Practical formation** — Fasting, prayer rule, ascetic discipline

### The Hierarchy Suggests:

If 1-3 dominate → Orthodoxy or Traditional Catholicism
If 4-5 dominate → ACNA or available Protestant option
If 6 dominates → Traditional Catholicism (Aquinas, natural law tradition)
If 7 dominates → Orthodoxy (ascetic tradition most intact)

---

## Action Required

### Immediate

1. Research Orthodox parishes in Northwest Arkansas
2. Research Traditional Catholic communities in Northwest Arkansas
3. Research ACNA parishes in Northwest Arkansas

### Investigation

4. Attend Divine Liturgy at least 3 times at different Orthodox parishes
5. Attend Traditional Latin Mass at least 3 times
6. Attend ACNA liturgy at least 3 times

### Decision

7. By [DATE], make the decision
8. Begin catechesis/instruction
9. Update this document with the commitment

---

## The Test

When this document moves from ◔ (diagnosed) to ◉ (owned), it will contain:

> "I believe the Church is _____. House Bedford will worship at _____ parish, under _____ bishop. We chose this because _____. This commits us to _____."

Until then, the credo is incomplete.

---

## Composition

**This document was informed by:**
- \`fw-worldview-architectonic\` (method — the ten categories)
- \`idx-bedford-credo\` (the credo index)
- The ecclesiological journey described in user commitments
- The Evola/Orthodox synergy discussion

**This document enables:**
- Decision on Sunday morning
- Formation of House Bedford children
- Resolution of the "Christian question" in \`idx-user-commitments\``,
  },
  {
    id: 'inst-credo-economics',
    title: 'Credo VII: Economics — What Is Wealth For?',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-worldview-architectonic', 'fw-oikonomia-chrematistics'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['credo', 'economics', 'list', 'oikonomia', 'chrematistics', 'american-system', 'distributism', 'productive-capacity'],
    content: `# Credo VII: Economics — What Is Wealth For?

**The Question:** What is the purpose of economic activity? What is the right relationship between economy and polity?

**Status:** ◉ Solid
**Action Required:** Resolve List/Distributist tension

---

## The Commitment (ARTICULATED)

What is already held:

> Friedrich List over Ricardo: productive capacity over exchange efficiency. Oikonomia over chrematistics: household flourishing over unlimited accumulation. American System tradition: Hamilton, Clay, Lincoln. Skepticism of financialization. Long time horizons, regional rootedness, human-scale enterprise. Capital deployed for productive power, not financial return.

What remains to resolve:

> How do you handle the tension between List (national-scale industrial policy) and Distributism (small-scale ownership)? At what scale should enterprise operate? How does Bedford capital relate to the broader economy?

---

## The Strong Positions

### Friedrich List over Ricardo

| Ricardo | List |
|---------|------|
| Comparative advantage | Productive capacity |
| Free trade always beneficial | Protection for infant industries |
| Efficiency as goal | National development as goal |
| Static equilibrium | Dynamic growth |
| All nations should specialize | Nations should develop full productive base |

**Your Position:**
- Ricardo's free trade theory serves those already industrialized
- List understood that nations must develop productive capacity before competing
- The American System (Hamilton, Clay, Lincoln) followed List, not Ricardo
- Free trade ideology is a tool of already-dominant powers

### Oikonomia over Chrematistics

From Aristotle (and \`fw-oikonomia-chrematistics\`):

| Oikonomia | Chrematistics |
|-----------|---------------|
| Household management | Wealth acquisition |
| Natural, bounded | Unnatural, unlimited |
| Wealth for use | Wealth for accumulation |
| Aim: flourishing | Aim: more |

**Your Position:**
- The economy should serve household flourishing
- Unlimited accumulation is a vice, not a goal
- Financialization (money making money) is chrematistics run wild
- Enterprise should be embedded in community, not abstract capital flows

### American System Tradition

| Figure | Contribution |
|--------|--------------|
| Hamilton | Report on Manufactures — develop national industry |
| Clay | American System — tariffs, internal improvements, national bank |
| Lincoln | Protective tariffs, transcontinental railroad, land-grant colleges |
| List | National System of Political Economy — theory behind the practice |

**Your Position:**
- This is your tradition — not British free trade, not Continental socialism
- American development happened through state action, not laissez-faire
- The tradition was abandoned in the 20th century — first for Cold War alliances, then for neoliberal ideology
- Recovery of this tradition is possible and necessary

### Long Time Horizons

- Short-term profit destroys long-term capacity
- Financialization optimizes for quarterly returns
- Regional rootedness requires multi-generational thinking
- The Bedford inheritance spans 14 generations — that's the time horizon

### Skepticism of Financialization

| Productive Economy | Financialized Economy |
|--------------------|----------------------|
| Makes things | Trades claims on things |
| Creates value | Extracts rents |
| Regional, embodied | Global, abstract |
| Long time horizons | Short-term extraction |

**Your Position:**
- Finance should serve production, not the reverse
- FIRE sector (Finance, Insurance, Real Estate) has grown cancerously
- "Capital" now means financial assets, not productive capacity — this is the degradation

---

## The Tension: List vs. Distributism

### The List Position

- National-scale industrial policy
- The state develops productive capacity
- Tariffs protect infant industries
- Infrastructure investment (internal improvements)
- Big players serve national development

*Implication:* Large-scale enterprise is acceptable if it serves national productive capacity.

### The Distributist Position

- Widespread ownership is the goal
- Both capitalism and socialism concentrate power
- Small property, family enterprise, guild organization
- "Three acres and a cow"
- Human-scale is essential

*Implication:* Large-scale enterprise is dangerous regardless of who controls it.

### The Tension

List implies national champions, coordinated industrial policy, big players.
Distributism implies small players, widespread ownership, local production.

**Can you hold both?**

### Possible Resolution

**Option A: Scale by Sector**

| Sector | Scale |
|--------|-------|
| Infrastructure | Large (national) |
| Heavy industry | Large (national champions) |
| Agriculture | Small (family farms) |
| Retail/services | Small (local ownership) |
| Finance | Regulated, serve production |

*Some things require scale; others thrive at human scale.*

**Option B: Subsidiarity**

- What can be done locally, should be done locally
- What requires larger scale, should be regional
- Only what requires national scale should be national
- Large enterprises are tolerable only when necessary

*This is Catholic social teaching applied to economics.*

**Option C: Developmental Nationalism with Distributist Telos**

- Use Listian methods (tariffs, industrial policy) to develop productive capacity
- But aim toward distributed ownership over time
- National champions during development phase
- Break up and distribute once capacity is established

*Germany used cartels to industrialize, then regulated them.*

**Option D: Bedford Capital as Model**

- You cannot change the whole economy
- But you can build according to your principles
- Bedford capital: long time horizons, productive investment, regional rootedness
- Build a protected space within the broader economy
- Demonstrate the alternative rather than advocating for it at scale

*This is Alasdair MacIntyre's "new Benedict option" applied to economics.*

---

## The Role of the State

| Position | State Role |
|----------|------------|
| Liberal | Minimal — enforce contracts, protect property |
| Listian | Active — develop productive capacity, protect industries |
| Distributist | Shape incentives — favor small property, break up concentrations |
| Your synthesis? | ? |

**The Question:**
- How much state action do you want?
- What kind of state? (National? Regional? Local?)
- How does this relate to your political philosophy (authority, hierarchy)?

---

## Bedford Capital Specifically

How does your capital relate to the broader economy?

**Option A: Change the System**
- Advocate for policy change (Listian industrial policy)
- Political action to shift economic structure
- Long-term project, uncertain success

**Option B: Build Protected Space**
- Invest according to your principles within current system
- Regional, productive, long-term
- Model the alternative
- Don't try to change the system — outcompete it locally

**Option C: Both**
- Build protected space now (practical)
- Advocate for system change over time (strategic)
- Phase 1: Build. Phase 2: Advocate when conditions allow.

---

## The Confession Required

To move from ◉ to ◉ (solid, fully articulated), you must state:

### On the Purpose of Economy

\`\`\`
I believe the economy exists to [serve household flourishing/develop productive capacity/both].
Wealth is for [use/accumulation/stewardship/other].
\`\`\`

### On List vs. Distributism

\`\`\`
I resolve the List/Distributism tension by [scale by sector/subsidiarity/developmental nationalism with distributist telos/other].
Enterprise should operate at [human scale except when.../national scale for.../other].
\`\`\`

### On State Role

\`\`\`
The state should [actively develop productive capacity/shape incentives toward distribution/minimal intervention/other].
This relates to my political philosophy because [connection].
\`\`\`

### On Bedford Capital

\`\`\`
Bedford capital relates to the broader economy by [building protected space/advocating system change/both].
The strategy is [specific approach].
\`\`\`

---

## The Test

When this document is complete, it will contain:

> "I believe the economy exists to _____. I resolve the List/Distributism tension by _____. The state should _____. Bedford capital will _____."

This is already the strongest category. Completing it means specifying the tensions.

---

## Composition

**This document was informed by:**
- \`fw-worldview-architectonic\` (method)
- \`idx-bedford-credo\` (the credo index)
- \`fw-oikonomia-chrematistics\` (Aristotelian distinction)
- \`src-list-national-system\` (List)
- \`src-hamilton-report-manufactures\` (Hamilton)
- \`inst-american-system\` (prior work)
- Distributist tradition (Chesterton, Belloc)

**This document enables:**
- Investment decisions
- Business structure decisions
- Political economy advocacy
- Career decisions`,
  },
  {
    id: 'inst-credo-epistemology',
    title: 'Credo IV: Epistemology — How Do We Know?',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-worldview-architectonic', 'fw-four-knowings'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['credo', 'epistemology', 'knowledge', 'four-knowings', 'participatory', 'revelation', 'gnosis', 'authority'],
    content: `# Credo IV: Epistemology — How Do We Know?

**The Question:** What counts as knowledge? How do we access truth?

**Status:** ◐ Strong
**Action Required:** State authority structure

---

## The Commitment (MOSTLY ARTICULATED)

What is already held:

> Four kinds of knowing: propositional, procedural, perspectival, participatory. Modernity over-indexes on propositional; I seek participatory. Encounter is a valid mode of knowledge — my conversion experience proves this to me. Genealogical thinking structures inquiry. Philological excavation reveals what surfaces conceal. I believe in gnosis — knowledge that transforms the knower.

What remains to state:

> When reason and revelation conflict, which wins? When my excavation contradicts Church teaching, what do I do? What is the authority structure?

---

## The Strong Positions

### The Four Knowings (from Vervaeke)

| Type | Description | Example |
|------|-------------|---------|
| **Propositional** | Knowing that | "The capital of France is Paris" |
| **Procedural** | Knowing how | Riding a bicycle |
| **Perspectival** | Knowing what it's like | Being in love |
| **Participatory** | Knowing by becoming | Wisdom, transformation |

**The Diagnosis:**
- Modernity over-indexes on propositional knowing
- This causes the "meaning crisis" — we know facts but lack wisdom
- Recovery requires all four kinds, with participatory as integrating

**Your Position:**
- This framework is adopted, not just acknowledged
- Participatory knowing is the goal — not just information but transformation
- The LSD conversion was participatory knowing — you became different

### Encounter as Knowledge

Your conversion account:
> "I recognized I believed in an ontological evil... I felt the power and the moment... I have to be on the side of good and submit that Christ is my Lord and savior."

This was not argument. It was encounter. And encounter produced knowledge:
- Knowledge of ontological evil (by experience)
- Knowledge of ontological good (by inference from encounter)
- Knowledge of Christ as the good (by participatory identification)

**Implication:** Encounter is a valid epistemic mode. Experience can produce knowledge that argument cannot reach.

### Genealogical Thinking

From Vervaeke and your own practice:
- "How did we get here?" structures inquiry
- Understanding requires tracing development
- Current confusion often comes from forgotten origins
- Recovery requires excavation of history

This grounds the Etymon Method — etymology as archaeology.

### Philological Excavation

From your original work:
- Terms carry operational capacity from their origins
- Modern usage often degrades original meaning
- Etymology reveals what surfaces conceal
- Recovery is for application, not nostalgia

This is a method of knowing — not just propositional knowledge about words, but participatory recovery of lost capacity.

### Gnosis

You believe in gnosis:
- Knowledge that transforms the knower
- Not just information but initiation
- Some truths are accessible only through transformation
- You must be changed to perceive them

This is risky — gnosis can become Gnosticism. But you affirm it.

---

## The Tension: Authority Structure

### The Question

When different sources of knowledge conflict, which wins?

**The Possible Conflicts:**

| Source A | Source B | Question |
|----------|----------|----------|
| Reason | Revelation | Does philosophy override Scripture? |
| Experience | Tradition | Does my encounter override the Church's teaching? |
| Excavation | Doctrine | If etymology reveals something the Church hasn't taught, what then? |
| Participatory | Propositional | If what I know by becoming conflicts with what I know by argument? |

### The Options

#### Option A: Reason Supreme

- Revelation must accord with reason to be accepted
- Experience is filtered through rational critique
- The Enlightenment position

*Why Rejected:* You've experienced things reason cannot ground. The encounter was real. Reason alone is insufficient.

#### Option B: Revelation Supreme

- Scripture and Tradition are the final authority
- Experience and reason are subordinate
- If my experience contradicts Church teaching, my experience is in error

*Why Attractive:* This is the traditional Christian position. It guards against private illumination.

*Why Problematic:* Which revelation? (Ecclesiology unresolved.) What about valid experiences that the Church hasn't processed?

#### Option C: Experience Supreme

- My encounter is my ultimate authority
- Tradition and reason are filtered through experience
- Private gnosis trumps public doctrine

*Why Dangerous:* This is the road to heresy, delusion, and solipsism. The Gnostics took this path.

#### Option D: Integration Under Tradition

- Tradition provides the framework
- Experience, reason, excavation operate within that framework
- When they conflict with tradition, tradition has presumptive authority
- But tradition can be reformed by sufficient weight of experience and reason

*This seems closest to your operative position.* You investigate within Christian tradition. But you also excavate, which can challenge received understanding.

### The Specific Question

If your philological excavation reveals that a term has been misunderstood — and the Church has taught based on that misunderstanding — what do you do?

**Possible Answers:**

1. **Submit to Church teaching** — Your excavation is probably wrong, or the Church has reasons you don't see.

2. **Propose correction humbly** — Excavation can refine understanding; the Church can learn.

3. **Distinguish levels** — Dogma is non-negotiable; theological opinion is open to revision; pastoral practice can change.

4. **Await resolution** — Hold the tension; time will reveal which is right.

---

## The Confession Required

To move from ◐ to ◉, you must state:

### On the Four Knowings

\`\`\`
I believe all four modes of knowing are valid: propositional, procedural, perspectival, participatory.
Participatory knowing is [supreme/integrating/one among equals].
Modernity's problem is [over-indexing on propositional/other diagnosis].
\`\`\`

### On Encounter and Gnosis

\`\`\`
I believe encounter produces genuine knowledge.
Gnosis — transformative knowledge — is [real and valuable/dangerous and suspect/both].
The risk of private illumination is managed by [submission to tradition/communal discernment/other].
\`\`\`

### On Authority Structure

\`\`\`
When reason and revelation conflict, [revelation wins/reason wins/we seek integration/other].
When experience and tradition conflict, [tradition has presumptive authority/experience can override/we hold tension/other].
When excavation reveals something the Church hasn't taught, I [submit/propose humbly/distinguish levels/other].
\`\`\`

---

## The Test

When this document moves from ◐ to ◉, it will contain:

> "I believe knowledge comes through [sources]. When these conflict, [authority structure]. This commits me to [implications for how I handle disagreement with received teaching]."

The authority question must be answered.

---

## Composition

**This document was informed by:**
- \`fw-worldview-architectonic\` (method)
- \`idx-bedford-credo\` (the credo index)
- \`fw-four-knowings\` (Vervaeke's framework)
- The conversion encounter
- The Etymon Method

**This document enables:**
- \`inst-credo-ethics\` (what we should do depends on what we can know)
- Trust calibration in future work
- Handling of apparent conflicts`,
  },
  {
    id: 'inst-credo-eschatology',
    title: 'Credo IX: Eschatology — What Is the End?',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-worldview-architectonic'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['credo', 'eschatology', 'resurrection', 'heaven', 'hell', 'judgment', 'new-creation', 'death', 'afterlife'],
    content: `# Credo IX: Eschatology — What Is the End?

**The Question:** What is the final state? What happens after death, after history?

**Status:** ○ Implicit
**Action Required:** Articulate explicitly

---

## The Commitment (NOT YET ARTICULATED)

What is implied by confessing Christ:
- Resurrection of the body
- Judgment
- Heaven and hell
- New creation

What is not yet articulated:
- What do you actually believe happens after death?
- What is heaven? What is hell? States, places, both?
- What is the resurrection of the body — continuity of this body, or something else?
- What is the new creation — restoration of Eden, or something genuinely new?

---

## The Implied Positions

### From Christ Confession

If Christ rose bodily, and you confess Him:
- Death is not the end
- Resurrection is bodily (Christ's tomb was empty)
- Judgment follows death ("it is appointed for man to die once, and after that comes judgment" — Hebrews 9:27)
- Christ's resurrection is the guarantee of ours

### From Christian Tradition

The creeds confess:
- "I believe in the resurrection of the body and the life everlasting" (Apostles' Creed)
- "I look for the resurrection of the dead, and the life of the world to come" (Nicene Creed)

This is not optional Christian belief — it is creedal.

---

## The Questions Requiring Articulation

### What Happens at Death?

**The Options:**

1. **Soul sleep** — The soul "sleeps" until the resurrection
   - No conscious experience between death and resurrection
   - Protestant position (some)

2. **Immediate conscious existence** — The soul goes immediately to heaven or hell
   - "Today you will be with me in Paradise" (Luke 23:43)
   - Catholic/Orthodox position
   - But this is intermediate state, not final

3. **Particular judgment** — Each soul is judged at death
   - Determines intermediate state (heaven, hell, or purgatory)
   - Catholic position includes purgatory
   - Orthodox is less defined

**Your Position?** This requires articulation.

### What Is Heaven?

**The Options:**

1. **Place** — A location where the blessed go
   - "Many mansions" (John 14:2)
   - Spatialized conception

2. **State** — A condition of being with God
   - "Blessed are the pure in heart, for they shall see God" (Matthew 5:8)
   - The beatific vision is the content of heaven

3. **Both** — A place that is also a state
   - The New Jerusalem (Revelation 21)
   - Heaven comes to earth — a renewed creation

**The Orthodox Position:**
- Theosis continues after death
- Heaven is increasing participation in God's life
- Not static bliss but dynamic growth

**Your Position?** This requires articulation.

### What Is Hell?

**The Options:**

1. **Eternal conscious torment** — The damned suffer forever
   - "Everlasting fire prepared for the devil and his angels" (Matthew 25:41)
   - Traditional position

2. **Annihilationism** — The damned cease to exist
   - "The wages of sin is death" (Romans 6:23)
   - Destruction, not torment

3. **Universal reconciliation** — Eventually all are saved
   - "God may be all in all" (1 Corinthians 15:28)
   - Origen, Gregory of Nyssa (some readings)

4. **Hell as self-chosen separation** — Hell is the refusal of God
   - C.S. Lewis: "The doors of hell are locked from the inside"
   - Not punishment imposed but consequence chosen

**The Orthodox Position:**
- Hell is experiencing God's love as fire
- The same divine presence is heaven to the blessed and hell to the damned
- Emphasis on mystery and restraint in speculation

**Your Position?** This requires articulation.

### What Is the Resurrection of the Body?

**The Questions:**

1. **Continuity** — Is the resurrection body the same body or a new one?
   - Paul: "It is sown a natural body; it is raised a spiritual body" (1 Corinthians 15:44)
   - Christ was recognizable but also different (walked through walls, not always recognized)

2. **Material** — Is the resurrection body made of atoms or something else?
   - Thomistic: The same matter, perfected
   - Some: Different "matter" — spiritual body

3. **Identity** — What makes the resurrection body "you"?
   - Soul continuity?
   - Pattern continuity?
   - Divine decree?

**Your Position?** This requires articulation.

### What Is the New Creation?

**The Options:**

1. **Restoration** — Return to Eden
   - The fall undone
   - Paradise restored

2. **Transformation** — Something genuinely new
   - "Behold, I make all things new" (Revelation 21:5)
   - Not return but advance

3. **Both** — Restoration and transformation
   - The original good, plus the journey through history
   - Nothing is lost; all is transfigured

**Your Position?** This requires articulation.

---

## The Traditionalist Alternative

Guénon and Evola offer different eschatology:

| Christian | Traditionalist |
|-----------|----------------|
| Linear consummation | Cyclical return |
| Resurrection of body | Liberation from body |
| Individual survives | Individual dissolves into Absolute |
| New creation | New cycle or dissolution |

**The Question:**
If you confess Christ, you cannot hold Traditionalist eschatology without tension. Do you?

---

## The Confession Required

To move from ○ to ◉, you must state:

### On Death

\`\`\`
I believe at death [what happens — soul sleep/immediate conscious state/particular judgment].
\`\`\`

### On Heaven

\`\`\`
I believe heaven is [place/state/both/the beatific vision/theosis continuing/other].
\`\`\`

### On Hell

\`\`\`
I believe hell is [eternal conscious torment/annihilation/eventual reconciliation/self-chosen separation/other].
\`\`\`

### On Resurrection

\`\`\`
I believe the resurrection of the body means [continuity of this body/spiritual body/pattern preserved/other].
\`\`\`

### On New Creation

\`\`\`
I believe the new creation is [restoration of Eden/transformation/both/other].
\`\`\`

---

## The Test

When this document moves from ○ to ◉, it will contain:

> "I believe at death _____. Heaven is _____. Hell is _____. The resurrection means _____. The new creation is _____."

This cannot remain implicit. Confession requires articulation.

---

## Composition

**This document was informed by:**
- \`fw-worldview-architectonic\` (method)
- \`idx-bedford-credo\` (the credo index)
- \`inst-credo-theology\` (Christological commitments imply eschatology)
- \`inst-credo-history\` (philosophy of history connects to eschatology)
- Christian tradition (creeds, Scripture)
- Traditionalist alternative (Guénon, Evola)

**This document enables:**
- Resolution of the Traditionalist tension
- Clarity on what Christian hope means
- Guidance for how to live given the end`,
  },
  {
    id: 'inst-credo-ethics',
    title: 'Credo V: Ethics — What Is Good?',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-worldview-architectonic'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['credo', 'ethics', 'ilyin', 'virtue', 'grace', 'action', 'sin', 'red-lines', 'dirty-hands'],
    content: `# Credo V: Ethics — What Is Good?

**The Question:** What ought we do? What makes actions right or wrong?

**Status:** ◐ Articulated via Ilyin
**Action Required:** Define red lines

---

## The Commitment (ARTICULATED)

What is already held:

> "I would rather bear my sin to act in good intention than to not act in fear that I am in violation of the sacred."

This is:
- Grace-dependent action, not Pelagian earning
- Tragic realism — action in a fallen world always involves sin
- Rejection of both consequentialism and rigid deontology
- The statesman bears his sin, confesses, trusts grace, acts again
- Inaction is also sin — stewardship requires deployment

What remains to define:

> What are the red lines — sins you will not bear even for good ends? Where does "bearing sin" become "rationalizing evil"?

---

## The Strong Positions

### Ilyin's Framework

Ivan Ilyin (1883-1954), Russian philosopher:
- Action in a fallen world always involves sin
- The statesman cannot keep his hands clean
- Inaction is not innocence — failing to act when action is required is also sin
- The question is not "how to avoid sin" but "how to act despite sin"
- Grace covers the sin of the one who acts with good intention and confesses

**Your Articulation:**
> "I would rather bear my sin to act in good intention than to not act in fear that I am in violation of the sacred."

This is a commitment. You will act, knowing you may sin, trusting grace.

### Grace-Dependent Action

Not Pelagian:
- You do not earn salvation by works
- You cannot make yourself righteous by correct action
- Grace is primary — action is response to grace

Not quietist:
- Grace does not mean passivity
- "Faith without works is dead"
- Stewardship requires deployment of talents

**The Synthesis:**
- Act because you are forgiven, not to be forgiven
- Act knowing you will sin, trusting confession and grace
- Act because inaction is also sin — omission, not just commission

### Tragic Realism

The world is fallen. Action in it is never pure:
- Hiring one person means not hiring another
- Competing means someone else loses
- Protecting your family may harm another's
- Every choice closes off other choices

**Consequentialism** says: Calculate outcomes, maximize good.
*Problem:* You cannot see all outcomes. And this licenses terrible means.

**Deontology** says: Follow rules, regardless of outcomes.
*Problem:* Rigid rules in complex situations can produce evil (lying to Nazis to save Jews).

**Ilyin's position** says: Act with good intention, bear the sin, trust grace.
*Advantage:* Acknowledges the tragic without becoming calculating or rigid.

### Inaction is Also Sin

The Parable of the Talents (Matthew 25):
- The servant who buried his talent was condemned
- Not for doing evil, but for failing to act
- Stewardship requires risk

**Your Position:**
- You would rather act and be wrong than fail to act
- The Warrior underdevelopment (90% Magician) is a form of this sin — knowing without doing
- Etymon Episode 1 not shipping is a form of this sin

---

## The Tension: Red Lines

Ilyin's framework is powerful but dangerous. Without limits, "bearing sin" becomes rationalization.

### The Question

What sins will you not bear even for good ends?

**The Test Cases:**

| Action | Would You Bear This Sin? |
|--------|--------------------------|
| Lying to protect someone | Yes (most would agree) |
| Breaking a promise for greater good | Depends on the promise |
| Firing someone who needs the job | Yes (business requires it) |
| Paying below living wage | ? |
| Competing in ways that harm others | ? |
| Political action that violates stated principles | ? |
| Violence in defense of family | Yes (most would agree) |
| Violence in defense of cause | ? |
| Deception in business | ? |
| Silence in face of injustice | ? (but inaction is also sin) |

### Possible Red Lines

1. **Intrinsic evils** — Some acts are always wrong regardless of intention or outcome
   - Murder (not killing in war or self-defense, but murder)
   - Torture
   - Rape
   - Blasphemy
   - Direct lying about God or fundamental truths

2. **Threshold harms** — Some harms are so severe that no good end justifies them
   - Genocide
   - Enslavement
   - Destruction of innocents

3. **Corruption of soul** — Some actions, even if "successful," destroy the actor
   - Habitual deception that erodes integrity
   - Cruelty that hardens the heart
   - Cowardice that becomes character

4. **Violation of specific commitments** — Some promises are inviolable
   - Marriage vows
   - Oaths of office
   - Specific promises to specific persons

### The Distinction

**Bearing sin** = Acting with good intention in a situation where no clean option exists, confessing, trusting grace.

**Rationalizing evil** = Pretending the sin isn't sin, or claiming the end justifies any means, or refusing confession.

**The difference:**
- Bearing sin acknowledges the sin
- Rationalizing evil denies it
- Bearing sin confesses
- Rationalizing evil excuses
- Bearing sin trusts grace
- Rationalizing evil trusts self-justification

---

## The Virtue Framework

Ilyin provides the tragic; virtue ethics provides the telos.

### The Question Changes

Not "what should I do?" but "what kind of person should I be?"

**The Cardinal Virtues:**
- Prudence — Right reason in action
- Justice — Giving each their due
- Fortitude — Courage in difficulty
- Temperance — Moderation of appetite

**The Theological Virtues:**
- Faith — Trust in God
- Hope — Confident expectation of good
- Charity — Love of God and neighbor

**The Ilyin Addition:**
- The willingness to bear sin rather than fail to act
- Confession as regular practice
- Grace-dependence as habit

---

## The Confession Required

To move from ◐ to ◉, you must state:

### On the Framework

\`\`\`
I believe ethics is [virtue/deontological/consequentialist/Ilyin's synthesis/other].
The goal of moral life is [character formation/rule-following/outcome optimization/grace-dependent action/other].
\`\`\`

### On Bearing Sin

\`\`\`
I am willing to bear sin in action when [conditions].
I trust grace for [what specifically].
I confess [how often/to whom].
\`\`\`

### On Red Lines

\`\`\`
I will not bear the following sins even for good ends:
1. [Specific red line]
2. [Specific red line]
3. [Specific red line]

These are non-negotiable because [reason].
\`\`\`

### On the Distinction

\`\`\`
The difference between bearing sin and rationalizing evil is:
- Bearing sin involves [confession/acknowledgment/grace-dependence]
- Rationalizing evil involves [denial/excuse/self-justification]
\`\`\`

---

## The Test

When this document moves from ◐ to ◉, it will contain:

> "I believe ethics is _____. I am willing to bear sin when _____. My red lines are _____. The difference between bearing sin and rationalizing evil is _____."

The red lines must be defined.

---

## Composition

**This document was informed by:**
- \`fw-worldview-architectonic\` (method)
- \`idx-bedford-credo\` (the credo index)
- Ilyin's philosophy
- Christian virtue ethics
- \`inst-credo-theology\` (grace, sin, confession)
- \`inst-credo-anthropology\` (what man is, fallen and redeemable)

**This document enables:**
- Practical decision-making
- Business ethics
- Political action
- Parenting decisions
- Any situation requiring action under uncertainty`,
  },
  {
    id: 'inst-credo-history',
    title: 'Credo VIII: Philosophy of History — What Is the Shape of Time?',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-worldview-architectonic'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['credo', 'philosophy-of-history', 'spengler', 'traditionalism', 'kali-yuga', 'eschatology', 'progress', 'decline', 'providence'],
    content: `# Credo VIII: Philosophy of History — What Is the Shape of Time?

**The Question:** Is there a pattern to history? Progress? Decline? Cycles?

**Status:** ◔ Engaged but not resolved
**Action Required:** Commit to a position

---

## The Commitment (NOT YET ARTICULATED)

You engage multiple frameworks:
- Spengler: civilizational morphology
- Traditionalism: Kali Yuga, decline from Golden Age
- Christianity: history moving toward consummation

But you have not stated which is true, or how they relate.

---

## The Frameworks Engaged

### Spengler: Civilizational Morphology

**The Model:**
- Cultures are organisms with life cycles: birth, growth, flowering, decline, death
- Culture (creative, spiritual) becomes Civilization (technical, expansive)
- Civilization is the death phase of Culture
- Each culture has its own soul — they do not share a universal trajectory
- The West is in its Civilization phase, analogous to Rome's decline

**What This Means:**
- We are in decline — not because of bad choices, but because of organic inevitability
- There is no "saving" the West — only managing decline with dignity
- New cultures will arise after the death of this one
- Action is not futile, but its meaning is different — preserving what can be preserved

**Your Engagement:**
You understand the morphology. You reference Spengler. But have you accepted his conclusions?

### Traditionalism: Kali Yuga

**The Model:**
- Time is cyclical — four ages (Yugas) repeat
- We are in Kali Yuga — the dark age, the age of decline
- Tradition degrades with each age
- The Primordial Tradition is lost, recoverable only by remnants
- At the end of Kali Yuga, a new cycle begins

**What This Means:**
- Decline is metaphysical, not just historical
- Modernity is not a choice but a symptom of Kali Yuga
- The task is not reform but survival — "Ride the Tiger" (Evola)
- Individual liberation remains possible even as the age darkens
- Building institutions may be pointless; preserving initiatic knowledge matters more

**Your Engagement:**
You take this seriously. Guénon and Evola are "live options." But have you accepted that we are in Kali Yuga? And if so, what does that mean for action?

### Christianity: Salvation History

**The Model:**
- History is linear, moving toward consummation
- Creation → Fall → Redemption → Glorification
- Christ's Incarnation is the hinge of history
- History moves toward the Second Coming, Last Judgment, New Creation
- The path includes tribulation, but ends in victory

**What This Means:**
- Decline is real but not final
- The Kingdom will come — this is certain
- Building is meaningful — we are preparing for the Kingdom
- Hope is a theological virtue, not naive optimism
- Even if our civilization dies, the Church endures and Christ returns

**Your Engagement:**
You confess Christ. This implies salvation history. But you also engage Spengler and Traditionalism. How do these relate?

---

## The Tension

The question you identified:

> "If we're in Kali Yuga, what does Christian hope mean within civilizational decline? Does Christian eschatology break the cycle?"

This is the unresolved question. There are several possible positions:

### Option A: Spengler is Descriptive, Christianity is Normative

**The Position:**
- Spengler correctly describes civilizational morphology
- But civilizations are not ultimate — salvation history transcends them
- The West may die; the Church will not
- Christian hope is not hope for the West but hope for the Kingdom
- Building serves the Kingdom, even if it doesn't save the civilization

**Implications:**
- Accept civilizational decline as probable
- But don't despair — the Church outlives empires
- Build institutions that serve the Kingdom, not just the West
- The Cavalier inheritance may end; the faith will not

### Option B: Kali Yuga and Christian Eschatology Converge

**The Position:**
- Kali Yuga describes the condition before the End
- The darkening of the age is preparation for Christ's return
- Traditionalist diagnosis is correct; Christian eschatology completes it
- We are in the last days — not cyclically recurring, but approaching consummation

**Implications:**
- The decline is real and worsening
- But it ends not in new cycle but in Second Coming
- Urgency — the time is short
- Evangelism and preparation matter; institution-building may not

### Option C: Both Are True at Different Levels

**The Position:**
- Civilizational time (Spengler) operates at one level
- Salvation history operates at another
- They are not contradictory but orthogonal
- Civilizations rise and fall within salvation history
- The West may die; history continues toward consummation

**Implications:**
- Don't confuse the West with Christianity
- Christian hope is not civilizational optimism
- Build for the long term even if the near term is dark
- Multiple time horizons operate simultaneously

### Option D: Christian Hope Breaks the Cycle

**The Position:**
- The Incarnation broke cyclical time
- History is now linear — Kali Yuga does not repeat
- What the Traditionalists see as decline is the birth pangs of the Kingdom
- The cycle is over; consummation approaches

**Implications:**
- Reject Traditionalist cyclism as pre-Christian metaphysics
- Decline is real but leads to resurrection, not renewal-cycle
- The worst precedes the best
- Building prepares for the Kingdom, not the next cycle

---

## What Does This Mean for Action?

| If Spengler Right | Then |
|-------------------|------|
| Manage decline with dignity | Accept limits |
| Preserve what can be preserved | Focus on transmission |
| Do not expect renewal | Expect death |
| Honor the past without hoping to restore it | Tragic dignity |

| If Kali Yuga Right | Then |
|--------------------|------|
| Individual liberation is still possible | Focus on self-cultivation |
| Institutions are futile | "Ride the Tiger" |
| Preserve initiatic knowledge | Quality over quantity |
| Await new cycle or dissolution | Long time horizon |

| If Christian Eschatology Primary | Then |
|----------------------------------|------|
| Build institutions that serve the Kingdom | Church, household, community |
| Hope is a theological virtue | Not optimism — virtue |
| Decline may precede consummation | Birth pangs |
| Evangelism and formation matter | Souls are eternal |

---

## The Park Chung-hee Counterpoint

From the constructed dialogue, Park says:

> "I still do not see the industry. What will you build? The worldview is substrate. The industry is edifice. One without the other is incomplete."

This cuts against despair and withdrawal:
- Park built an industry (Korean development) within history
- He did not ask "are we in Kali Yuga?"
- He asked "what does Korea require?" and built it
- Perhaps the philosophy of history is less important than the work

But this doesn't resolve the question — it brackets it. At some point, you must know what you believe about history's shape to know what building means.

---

## The Confession Required

To move from ◔ to ◉, you must state:

### On the Shape of Time

\`\`\`
I believe history is [linear/cyclical/both at different levels].
The Incarnation [did/did not] change the fundamental structure of time.
\`\`\`

### On Current Position

\`\`\`
I believe we are in [Kali Yuga/Western Civilization decline/the last days/other].
This means [specific implications for understanding our moment].
\`\`\`

### On Christian Hope

\`\`\`
Christian hope means [what, specifically, in light of the above].
This [is/is not] hope for Western civilization because [reason].
\`\`\`

### On Action

\`\`\`
Given the above, building [is/is not] meaningful because [reason].
The appropriate time horizon is [short/medium/long] because [reason].
What should be built is [specific] because [reason].
\`\`\`

---

## The Test

When this document moves from ◔ to ◉, it will contain:

> "I believe history is _____. We are currently in _____. This means Christian hope is _____. Building is meaningful because _____, and what should be built is _____."

The engagement must become commitment.

---

## Composition

**This document was informed by:**
- \`fw-worldview-architectonic\` (method)
- \`idx-bedford-credo\` (the credo index)
- Spengler, Guénon, Evola (Traditionalist sources)
- Christian eschatology
- \`inst-credo-theology\` (Christological commitments)

**This document enables:**
- Strategic time horizon decisions
- What to build and why
- How to understand present difficulties
- Resolution of engagement → commitment`,
  },
  {
    id: 'inst-credo-metaphysics',
    title: 'Credo I: Metaphysics — What Is Real?',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-worldview-architectonic'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['credo', 'metaphysics', 'reality', 'materialism', 'idealism', 'traditionalism', 'sacramental', 'hierarchy'],
    content: `# Credo I: Metaphysics — What Is Real?

**The Question:** What is the fundamental structure of reality?

**Status:** ◐ Articulated, scattered
**Action Required:** Consolidate into one paragraph

---

## The Commitment (TO BE CONSOLIDATED)

What is already held (scattered across conversations):

> Reality is hierarchical — material, psychic, spiritual levels. I experienced ontological evil directly and deduced ontological good. The material world is real but not ultimate. Immaterial realities affect the material. I am not a materialist.

What remains to articulate:

> Is reality hierarchical (Traditionalist/Neoplatonic — matter inferior to spirit) or sacramental (Christian — matter infused with spirit, not inferior to it)? Is the material world a prison, a school, or a gift?

---

## The Strong Positions

### Not a Materialist

This is certain. From your encounter:

> "I recognized I believed in an ontological evil, and thus I figured there must be an ontological opposite."

Materialism cannot accommodate this experience. If only matter exists:
- Evil is merely dysfunction, not ontological reality
- Good is merely preference, not ontological opposite
- The encounter was delusion, not revelation

You reject this. The experience was real. Therefore: reality includes more than matter.

### Reality is Hierarchical

Multiple levels exist:
- Material — the physical world accessible to senses
- Psychic — the soul, the realm of archetypes, dreams, imagination
- Spiritual — the transcendent, the divine, the sacred

This is engaged from:
- Traditionalism (Guénon, Evola): explicit hierarchy of levels
- Christianity: creation good but not ultimate, heaven above earth
- Jungian psychology: the unconscious as real, archetypes as structures
- Your own experience: encounter with realities beyond the material

### Immaterial Affects Material

The traffic runs both ways:
- Spiritual realities manifest in material world
- Psychic states affect physical outcomes
- Prayer works (or at least, you act as if it does)
- Evil is not just wrong choices but operative force

---

## The Tension: Hierarchical vs. Sacramental

### Hierarchical (Traditionalist/Neoplatonic)

**The Position:**
- Higher levels are more real than lower
- Spirit is superior to matter
- The goal is ascent — escape from matter to spirit
- The material world is a prison or testing ground
- Modernity's collapse into materialism is the worst possible position

**The Danger:**
- Gnosticism — matter as evil or illusion
- Escape from the world rather than transformation of it
- Contempt for the body, for work, for material life
- Theosis as leaving matter behind

### Sacramental (Christian)

**The Position:**
- Matter is infused with spirit, not inferior to it
- Creation is good — "God saw that it was good"
- The Incarnation sanctified matter — God became flesh
- The goal is not escape but transformation — resurrection of the body
- Sacraments work through material elements (water, bread, wine)

**The Advantage:**
- Honors the material world as gift
- Resurrection is bodily, not escape from body
- Work, family, place are sacred, not obstacles
- Consistent with Incarnation

### The Question

Which do you hold?

If **hierarchical**: The material world is lower, to be transcended. The Traditionalists are right about the structure of reality.

If **sacramental**: The material world is gift, to be sanctified. Matter and spirit interpenetrate. The Incarnation is the paradigm.

**Note:** Orthodoxy may offer a synthesis — theosis includes the body, but hierarchy remains. The distinction may be false dichotomy.

---

## Bergson's Influence

You've referenced Bergson:
- Duration over clock-time
- Process over static being
- Creative evolution
- Intuition as mode of knowing

This adds:
- Reality is temporal flow, not static structure
- Being is becoming
- Time is real, not illusion

**Integration question:** How does Bergsonian process relate to Traditionalist hierarchy? To Christian sacramentality?

---

## The Confession Required

To move from ◐ to ◉, you must state:

### One Paragraph

\`\`\`
I believe reality is [hierarchical/sacramental/synthesis].
The material world is [prison/school/gift/other].
Spirit and matter relate by [superiority/interpenetration/other].
I hold this because [grounds — experience, revelation, reasoning].
This commits me to [downstream implications — how I treat body, work, place].
\`\`\`

### The Relationship to Theology

If sacramental → Incarnation is paradigm; matter is sanctified
If hierarchical → Incarnation is condescension; matter is transcended

The metaphysics grounds the theology, or vice versa. They must cohere.

---

## The Test

When this document moves from ◐ to ◉, it will contain:

> "I believe reality is _____. The material world is _____. Spirit and matter relate by _____. I hold this because _____. This commits me to _____."

The scattered positions must become one paragraph.

---

## Composition

**This document was informed by:**
- \`fw-worldview-architectonic\` (method)
- \`idx-bedford-credo\` (the credo index)
- The ontological encounter (evil → good)
- Traditionalist sources (Guénon, Evola)
- Bergson

**This document enables:**
- \`inst-credo-theology\` (metaphysics grounds theology)
- \`inst-credo-anthropology\` (what is man depends on what is real)
- \`inst-credo-epistemology\` (what counts as knowledge depends on what exists)`,
  },
  {
    id: 'inst-credo-political',
    title: 'Credo VI: Political Philosophy — What Is Legitimate Order?',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-worldview-architectonic'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['credo', 'political-philosophy', 'authority', 'legitimacy', 'liberalism', 'post-liberal', 'schmitt', 'integralism', 'nationalism', 'hierarchy'],
    content: `# Credo VI: Political Philosophy — What Is Legitimate Order?

**The Question:** What is the nature of political authority? What makes it legitimate?

**Status:** ◐ Articulated, in tension
**Action Required:** State source of authority

---

## The Commitment (PARTIALLY ARTICULATED)

What is already owned:

> Liberalism is exhausted — it cannot reproduce its own conditions. The post-liberal turn is already operative. Authority must recognize something above itself. Hierarchy is natural and just.

What remains unresolved:

> Where does authority come from? If not consent (liberal), if not blood (fascist), if not confession (integralist), then what?

---

## The Strong Positions

### Liberalism is Exhausted

| Diagnosis | Evidence |
|-----------|----------|
| Cannot reproduce its conditions | Requires pre-liberal virtues it cannot generate |
| Neutrality is impossible | Liberalism privileges itself, calls it neutral |
| Proceduralism is hollow | "Right process" without substantive good leads nowhere |
| Atomized individuals fail to form community | Rights-bearing individuals don't make households |
| Markets devour what they depend on | Trust, loyalty, long-term thinking — all consumed |

This is held as conviction, not theory. The diagnosis comes from multiple sources: MacIntyre, Deneen, Lasch, the Traditionalists, and observation.

### Post-Liberal Turn Already Operative

Not "should happen" but "is happening." Liberalism's children no longer believe in it. The question is not whether post-liberalism but which post-liberalism.

### Hierarchy is Natural and Just

| Source | Articulation |
|--------|--------------|
| Traditionalist | Caste-nature, qualitative difference between humans |
| Cavalier | Some are fit to govern, some are not — by breeding, formation, calling |
| Aristotelian | Natural hierarchy in household and polis |
| Christian | Authority from God, mediated through structures |

You affirm hierarchy without specifying its exact ground. This must be specified.

### American Particularity

| Position | Implication |
|----------|-------------|
| Not European throne-and-altar | American founding was different |
| Not secular liberal | But not merely procedural neutrality |
| Regional thickness within federal structure | Federalism as structure for particularity |
| Cavalier inheritance operates | Virginia gentry tradition shapes disposition |

---

## The Tension: Source of Authority

The question is not "where should authority go?" but "where does it originate?"

### The Options

#### Option A: Consent (Liberal)

**The Position:**
- Authority derives from the consent of the governed
- Legitimacy is procedural — proper elections, due process
- No natural hierarchy — all are equal before the law
- Government is a social contract

**Why Rejected:**
- You've diagnosed this as exhausted
- Consent theory cannot ground obligations to future generations
- "All men are created equal" as metaphysical claim, not political procedure
- Consent can authorize anything — including its own dissolution

#### Option B: Divine Right (Monarchist)

**The Position:**
- Authority descends from God through the sovereign
- Legitimacy is sacramental — the king is anointed
- Hierarchy is divinely ordained
- Rebellion is sin

**Why Problematic:**
- No king in America
- The Cavalier inheritance is gentry, not royalist
- Divine right was contested even in Christendom
- How does this work in a republic?

#### Option C: Confession (Integralist)

**The Position:**
- The state should be ordered toward the true religion
- The church has indirect authority over temporal matters
- Legitimacy requires right ordering toward the good
- Religious freedom is error — truth has rights, error does not

**Why Problematic:**
- Which church? (Ecclesiology unresolved)
- American particularity doesn't fit this model
- Integralism has no mechanism in current conditions
- You've said "no confessional state"

#### Option D: Nation (Nationalist)

**The Position:**
- The nation is the natural political unit
- Authority is legitimate when it serves the nation
- Blood and soil ground community
- The state expresses the nation's will

**Why Problematic:**
- "Nation" is contested — which nation? Ethnic? Cultural? Civic?
- Blood-nationalism has obvious problems
- Civic nationalism collapses back into liberalism
- American "nation" is unusual — proposition nation? Settler nation? Anglo nation?

#### Option E: Effective Order (Schmittian)

**The Position:**
- Sovereignty is the capacity to decide the exception
- Legitimacy is effective order, not consent or confession
- The political is friend-enemy distinction
- All politics is ultimately about who decides

**Why Engaged:**
- Descriptively accurate — this is how power works
- Cuts through liberal pretense of neutrality
- Explains why regimes persist

**Why Insufficient:**
- Pure decisionism is nihilistic — might makes right
- No transcendent grounding
- You want authority that recognizes something above itself
- Schmitt diagnoses; he doesn't prescribe

#### Option F: Transcendent Order Mediated Through Tradition (Your Position?)

**The Position:**
- Authority originates in God (transcendent ground)
- But is mediated through tradition, inheritance, formation
- Not through a single anointed sovereign (not monarchism)
- Not through confessional state (not integralism)
- Not through consent (not liberalism)
- Through the accumulated wisdom of particular peoples
- Authority is legitimate when it serves the common good of a particular community, ordered toward transcendent ends

**This would require articulating:**
- How does tradition mediate divine authority?
- What makes one tradition authoritative and another not?
- How does this work in America specifically?
- What is the relationship between federal and regional authority?

---

## The Lee Kuan Yew Critique

From the constructed dialogue:

> "Neutrality is impossible. If you don't privilege your tradition, you've privileged your enemies'."

This cuts against:
- "Christian pluralism" without confessional state
- Tolerance as the highest value
- Procedural neutrality

If Lee is right, you must choose:
1. Accept integralism (privilege Christianity explicitly)
2. Accept that your "Christian pluralism" is actually crypto-integralism
3. Explain how pluralism works without being captured by your enemies

---

## The Regional Thickness Model

You've articulated:
- "Regional thickness within federal structure"
- American particularity must be respected
- Not European throne-and-altar

**This suggests:**
- Federalism allows different regions to embody different thicknesses
- The federal level is thin (procedural, limited)
- The regional/local level is thick (substantive, particular)
- Northwest Arkansas can be more traditionally ordered than San Francisco
- This requires robust federalism, not consolidated national government

**Problems:**
- Federal government is already consolidated
- How do you get from here to there?
- Does this avoid the authority question or just postpone it?

---

## The Strategic Posture

From \`idx-user-commitments\`:

> - Phase 1: Destabilize liberal premises from within
> - Phase 2: Make unspeakable first speakable, then thinkable
> - Phase 3: Offer alternative when ready
> - "Establish the canvas on the social easel first"

This is prudent but defers the question. At some point, you must offer the alternative. What is it?

---

## The Confession Required

To move from ◐ to ◉, you must state:

### On the Origin of Authority

\`\`\`
Authority originates in [God/Nature/Tradition/Other].
It is mediated through [specific mechanism].
This grounds hierarchy because [reason].
\`\`\`

### On Legitimate vs. Illegitimate Authority

\`\`\`
Authority is legitimate when [criteria].
Authority becomes illegitimate when [criteria].
The current regime is [legitimate/illegitimate/mixed] because [analysis].
\`\`\`

### On the American Situation

\`\`\`
The American founding was [correct/flawed/mixed] in its understanding of authority.
The Cavalier inheritance [does/does not] provide resources for right order.
The path forward involves [specific vision].
\`\`\`

### On the Relationship to Ecclesiology

\`\`\`
Political authority relates to church authority by [relationship].
This [is/is not] integralism because [distinction].
\`\`\`

---

## Downstream Implications

| If Transcendent Order Through Tradition | Then |
|-----------------------------------------|------|
| Economics | Economy serves tradition-bearing communities |
| Education | Formation in particular tradition, not neutral skills |
| Family | Household as political unit, not just private sphere |
| Local vs. Federal | Subsidiarity — lowest level capable of deciding should decide |

---

## The Test

When this document moves from ◐ to ◉, it will contain:

> "I believe authority originates in _____ and is mediated through _____. This makes hierarchy legitimate because _____. In America, this means _____. This commits me to _____."

The source question must be answered. Not evaded, not deferred — answered.

---

## Composition

**This document was informed by:**
- \`fw-worldview-architectonic\` (method)
- \`idx-bedford-credo\` (the credo index)
- \`idx-user-commitments\` (prior articulations)
- Schmitt, Deneen, MacIntyre, the Traditionalists

**This document enables:**
- Economic philosophy (what is wealth for, in a rightly ordered polity)
- Strategic action (what to build, when)
- Resolution of the neutrality problem`,
  },
  {
    id: 'inst-credo-theology',
    title: 'Credo II: Theology — Who Is God?',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-worldview-architectonic'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['credo', 'theology', 'god', 'christ', 'trinity', 'incarnation', 'perennialism', 'traditionalism', 'christology'],
    content: `# Credo II: Theology — Who Is God?

**The Question:** What is the nature of the divine, and what is God's relationship to the world?

**Status:** ◐ Strong, with tension
**Action Required:** Resolve Christ's uniqueness

---

## The Commitment (PARTIALLY ARTICULATED)

What is already owned:

> I confess that Jesus Christ is my Lord and Savior. I submitted to this after encounter, not argument. The Incarnation is real — God became man in history. This is not myth in the dismissive sense but myth in the true sense: the story that actually happened.

What remains unresolved:

> Is Christ unique (the only Incarnation) or exemplary (one avatar among many)? Is salvation through Christ alone, or are there other paths? What is the relationship between Christianity and other traditions?

---

## The Encounter

The theological position did not arise from argument. It arose from encounter.

From your own account:

> "After my first experience with LSD I recognized I believed in an ontological evil, and thus I figured there must be an ontological opposite to evil to counter it and I felt as if in my material physical reality and life that must be Jesus Christ... so I felt the power and the moment that I was living through must mean I have to be on the side of good and submit that Christ is my Lord and savior."

**What this establishes:**
1. **Ontological evil is real** — You experienced it, not inferred it
2. **Ontological good is real** — Deduced from the reality of evil
3. **Christ is the embodiment of ontological good** — In your material reality and life
4. **Submission was required** — Not just acknowledgment, but submission
5. **This was encounter, not argument** — Participatory knowing, not propositional

---

## The Strong Positions

### Trinitarian Theism

| Position | Status | Grounds |
|----------|--------|---------|
| God is personal | Held | Encounter was personal, not abstract |
| God intervenes | Held | The encounter was intervention |
| Providence is specific | Held | Your life was addressed, not humanity in general |
| Trinity | Held (implicit) | From Orthodox/Catholic investigation |
| Incarnation is real | Held | "God became man in history" |

### The Incarnation

You believe:
- The Word became flesh (John 1:14)
- This happened in history, at a specific time and place
- Jesus of Nazareth was not merely a teacher or prophet but God incarnate
- The crucifixion was real, the resurrection was real
- These events are the hinge of history

### Grace and Works

From your engagement with Orthodoxy and Ilyin:
- Grace is primary — we cannot earn salvation
- But grace is not passive — it empowers action
- Synergy (Orthodox): human will cooperates with divine grace
- Ilyin: the statesman bears sin in acting, trusts grace, confesses

---

## The Tension: Christ's Uniqueness

This is the unresolved question that determines everything downstream.

### The Options

#### Option A: Christ is Unique (Exclusivism)

**The Position:**
- The Incarnation is the only incarnation
- There is no other name under heaven by which we must be saved (Acts 4:12)
- Other religions are preparations (at best) or corruptions (at worst)
- Salvation is through Christ alone

**Implications:**
- Other traditions have partial truths but not saving truth
- Evangelism is obligatory — people need to hear the Gospel
- The Traditionalist perennialism is wrong
- Guénon, Evola, Schuon are useful diagnosticians but wrong about the fundamental question

#### Option B: Christ is Exemplary (Perennialism)

**The Position:**
- The Incarnation is one expression of the divine entering matter
- Other traditions have their own avatars, incarnations, manifestations
- All genuine traditions access the same transcendent reality
- Salvation (liberation, enlightenment, theosis) has multiple valid paths

**Implications:**
- Christianity is *your* path, not *the* path
- Other traditions are parallel, not inferior
- Guénon was right: the Primordial Tradition underlies all authentic religions
- Evangelism is inappropriate — each tradition is valid for its adherents

#### Option C: Christ is Unique but Other Traditions Prepare (Inclusivism)

**The Position:**
- Christ is the unique Incarnation and only Savior
- But God's grace works through other traditions to prepare people for Christ
- Those who never hear the Gospel may be saved by Christ through implicit faith
- Other religions contain "seeds of the Word" (logos spermatikos)

**Implications:**
- Christianity fulfills what other traditions glimpse
- Evangelism is still important, but not the only means of salvation
- Guénon and Evola saw something real, but misidentified its source
- The Traditionalist insight (decline from primordial wisdom) is compatible with Christianity

---

## The Traditionalist Temptation

You engage Guénon and Evola seriously. They are not casual reading — they are "live options."

**What they offer:**
- Critique of modernity that cuts deeper than political analysis
- Framework for understanding decline (Kali Yuga)
- Hierarchy as metaphysically grounded, not arbitrary
- Initiatic knowledge and transformation
- Recovery of what the Enlightenment destroyed

**The problem:**
- Guénon's perennialism denies Christ's uniqueness
- Evola's paganism rejects Christianity altogether (or reduces it to one tradition among many)
- If they're right about the Primordial Tradition, Christianity is not the final word
- If Christ is unique, their metaphysics is wrong at the foundation

**The question you carry:**
> Are Guénon and Evola right about decline, hierarchy, and tradition, but wrong about Christ? Or does their insight require their metaphysics?

---

## What Would Resolve This?

### Arguments for Christ's Uniqueness

1. **Historical particularity** — The Incarnation claims to be a singular event in history, not a recurring pattern
2. **Resurrection** — No other tradition claims a bodily resurrection verified by witnesses
3. **The Church's witness** — Two thousand years of martyrs died confessing Christ, not the Primordial Tradition
4. **Your encounter** — You didn't encounter "the Absolute" — you encountered Christ

### Arguments Against Pure Exclusivism

1. **The fate of the unevangelized** — Did everyone before Christ, and everyone who never heard, go to hell?
2. **Genuine holiness in other traditions** — Are Buddhist monks deceived? Are Hindu saints damned?
3. **The Traditionalist insight** — They see something real about decline and modernity. Is it all wrong?
4. **The dual face** — You encountered both the luminous and tenebrous face. Is evil equally real? What does that imply?

### The Orthodox Answer

Orthodoxy may offer a resolution:
- **Christ is unique** — The only Incarnation, the only Savior
- **But God's providence extends beyond the visible Church** — The Holy Spirit works where we do not see
- **Theosis is the goal** — And preparation for theosis may occur in other traditions
- **We do not judge the fate of others** — We confess Christ; we do not damn the unevangelized

This is neither pure exclusivism nor perennialism. It holds Christ's uniqueness while allowing mystery about how God saves.

---

## The Confession Required

To move from ◐ (strong with tension) to ◉ (owned), you must state:

### On God's Nature

\`\`\`
I believe in one God: Father, Son, and Holy Spirit — three persons, one substance.
The Father is the source; the Son is eternally begotten; the Spirit eternally proceeds.
This is not metaphor but reality.
\`\`\`

### On the Incarnation

\`\`\`
I believe the Son became incarnate — the Word became flesh — in Jesus of Nazareth.
This was a singular event in history, not a recurring pattern.
Christ is the unique Incarnation, not one avatar among many.
\`\`\`

### On the Atonement

\`\`\`
I believe Christ died for the sins of the world — not as moral example only, but as real sacrifice.
[Specify: penal substitution? Christus Victor? Satisfaction? Ransom? Recapitulation?]
The cross accomplished something objective, not just subjective.
\`\`\`

### On the Resurrection

\`\`\`
I believe Christ rose bodily from the dead on the third day.
The tomb was empty. The disciples saw him. This is history, not myth.
The resurrection is the guarantee of our resurrection.
\`\`\`

### On Other Traditions

\`\`\`
I believe [Exclusivist/Inclusivist/Other position].
Other traditions are [preparations/corruptions/parallel paths/something else].
This means [implications for how I regard Guénon, Evola, non-Christian traditions].
\`\`\`

---

## Downstream Implications

This determines:

| If Christ Unique | Then |
|------------------|------|
| Ecclesiology | The Church Christ founded matters supremely |
| Anthropology | Man's telos is theosis in Christ, not generic enlightenment |
| Eschatology | Christian eschatology (resurrection, judgment, new creation) is true |
| Ethics | Christ's commands have ultimate authority |
| Philosophy of History | History is salvation history, moving toward Christ's return |

| If Perennialism | Then |
|-----------------|------|
| Ecclesiology | Church is your path, not the path |
| Anthropology | Man's telos is return to the Absolute, by many routes |
| Eschatology | Cyclical return, not linear consummation |
| Ethics | Multiple valid ethical frameworks |
| Philosophy of History | Decline and renewal cycles, not salvation history |

---

## The Test

When this document moves from ◐ to ◉, it will contain:

> "I believe in one God, Father, Son, and Holy Spirit. I believe the Son became incarnate uniquely in Jesus Christ. I believe [specific position on atonement]. I believe in the bodily resurrection. I believe other traditions are [specific position]. This commits me to [downstream implications]."

The tension must be resolved. Not by avoiding the question, but by committing to an answer.

---

## Composition

**This document was informed by:**
- \`fw-worldview-architectonic\` (method)
- \`idx-bedford-credo\` (the credo index)
- The conversion encounter account
- Engagement with Traditionalism (Guénon, Evola)
- Orthodox investigation

**This document enables:**
- Resolution of the "Christian question" in \`idx-user-commitments\`
- Ecclesiology decision (which church follows from which Christology)
- Eschatology (Christian or cyclical)
- All downstream worldview commitments`,
  },
  {
    id: 'inst-excavate-arrangement',
    title: 'Excavation: ARRANGEMENT',
    type: 'instance',
    framework_kind: null,
    perspective: 'linguistic-recovery',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['excavation', 'arrangement', 'etymology', 'rang', 'battle-order', 'disposition'],
    content: `# Excavation: ARRANGEMENT

**Date:** 2025-01-09
**Status:** research (pre-production)

---

## Etymology

**Root:** Old French *arengier* — "to put in a row, put in battle order" (12th century)

**Components:**
- *a-* ("to") — from Latin *ad-*
- *rangier* ("set in a row") — from *rang* ("rank, row")
- *rang* — from Frankish **hring* ("ring, circle")
- **hring* — from Proto-Germanic **hringaz* ("something curved, circle")
- PIE root **sker-* (2) — "to turn, bend"

**Literal meaning:** "To put into rank" — specifically, to draw up a line of battle. The original sense is **military disposition**: placing troops in order for combat.

**First attested:** Late 14th century as *arengen*, meaning "draw up a line of battle."

**Cognates:**
- *Rank* — a row of soldiers; later, position in hierarchy
- *Range* — extent (what the arranged line covers); also, to wander (move through range)
- *Ring* — the Germanic ancestor: a circle, something curved into order
- *Arrange* — the verb, to put in order

**Semantic development path:**
Old French *rang* (line of soldiers) → *ranger* (to put in line) → *arengier* (to draw up battle lines) → Middle English *arengen* → Modern English *arrange*

**Sources consulted:**
- [Etymonline - Arrange](https://www.etymonline.com/word/arrange)
- [Etymonline - Arrangement](https://www.etymonline.com/word/arrangement)
- [Wiktionary - arrange](https://en.m.wiktionary.org/wiki/arrange)
- [Merriam-Webster - arrange](https://www.merriam-webster.com/dictionary/arrange)

**Findings:**

The etymology reveals that **arrangement** is fundamentally about **purposive disposition for action**:

1. **Military origin.** The original context was battle — drawing up lines for combat. This is not neutral organization but *disposition for stakes*.

2. **Deliberate ordering.** The Old French *arengier* implies someone doing the arranging. Soldiers don't arrange themselves randomly; a commander disposes them.

3. **The ring.** The Proto-Germanic root **hring* (ring, circle) suggests enclosure, completeness, something curved into a whole. An arrangement is not just parts in sequence but a *configuration* — parts disposed relative to each other within a bounded whole.

4. **Rank as position.** The connection to *rank* (position in hierarchy) shows that arrangement implies *differentiated positions* — not just any order, but ordered roles.

---

## Semantic History

**Key inflection points:**

### 1. Late 14th Century — Battle Order

Original sense: "draw up a line of battle." Arrangement was a military term. To arrange troops was to prepare for combat — life-or-death stakes. The arrangement wasn't decorative; it determined who lived and died.

### 2. 1740 — Act of Putting in Proper Order

First attested meaning of noun "arrangement": "act of arranging, act of putting in proper order." The military sense generalizes: you can arrange things other than troops, but the sense of *proper* order (not just any order) remains.

### 3. c. 1780-1800 — General Ordering (Broadening)

Merriam-Webster notes the word was "very rare in English literature before the late eighteenth century" — effectively a "reborrowing" from Modern French *arranger*. The meaning broadened to "place things in order" — less martial, more domestic/bureaucratic.

### 4. 1786 — Agreement or Understanding

New sense: "come to an arrangement" means reach an agreement. The arrangement is now between *parties*, not just of *things*. This retains some of the original: parties arrange themselves relative to each other, like troops in formation.

### 5. 1808 — Musical Adaptation

Musical sense: "adapt for other instruments or voices." An arrangement takes an existing composition and *redisposes* it — the same content in new configuration. This is creative arrangement, not just logistics.

### 6. 1854 — "Arranged Marriage"

Arrangement as social disposition: families arrange marriages (place people in configuration for social purpose). This recovery the original stakes: arrangement affects life trajectories.

**Sources:**
- [Etymonline - Arrange](https://www.etymonline.com/word/arrange)
- [Etymonline - Arrangement](https://www.etymonline.com/word/arrangement)

---

## Contemporary Usage

**Dominant meaning:** Any orderly disposition of parts; an agreement between parties; a musical adaptation.

**What's lost:**

1. **The stakes.** Original arrangement was for battle — life and death. Contemporary usage includes "flower arrangement" — aesthetic, low-stakes. The urgency is gone.

2. **The commander.** Someone *arranged* the troops. Contemporary usage often hides the arranger. "The arrangement exists" — but who arranged it?

3. **The purpose.** Battle arrangement was *for* victory. Contemporary usage often describes arrangement without asking *what for*. The telos is invisible.

4. **The ring.** The sense of bounded wholeness — parts disposed within a complete configuration — is weakened. Arrangement can mean any sequence, not necessarily a coherent whole.

**What's distorted:**

1. **Arrangement as neutral.** Contemporary usage treats arrangement as mere organization — neutral, technical. The original military sense shows arrangement is *strategic* — it advantages some and disadvantages others.

2. **Arrangement as given.** We speak of "the current arrangement" as if describing nature. But arrangements are *made* — someone drew up these lines. They could be redrawn.

3. **Arrangement vs. structure.** False distinction where "structure" is formal/official and "arrangement" is informal/practical. Originally, battle arrangement *was* the formal structure of the army in action.

---

## Recovery Hypothesis

**Claim:** An arrangement should be understood as **a purposive disposition of elements by a responsible agent for stakes** — with emphasis on:
- **Purposive** (for something — battle, development, extraction)
- **Disposition** (elements placed relative to each other in configuration)
- **Responsible agent** (someone arranged it; they are accountable)
- **Stakes** (the arrangement matters — it advantages some, disadvantages others)

**Recovered sense:** To analyze an arrangement is to ask:
- Who arranged this? For what purpose?
- What positions does it create? Who occupies them?
- What does the configuration advantage/disadvantage?
- How could it be rearranged?

**Application — The National Arrangement:**

In political economy, a "national arrangement" (like the American System) is:
- A **disposition of policy instruments** (tariffs, banks, infrastructure)
- **Drawn up by founders** (Hamilton, Clay, Lincoln)
- **For national development** (productive capacity, independence)
- **With stakes** (some benefit: domestic producers, workers; some lose: importers, foreign competitors)

The "globalist arrangement" is also:
- A **disposition of institutions** (Fed, IMF, WTO, BIS)
- **Drawn up by founders** (Bretton Woods planners, subsequent architects)
- **For capital mobility and open markets** (not national development)
- **With stakes** (some benefit: mobile capital, cosmopolitan elites; some lose: rooted labor, national producers)

**Stakes:**

The recovered sense of arrangement enables:

1. **Strategic analysis.** If an arrangement is a disposition for stakes, we can ask: whose stakes? who wins in this configuration?

2. **Accountability.** If someone arranged it, they can be held responsible. The arrangement is not natural or inevitable.

3. **Rearrangement as possibility.** If it was arranged, it can be rearranged. The current disposition is not the only possible one.

4. **Purpose-interrogation.** Ask of any arrangement: for what was this drawn up? Is it achieving that? Should it?

---

## Connection to Loomlib Usage

The term "arrangement" appears throughout loomlib documents:

- **American System AS National Arrangement** (\`inst-american-system\`)
- **American System VERSUS Globalist Arrangement** (\`inst-american-system-versus-globalist\`)

The excavation confirms this usage is etymologically grounded:

An "arrangement" in the political economy sense is:
- Not mere description but *strategic disposition*
- Not neutral but *purposive* (developmental vs. extractive)
- Not natural but *founded by agents* (Hamilton vs. Bretton Woods)
- Not permanent but *able to be rearranged*

The recovery sharpens diagnostic questions:

| Before Recovery | After Recovery |
|-----------------|----------------|
| "How does this work?" | "For whom was this arranged?" |
| "What are the components?" | "What positions does this create?" |
| "Is this efficient?" | "Efficient for whose purpose?" |
| "Can we improve it?" | "Should we rearrange it entirely?" |

---

## Arrangement vs. Institution

The two excavations relate:

| Institution | Arrangement |
|-------------|-------------|
| Something **made to stand** | Something **disposed for purpose** |
| Emphasizes **duration** | Emphasizes **configuration** |
| Question: Who **founded** it? | Question: Who **arranged** it? |
| Question: For what **telos**? | Question: For whose **advantage**? |

An **institution** is a component; an **arrangement** is a configuration of components.

The American System was an **arrangement** composed of **institutions**:
- Treasury (institution) — placed to manage tariffs
- Bank of the United States (institution) — placed to manage credit
- Corps of Engineers (institution) — placed to build infrastructure

The arrangement is the strategic disposition of these institutions relative to each other for developmental purpose.

---

## Production Readiness

**Ready for instance?** Yes — the excavation is complete and findings are actionable.

**Suggested operator:** VERSUS or WITHIN

**Suggested formulas:**
- Arrangement VERSUS Structure (exploring the false distinction)
- Elements WITHIN the Arrangement (the components and their positions)
- National Arrangement AS Battle Order (recovering military stakes)

**Possible instance:** "The Globalist Arrangement AS Battle Order" — reading the current international economic order as strategic disposition for stakes, not neutral "rules-based order."

---

## Sources

- [Etymonline - Arrange](https://www.etymonline.com/word/arrange)
- [Etymonline - Arrangement](https://www.etymonline.com/word/arrangement)
- [Wiktionary - arrange](https://en.m.wiktionary.org/wiki/arrange)
- [Merriam-Webster - arrange](https://www.merriam-webster.com/dictionary/arrange)`,
  },
  {
    id: 'inst-excavate-debt',
    title: 'Excavation: DEBT',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['excavation', 'debt', 'etymology', 'guilt', 'schuld', 'obligation'],
    content: `# Excavation: DEBT

**Date:** 2026-01-09
**Status:** research (pre-production)

---

### Etymology

**Root:** Latin *debitum* (thing owed), from *debere* (to owe)
**Literal meaning:** "Keep something away from someone" — *de* (away) + *habere* (to have)
**First attested:** c. 1300 as "dette" in Middle English
**Germanic parallel:** German *Schuld* = both "debt" AND "guilt"

**Sources consulted:**
- [Etymonline - Debt](https://www.etymonline.com/word/debt)
- [Wiktionary - Schuld](https://en.wiktionary.org/wiki/Schuld)
- [Your Daily German - Schuld meaning](https://yourdailygerman.com/schuld-schulden-meaning/)

**Findings:**

The Latin root is revealing but not explosive. *Debere* (to owe) meant "to keep something away from someone" — you have what belongs elsewhere.

The German is where the excavation strikes gold. **Schuld means both debt AND guilt.** This is not metaphor — it's semantic unity. No other Western European language preserves this:

- *die Schuld* = guilt, blame, fault
- *die Schulden* = debts (plural form)
- *schuldig* = guilty
- *der Schuldner* = debtor

The Lord's Prayer in German: "Vergib uns unsere Schulden" — forgive us our debts. But the word carries guilt.

Romance languages split the concepts:
- Spanish: *deuda* (debt) vs *culpa* (guilt)
- Italian: *debito* (debt) vs *colpa* (guilt)
- French: *dette* (debt) vs *culpabilité* (guilt)

The Germanic preserved what Latin-derived languages separated.

---

### Semantic History

**Key inflection points:**

1. **Pre-monetary societies:** Debt was social obligation, inseparable from moral standing. To owe was to be in someone's power.

2. **Medieval period:** Usury prohibitions (charging interest) kept debt moralized. The debtor-creditor relationship was a moral relationship.

3. **Rise of commercial capitalism:** Debt becomes "financial instrument." The guilt dimension recedes as debt becomes calculable, transferable, abstract.

4. **Modern finance:** Debt is "leverage." Strategic, value-neutral. Default is a business decision, not a moral failure. The Schuld collapses entirely.

**Sources:**
- Nietzsche, *Genealogy of Morality* (traces guilt to debt concept)
- Graeber, *Debt: The First 5000 Years* (anthropological history)

---

### Contemporary Usage

**Dominant meaning:** Financial obligation — sum owed, liability on balance sheet

**What's lost:**
- The guilt structure (owing as moral weight)
- The social bondage (debtor in power of creditor)
- The asymmetry (debt creates relationship of subordination)

**What's distorted:**
- "Debt is just a number" — erases the power relation
- "Strategic default" — assumes guilt was never there
- "Leverage" — makes debt sound like a tool you control

---

### Recovery Hypothesis

**Claim:** Debt should mean what *Schuld* means — obligation that carries moral weight, that creates asymmetric relationship, that puts the debtor in the power of the creditor.

**Application:**
- When analyzing any debt arrangement, ask: "Who is in whose power?"
- When someone speaks of "deleveraging," hear: "escaping subordination"
- When policy enables debt accumulation, see: expanding the guilt-zone

**Stakes:**
The separation of debt from guilt enables debt expansion without moral check. If debt is "just finance," there's no limit principle. Recovering the Schuld dimension would restore friction — you'd have to acknowledge what debt actually does to the debtor.

This connects directly to oikonomia/chrematistics: unbounded debt is chrematistic; debt that carries weight and shame has natural limits.

---

### Production Readiness

**Ready for instance?** Yes — strong excavation, clear drift, powerful recovery

**Suggested operator:** **AND** — DEBT AND GUILT (the systematic connection the German preserves)

Alternative: **AS** — DEBT AS Guilt (recovering the hidden identity)

**Suggested formula:** Etymon Method + Oikonomia/Chrematistics

**Pairs with:** CREDIT (belief → calculation mirrors debt → leverage)

---

### Notes for Production

The hook: "In German, the word for debt is the same as the word for guilt. English forgot this. Your bank didn't."

The structure:
1. The German word (Schuld = both)
2. What the unity means (owing is guilt)
3. How English split them (Romance languages too)
4. What the split enables (guilt-free debt)
5. Recovery: what if we heard the guilt again?

Visual possibility: Lord's Prayer in German/English side by side — "forgive us our debts/sins" showing the Schuld.`,
  },
  {
    id: 'inst-excavate-feedback',
    title: 'Excavation: FEEDBACK',
    type: 'instance',
    framework_kind: null,
    perspective: 'linguistic-recovery',
    framework_ids: ['fw-etymon-method'],
    source_id: 'src-systems-thinking',
    output: 'etymon',
    status: 'incubating',
    tags: ['excavation', 'feedback', 'etymology', 'cybernetics', 'systems'],
    content: `# Excavation: FEEDBACK

**Date:** 2026-01-08
**Status:** research (pre-production)

---

### Etymology

**Root:** English compound, "feed" + "back"
**Literal meaning:** To return nourishment to the source; output returning to input
**First attested:**
- 1860s: Verb phrase "to feed back" (mechanical process)
- 1909: Karl Ferdinand Braun used "feed-back" as noun (electronic circuits)
- 1919: British patent GB130432 ("a feed back circuit")
- 1920: "Feedback" as distinct single word

**Sources consulted:**
- Merriam-Webster: "The History of Feedback"
- Oxford English Dictionary
- Wikipedia: Feedback, Cybernetics

**Findings:**

The word emerged from electrical engineering, not biology or psychology. Its origin is strikingly concrete: in early amplifier circuits (audions), engineers discovered that "coupling part of the output signal back to the input circuit" would boost amplification—but also cause the device to "howl or sing."

The word names a *loop*: output returns to input, modifying subsequent output. This circularity is not metaphorical but structural. A feed-back circuit is literally wired to feed its output back to its input.

**Cybernetic deepening:** Norbert Wiener (1948) formalized feedback as the core mechanism of *cybernetics*, from Greek κυβερνητικός (kubernētikos)—"good at steering." The helmsman metaphor: you adjust the rudder based on the ship's observed course, and that adjustment produces new observations, which produce new adjustments. Circular causality. The goal is *homeostasis*: maintaining equilibrium despite disturbance.

---

### Semantic History

**Key inflection points:**

1. **1860s-1920s (MECHANICAL)**: Verb phrase → noun. Describes physical/electrical phenomenon. Output returning to input in machinery.

2. **1924 (POLARITY)**: Friis and Jensen distinguish "positive feed-back" (amplifying) from "negative feed-back" (dampening). These are technical terms describing loop behavior, not value judgments.

3. **1930s (AUDIO)**: "Feedback" becomes popularly known through radio and amplification—the howl, screech, and hum of microphone feedback. The word enters common vocabulary.

4. **1940s (PSYCHOLOGY)**: The crucial drift. "Feedback" begins appearing in psychology literature meaning "helpful information or criticism about performance." First documented uses show the word migrating from systems to persons.

5. **1950s-60s (MANAGEMENT)**: Feedback systems become "standard practice of all modern management." The word is now about evaluation, not equilibrium.

6. **1990s-present (CORPORATE)**: "Feedback culture" emerges. The word now predominantly means one-directional evaluation delivered from authority to subordinate. The loop has vanished.

**The drift pattern:** CIRCULAR → LINEAR, SYSTEMIC → PERSONAL, HOMEOSTATIC → EVALUATIVE

---

### Contemporary Usage

**Dominant meaning:** "Helpful information or criticism given to someone about their performance or behavior"

**What's lost:**

1. **The loop itself.** Original feedback was structural: output *actually returns* to input, completing a circuit. Contemporary "giving feedback" is a one-way transmission. There is no loop. The giver speaks; the receiver listens. Nothing feeds back.

2. **Circularity / mutual modification.** In a true feedback loop, both parties change. The helmsman adjusts the rudder AND the ship's course affects the helmsman's next adjustment. In corporate feedback, only the receiver is supposed to change.

3. **System orientation.** Feedback was about the *system* maintaining course. Now it's about the *individual* being corrected. The unit of analysis shifted from relationship to person.

4. **Homeostasis.** Original purpose: equilibrium, stability, staying on course despite disturbance. Current purpose: improvement, correction, change. These are opposite orientations—stability vs. change.

5. **Technical neutrality of positive/negative.** "Positive feedback" meant amplifying (potentially destabilizing). "Negative feedback" meant dampening (stabilizing). Now they're moral categories: good feedback vs. bad feedback.

**What's distorted:**

The word now *obscures* what it originally *revealed*. When we say "let me give you some feedback," we use a systems word to perform a non-systemic act. We invoke circularity to deliver linearity. We claim mutual regulation while enacting hierarchy.

The distortion is ideological: it makes one-directional judgment sound scientific, mutual, and technical. "Feedback" launders critique through the prestige of cybernetics.

---

### Recovery Hypothesis

**Claim:** Feedback names a circular relationship in which output modifies input. Without the loop, it isn't feedback—it's judgment, evaluation, or critique.

**The test:** When someone offers "feedback," ask: *What loop does this complete? What feeds back to what?* If there's no loop—if information flows one way and only one party is supposed to change—then call it what it is: assessment, criticism, direction, correction. Reserve "feedback" for actual loops.

**Application:**

- **True feedback:** Your response to my last move changes my next move, which changes your next response, which changes my subsequent move. Conversation as feedback loop. Improvisation as feedback loop. Market prices as feedback loop.

- **False feedback:** Manager tells employee what to improve. Employee is supposed to change. Manager's behavior is not in question. No loop. This is *instruction* or *evaluation*, not feedback.

**Recovery enables:**

1. Honesty about power. "I have feedback for you" often means "I have authority over you." Recovery exposes this.

2. Designing actual loops. If you want real feedback, build structures where output returns to input—where the "giver" is also affected by what they give.

3. Recognizing when homeostasis applies. Some situations need stability (negative feedback). Others need transformation (not feedback at all—intervention, disruption, change).

**Stakes:**

The corruption of "feedback" lets hierarchical organizations pretend to be learning systems. It lets one-way power flows masquerade as mutual adjustment. Recovery restores the ability to see when genuine circular causality is present—and when it's absent but rhetorically invoked.

---

### Production Readiness

**Ready for instance?** Yes

**Operator:** FEEDBACK AS LOOP (versus FEEDBACK AS JUDGMENT)

The excavation reveals a clean opposition: the original (loop, circular, systemic, homeostatic) versus the drifted (linear, hierarchical, personal, corrective). This is ripe for an AS structure.

**Alternative operators:**
- FEEDBACK WITHOUT LOOP — what gets called feedback when the loop is missing
- FEEDBACK VERSUS CRITIQUE — distinguishing genuine circular causality from one-way evaluation

**Suggested formula:** Etymon Method + Oikonomia/Chrematistics lens

The drift from feedback-as-homeostasis to feedback-as-evaluation mirrors the drift from oikonomia (household flourishing) to chrematistics (extraction). In both cases, a relational/systemic concept becomes instrumental and one-directional.

**To strengthen before production:**
- [ ] Read Wiener's *Cybernetics* directly for original formulation
- [ ] Find the specific 1940s psychology texts where drift began
- [ ] Develop concrete examples of true vs. false feedback in organizations

---

## Sources

- [The History of Feedback | Merriam-Webster](https://www.merriam-webster.com/wordplay/the-history-of-feedback)
- [Cybernetics | Wikipedia](https://en.wikipedia.org/wiki/Cybernetics)
- [Systems Thinking: Feedback Loops | Deming Institute](https://deming.org/systems-thinking-feedback-loops/)
- [Feedback Culture: When Colleagues Become Competitors | MPIB Berlin](https://www.mpib-berlin.mpg.de/feedback-culture)
- [Systems Explained: What do we mean by feedback? | Open University](https://www.open.edu/openlearn/money-management/management/leadership-and-management/managing/systems-explained-what-do-we-mean-feedback)`,
  },
  {
    id: 'inst-excavate-institution',
    title: 'Excavation: INSTITUTION',
    type: 'instance',
    framework_kind: null,
    perspective: 'linguistic-recovery',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['excavation', 'institution', 'etymology', 'founding', 'statuere', 'standing'],
    content: `# Excavation: INSTITUTION

**Date:** 2025-01-09
**Status:** research (pre-production)

---

## Etymology

**Root:** Latin *instituere* — "to set up, put in place; arrange; found, establish"

**Components:**
- *in-* ("in, on") — from PIE root **en* ("in")
- *statuere* ("to set up, establish, cause to stand") — from PIE root **sta-* ("to stand, make or be firm")

**Literal meaning:** "To cause to stand in [place]" — the act of making something stand, establishing it firmly.

**First attested:** c. 1400 in English, meaning "action of establishing or founding (a system of government, a religious order, etc.)"

**Latin semantic field:**
The Latin *institutio* had a broader range: "a disposition, arrangement; instruction, education." This connects institution to both *ordering* (disposition, arrangement) and *teaching* (instruction, education). An institution was something that taught by its very structure.

**Cognates:**
- *Statute* — that which is made to stand (a law)
- *State* — that which stands (political organization)
- *Statue* — something set up, made to stand (physical)
- *Stable* — standing firm
- *Stand* — the PIE root directly

**Sources consulted:**
- [Etymonline - Institution](https://www.etymonline.com/word/institution)
- [Etymonline - Institute](https://www.etymonline.com/word/institute)
- [Wiktionary - institution](https://en.wiktionary.org/wiki/institution)

**Findings:**

The etymology reveals that **institution** is fundamentally about **making something stand** — the act of erecting, founding, establishing something durable. The root *statuere* connects to the entire family of "stand" words, emphasizing:
1. **Deliberate action** — someone *causes* it to stand (not emergent)
2. **Durability** — it *stands* over time (persists)
3. **Position** — it stands *in* a particular place (has location in a structure)

The connection to *instruction* (Latin *institutio* also meant teaching) is crucial: an institution was originally something that **teaches by existing** — its very arrangement instructs those within it.

---

## Semantic History

**Key inflection points:**

### 1. c. 1400 — The Founding Sense

Original English usage: "action of establishing or founding" — emphasis on the **act**, not the thing. Institution was a verb nominalized: what happens when you institute something. The founder is present in the word.

### 2. 1550s — Established Law or Practice

Shift from action to result: "established law or practice." Now institution names the thing that was established, not the establishing. The founder begins to recede.

### 3. 1707 — Organization for Charity/Public Purpose

Further concretization: "establishment or organization for promoting charity." Institution now means a *building with people in it* doing something. The original sense of founding is further buried.

### 4. 1837 — "Anything Around a Long Time"

Colloquial degradation: institution means anything persistent, familiar, long-standing. "He's an institution around here." The word has lost all connection to *founding* and *purpose* — only *duration* remains.

### 5. Late 19th Century — Durkheim's Sociological Formalization

Durkheim defined sociology as "the science of institutions" — understanding institutions as "beliefs and modes of behaviour instituted by the collectivity." This partially recovers the original sense: institutions are *instituted* (someone/something established them) and they are collective (shared ways of acting/thinking).

But Durkheim's formalization also neutralizes: institutions become *any* collective pattern, regardless of whether deliberately founded. The emphasis shifts from *making stand* to *existing pattern*.

**Sources:**
- [Etymonline](https://www.etymonline.com/word/institution)
- [IEP - Emile Durkheim](https://iep.utm.edu/emile-durkheim/)

---

## Contemporary Usage

**Dominant meaning:** An organization, especially one dedicated to public service (hospital, university, government agency); or any established practice or custom.

**What's lost:**

1. **The founder.** Contemporary usage treats institutions as if they always existed or emerged naturally. The person who *stood them up* is invisible.

2. **The deliberate act.** Institution now feels passive — something that exists — rather than active — something made to exist. The *statuere* (causing to stand) is gone.

3. **The purpose.** Original institutions were founded *for* something. Contemporary usage emphasizes persistence, not telos. An institution can "outlive its usefulness" — but originally, usefulness was the point.

4. **The instruction.** The Latin connection to teaching (*institutio* as instruction) is completely buried. Institutions no longer teach by their structure; they just exist.

**What's distorted:**

1. **Institution as inertia.** Contemporary usage often implies institutions are obstacles — heavy, slow, resistant to change. The original sense of *standing firm* (stability) has become *stuck in place* (rigidity).

2. **Institution vs. innovation.** False opposition where institutions are old/conservative and innovation is new/progressive. Originally, founding an institution *was* innovation — making something new stand.

3. **Institutional capture.** We speak of institutions being "captured" by interests — but this implies the institution is a passive object. Originally, the institution was constituted *by* someone's intentional act.

---

## Recovery Hypothesis

**Claim:** An institution should be understood as **something deliberately founded to stand over time for a purpose** — with emphasis on:
- **Founded** (someone stood it up; there was a founding moment and vision)
- **Stand** (durable, stable, persisting through personnel change)
- **Purpose** (telos — it exists *for* something beyond itself)

**Recovered sense:** To ask "is this an institution?" is to ask:
- Who founded it? For what?
- Does it still stand for that purpose?
- Does its structure teach/instruct toward that purpose?

**Application — Diagnostic Questions:**

| Question | Recovers |
|----------|----------|
| **Who instituted this?** | The founder, the founding act |
| **What was it instituted for?** | The telos, the purpose |
| **Does it still stand for that?** | Purpose-integrity over time |
| **What does its structure teach?** | The instruction embedded in arrangement |
| **Could it be dis-instituted?** | The contingency — it was made; it could be unmade |

**Stakes:**

The recovered sense of institution enables:

1. **Accountability.** If institutions were founded by someone for something, they can be held accountable to that founding. The founder is not irrelevant.

2. **Reform vs. replacement.** If the institution has drifted from its founding purpose, the question is whether to reform (restore the purpose) or replace (found something new). This is clearer than vague "institutional change."

3. **Founding as possibility.** If institutions are *made* to stand, then we can *make* new ones. The current arrangements are not natural or inevitable — they were instituted, and alternatives could be instituted.

4. **Purpose-evaluation.** Instead of asking "is this institution working?" (which begs the question: working for what?), ask "is this institution fulfilling the purpose for which it was founded?" Different question, clearer answer.

---

## Connection to Recon

This excavation informs \`inst-recon-institutions-post-globalist\`:

The recon asked "how to think about institutions." The excavation answers: **think about who founded them, for what, and whether they still stand for that purpose.**

The five elements of institutionalization identified in the recon map onto the etymology:

| Element | Etymological Connection |
|---------|------------------------|
| **Vision** | What it was founded *for* (telos) |
| **Theory** | The *instruction* embedded in structure |
| **Structure** | What is made to *stand* |
| **Coalition** | Who keeps it *standing* |
| **Reproduction** | How it continues to *stand* across generations |

The globalist institutions (Fed, IMF, WTO, WEF) can now be interrogated:
- Who founded them? (Bretton Woods planners, not American Founders)
- For what purpose? (Capital mobility, not national development)
- Do they still serve that? (Yes — that's the problem)
- What do they instruct? (That nation-states are subordinate to "the economy")

American System institutions can also be interrogated:
- Who founded them? (Hamilton, Clay, Lincoln)
- For what? (National productive capacity, independence)
- Do they still stand? (Mostly dismantled or captured)
- What would re-founding require? (New founding vision, new structure, new coalition)

---

## Production Readiness

**Ready for instance?** Yes — the excavation is complete and findings are actionable.

**Suggested operator:** AS

**Suggested formula:** Institution AS Founding (emphasizing the active sense of instituting)

**Possible instance:** "The American System AS Re-Founding" — framing post-globalist development as an act of re-institution, not mere reform.

---

## Sources

- [Etymonline - Institution](https://www.etymonline.com/word/institution)
- [Etymonline - Institute](https://www.etymonline.com/word/institute)
- [Wiktionary - institution](https://en.wiktionary.org/wiki/institution)
- [IEP - Emile Durkheim](https://iep.utm.edu/emile-durkheim/)
- [Wikipedia - Social structure](https://en.wikipedia.org/wiki/Social_structure)`,
  },
  {
    id: 'inst-excavate-mortgage',
    title: 'Excavation: MORTGAGE',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['excavation', 'mortgage', 'etymology', 'death', 'pledge', 'property'],
    content: `# Excavation: MORTGAGE

**Date:** 2026-01-09
**Status:** research (pre-production)

---

### Etymology

**Root:** Old French *mort gage* — literally "death pledge"
**Components:** *mort* (dead, from Latin *mortuus*) + *gage* (pledge, from Frankish *wadi*)
**First attested:** Late 14th century in English; 13th century in French
**Medieval Latin:** *mortuum wadium* (dead pledge)

**Sources consulted:**
- [Etymonline - Mortgage](https://www.etymonline.com/word/mortgage)
- [Wiktionary - Mortgage](https://en.wiktionary.org/wiki/mortgage)
- [Wordfoolery - The Deadly History of Mortgage](https://wordfoolery.wordpress.com/2022/12/20/the-deadly-history-of-mortgage/)

**Findings:**

The etymology is stark: **mortgage means death pledge**.

Sir Edward Coke's 17th-century explanation (from *Coke upon Littleton*, 1664): The deal is called "dead" because it must die — either by the debt being paid, or by the property being seized. One way or another, the arrangement terminates.

Two possible deaths:
1. **The debt dies** — you pay, the pledge is released, the mortgage ends
2. **The property dies to you** — you fail, the property is forfeit, gone forever

The word contains its own end. Every mortgage carries death inside it.

The -t- in *mort* is silent in English pronunciation because of the French origin — we kept the spelling but lost the sound. Yet "mort" connects to: mortal, mortality, mortuary, mortify, mortician. The death family.

Related: *amortization* — "killing" the debt gradually. Each payment is a small death.

---

### Semantic History

**Key inflection points:**

1. **Medieval period:** Mortgages were rare, associated with distress. Pawning land was shameful — you pledged your inheritance.

2. **Early modern:** Property becomes more liquid. Mortgages enable land transactions without losing face entirely — the pledge is "dead" not because shameful, but because temporary.

3. **19th-20th century:** Mortgage becomes normal. Homeownership ideology makes 30-year death pledges virtuous.

4. **2008 and after:** Mortgage becomes "product." Bundled, securitized, traded. The death pledge becomes a financial instrument nobody reads.

**Sources:**
- Legal history of property (Coke, Blackstone)
- History of homeownership ideology (post-WWII America)

---

### Contemporary Usage

**Dominant meaning:** A loan secured by real property; the standard way to buy a house

**What's lost:**
- The death structure (something must die)
- The pledge (your word, your commitment)
- The stakes (property forfeit means social death)

**What's distorted:**
- "Getting a mortgage" sounds like receiving something, not giving a death pledge
- "Mortgage payment" hides that you're killing a debt
- "Underwater mortgage" — the metaphor shifts to drowning, losing the death frame

---

### Recovery Hypothesis

**Claim:** Mortgage should be heard as death pledge — an arrangement where you gamble your dwelling against your ability to pay, where failure means losing the shelter.

**Application:**
- When someone says "I got a mortgage," hear: "I gave a death pledge on my home"
- When banks speak of "mortgage products," hear: "death pledge instruments"
- When policy encourages "homeownership through mortgages," hear: "ownership through death pledges"

**Stakes:**

The domestication of "mortgage" normalizes enormous risk. A 30-year death pledge on the place you live is not a "product" — it's a commitment of your shelter against your future income for three decades.

Recovering the death-pledge would add friction: are you ready to make a death pledge? Is this property worth pledging your future on? The word would resist being spoken casually.

---

### Production Readiness

**Ready for instance?** Yes — etymology is dramatic, drift is clear, recovery is provocative

**Suggested operator:** **AS** — MORTGAGE AS Death Pledge (recovering the hidden identity)

Alternative: **FROM** — MORTGAGE FROM Death (tracing the origin)

**Suggested formula:** Etymon Method + Oikonomia/Chrematistics (death pledge is oikonomic — it has an end; mortgage-as-product is chrematistic — it compounds)

---

### Notes for Production

The hook: "Mortgage comes from Old French *mort gage* — death pledge. Every time you make a payment, you're killing a little bit of your debt. And if you stop paying, your home dies to you forever."

The structure:
1. The French etymology (*mort gage*)
2. Coke's explanation (the deal must die)
3. The two deaths (debt dies or property dies)
4. How we stopped hearing it (product, instrument)
5. Recovery: what if we called it what it is?

Visual possibility: Medieval deed of mortgage, or foreclosure notice juxtaposed with "product" language.

Connection to CAPITAL: cattle die, capital doesn't — but mortgages remember death.`,
  },
  {
    id: 'inst-excavate-wealth',
    title: 'Excavation: WEALTH',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['excavation', 'wealth', 'etymology', 'weal', 'well-being', 'prosperity'],
    content: `# Excavation: WEALTH

**Date:** 2026-01-09
**Status:** research (pre-production)

---

### Etymology

**Root:** Old English *wela* (well-being, prosperity) → Middle English *welth/welthe* (happiness, prosperity)
**Proto-Germanic:** *walô* (well-being, prosperity)
**Proto-Indo-European:** *wel-* (to wish, to will; source of "well" and "will")
**Cognates:** German *Wohl* (well-being), Danish *vel*, Swedish *väl*

**Sources consulted:**
- [Etymonline - Wealth](https://www.etymonline.com/word/wealth)
- [Etymonline - Weal](https://www.etymonline.com/word/weal)
- [Wiktionary - Wealth](https://en.wiktionary.org/wiki/wealth)
- [The Earthbound Report - Etymology of Wealth](https://earthbound.report/2012/03/14/an-etymology-of-wealth/)

**Findings:**

**Wealth meant well-being.** Not money. Not assets. Not net worth. Well-being.

The root is *wela* — the Old English word for "well-being." Same root as "well" (the adverb) and "will" (desire). Wealth was the state of being well.

*Weal* and *wealth* were once synonyms. Both meant prosperity AND well-being. "Commonwealth" preserves this — common weal, common well-being, not common riches.

The semantic narrowing:
- ~1250 AD: *welth* emerges
- ~1430 AD: settles around "riches and prosperity"
- By modernity: purely financial meaning dominates

What was lost: the wider meanings of health, happiness, flourishing. Wealth shrank from **how you are** to **what you have**.

The German preserves the older sense: *Wohlstand* (prosperity/wealth) literally means "well-standing" — the state of standing well. And *Wohlbefinden* (well-being) shares the root.

---

### Semantic History

**Key inflection points:**

1. **Old English:** *Wela* meant general prosperity, good fortune, flourishing. Closely connected to health and happiness.

2. **Middle English (~1250-1430):** *Welth* develops as a noun form. Still carries both meanings — riches AND well-being.

3. **Early Modern English:** Financial meaning dominates. "Wealth" increasingly means what you have, not how you are.

4. **Industrial/capitalist era:** Wealth becomes measurable, countable, comparable. Net worth. GDP. "Wealth creation" means making money, not making people well.

**The drift parallels oikonomia → chrematistics:**
- Oikonomia: wealth as flourishing within a household
- Chrematistics: wealth as accumulation without bound

When wealth meant well-being, you could have enough. When wealth means assets, there's no enough.

---

### Contemporary Usage

**Dominant meaning:** Financial assets, net worth, economic resources

**What's lost:**
- Well-being (health, happiness, flourishing)
- The qualitative dimension (how you are, not just what you have)
- The connection to "well" (being well, doing well)

**What's distorted:**
- "Wealth creation" sounds like making good, but means making money
- "Wealthy" describes bank account, not life quality
- "Wealth management" manages assets, not well-being

**Traces of the old meaning:**
- "Health is wealth" — a cliché that remembers the connection
- "Commonwealth" — common well-being
- "Weal and woe" — flourishing and suffering (archaic)

---

### Recovery Hypothesis

**Claim:** Wealth should mean well-being — the state of being well, flourishing, having enough for life to go well.

**Application:**
- When measuring "national wealth," ask: are people well?
- When someone is called "wealthy," ask: are they flourishing?
- When policy aims at "wealth creation," ask: is it creating well-being?

**Stakes:**

The reduction of wealth to assets enables chrematistics. If wealth is only money, more is always better. If wealth is well-being, there's a satiation point — you can have enough well-being.

Recovering wealth-as-wellbeing would transform:
- Economics: not just GDP, but flourishing metrics
- Personal finance: not just net worth, but life quality
- Policy: not just growth, but genuine prosperity

This is the direct oikonomic recovery: the household has enough when its members are well.

---

### Production Readiness

**Ready for instance?** Yes — etymology is powerful, drift is clear, recovery has stakes

**Suggested operator:** **AS** — WEALTH AS Well-Being (recovering the hidden identity)

Alternative: **WITHOUT** — WEALTH WITHOUT Well-Being (naming what's lost)

**Suggested formula:** Etymon Method + Oikonomia/Chrematistics (this is the core oikonomic concept)

---

### Notes for Production

The hook: "Wealth comes from the Old English word for well-being. *Wela* — to be well. Somewhere between the Anglo-Saxons and the Forbes list, we forgot that wealth meant flourishing, not fortune."

The structure:
1. The etymology (*wela* = well-being)
2. The connection to "well" and "will"
3. When it narrowed (1250-1430)
4. What was lost (you can't have "enough" assets, but you can have enough well-being)
5. Recovery: what if wealth meant wellness again?

Visual possibility: "Commonwealth" — the common weal, the common well-being. Etymology chart showing wealth/weal/well from same root.

Connection to oikonomia: This IS the oikonomic concept. Bounded by enough. Aimed at flourishing. Wealth-as-wela is what chrematistics destroyed.

This may be the most important excavation for the economic genealogy series — it's the positive concept that chrematistics displaced.`,
  },
  {
    id: 'inst-federal-reserve-institutionalization',
    title: 'Federal Reserve THROUGH Institutionalization Elements',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-institutionalization-elements', 'fw-oikonomia-chrematistics'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['federal-reserve', 'institutions', 'central-bank', 'monetary-policy', 'disembedded', 'attack-surface', 'developmental'],
    content: `# Federal Reserve THROUGH Institutionalization Elements

**Framework applied:** [Institutionalization Elements](../framework/institutionalization-elements.md)
**Subject:** Federal Reserve System (1913–present)
**Analytical stance:** Developmental nationalist; Listian political economy

---

## Executive Summary

The Federal Reserve is the **paradigmatic disembedded institution** of the globalist arrangement. Analyzed through the five institutionalization elements:

| Element | Status | Vulnerability |
|---------|--------|---------------|
| **Vision** | Degraded → Absent | Original purposes (elastic currency, lender of last resort) supplanted by ideology of "independence" as end in itself |
| **Theory** | Under stress | Monetarism/inflation targeting contested; "credibility" as circular justification |
| **Structure** | Strong but contested | Legal foundation secure; "independence" under political attack from both sides |
| **Coalition** | Fracturing | Financial sector + professional economists vs. populist revolt left and right |
| **Reproduction** | Strong but narrowing | Economics PhD pipeline intact; but declining public trust in "experts" |

**Diagnosis:** The Fed's legitimation (Theory) is its weakest element. "Independence" has become a telos rather than a means, which inverts the structure of a healthy institution. The current arrangement is chrematistic — it serves no bounded household but rather the abstract imperative of "credibility."

**Strategic implication:** Reform must target Theory first — articulate what the Fed should be *for* (national productive capacity) before structural reform becomes possible.

---

## The Analysis

### Element 1: Vision (Telos)

**Framework question:** What is this institution for?

#### The Founding Vision (1913)

The Federal Reserve Act aimed to solve specific problems:

| Problem | Solution | Purpose |
|---------|----------|---------|
| Inelastic currency | Federal Reserve notes | Match money supply to trade needs |
| Banking panics | Lender of last resort | Prevent cascading bank failures |
| Scattered reserves | Regional reserve banks | Distribute and coordinate reserves |
| Agricultural credit seasonality | Discount window | Accommodate seasonal demand |

The founders did not envision "monetary policy" as we understand it. They wanted a **service institution** — providing elastic currency and emergency liquidity to support commerce.

#### The Vision Drift

| Era | De facto telos |
|-----|----------------|
| 1913–1933 | Elastic currency; gold standard maintenance |
| 1933–1951 | Treasury subordination; war finance |
| 1951–1979 | Employment + price stability (dual mandate) |
| 1979–2008 | Inflation targeting; "credibility" |
| 2008–present | Financial stability; crisis management; "independence" as end |

**Current state:** The Fed has no clear telos. "Price stability" is circular (stable prices for what purpose?). "Maximum employment" is subordinate to inflation fears. "Financial stability" means protecting the financial system, not national productive capacity.

#### Diagnostic Assessment

| Requirement | Assessment |
|-------------|------------|
| **Articulated purpose** | **Weak** — "dual mandate" provides words but not direction |
| **Transcends individual interest** | **Failed** — serves financial sector; "Wall Street vs. Main Street" is common perception |
| **Long time horizon** | **Failed** — driven by quarterly meetings, market reactions |
| **Path from present** | **N/A** — no vision to path toward |

#### Attack Surface Status

| Attack | Active? | Evidence |
|--------|---------|----------|
| "Purpose is outdated" | Partial | "Gold standard thinking" critique from left |
| "Nobody believes that" | Growing | Public distrust of Fed motives |
| "Purpose drift" | **Completed** | Original purposes forgotten |
| "Vision was naive" | Partial | "Fed can't actually control inflation" critique |

**Vulnerability rating: CRITICAL**

The Fed lacks a defensible telos. "Independence" has become a pseudo-telos — the purpose of the Fed is to be independent, so that it can... be independent. This is institutionally fatal in the long run.

---

### Element 2: Theory (Legitimation)

**Framework question:** Why is this institution necessary, and why this design?

#### The Legitimating Theory

The Fed's current legitimation rests on:

| Claim | Justification |
|-------|---------------|
| **Central bank independence is necessary** | Politicians cause inflation (political business cycle theory) |
| **Inflation targeting works** | Credible commitment to low inflation anchors expectations |
| **The Fed has the tools** | Interest rate control, balance sheet, forward guidance |
| **Technocratic expertise** | PhD economists know what elected officials don't |

This is a **cosmopolitan economics** legitimation — it assumes:
- Monetary policy is a technical, not political, problem
- "Independence" from democracy is a feature, not a bug
- The financial system's stability is the proper object of concern
- National productive capacity is not a monetary policy goal

#### The Theory's Weaknesses

| Claim | Problem |
|-------|---------|
| **Independence prevents inflation** | 2021–2023: inflation despite "independent" Fed |
| **Credibility matters** | Circular: credibility requires independence; independence is legitimate because it provides credibility |
| **The Fed has tools** | Quantitative easing didn't produce inflation when they wanted it; rate hikes didn't stop it quickly when they didn't |
| **Expertise** | Forecasting record is poor; "transitory" inflation call was catastrophically wrong |

#### The Deeper Problem: No Household

From the oikonomia/chrematistics framework:

The Fed serves **no bounded household**. Ask "whose flourishing does the Fed serve?" and the answer is incoherent:
- Not workers (unemployment is a policy tool)
- Not savers (ZIRP destroyed returns)
- Not manufacturers (strong dollar policy)
- Not homebuyers (asset price inflation)
- Not the nation (no national productive capacity mandate)

The Fed serves **financial stability** — the stability of the financial system itself. This is chrematistic: the system serving its own perpetuation.

#### Diagnostic Assessment

| Requirement | Assessment |
|-------------|------------|
| **Explains necessity** | **Weak** — "someone must control money" doesn't explain why *this* design |
| **Addresses objections** | **Failing** — "we're independent" isn't an answer to "you caused inflation" |
| **Provides principles** | **Absent** — rules vs. discretion debate never resolved; pure discretion now |
| **Links to general good** | **Broken** — public doesn't believe Fed serves them |

#### Attack Surface Status

| Attack | Active? | Evidence |
|--------|---------|----------|
| "Theory was proven wrong" | **Active** | 2021–2023 inflation; "transitory" failure |
| "Better theory exists" | **Emerging** | MMT from left; productive capacity focus from right |
| "Just ideology" | **Active** | "Fed serves Wall Street" is mainstream sentiment |
| "Science says otherwise" | Partial | Heterodox economics gaining attention |

**Vulnerability rating: WEAK**

The Fed's legitimating theory is under sustained attack from both left and right. The 2021–2023 inflation episode damaged "credibility" — the very thing the theory claims independence provides. The theory cannot explain why the Fed's preferred policies serve the general good rather than the financial sector.

---

### Element 3: Structure (Organization)

**Framework question:** What is the institution's concrete form?

#### The Legal Foundation

| Feature | Description |
|---------|-------------|
| **Statutory basis** | Federal Reserve Act (1913), amended many times |
| **Constitutional authority** | Congress's power to coin money, regulate value (Art. I, §8) |
| **Form** | Quasi-public: private regional banks + public Board of Governors |
| **Jurisdiction** | Monetary policy; bank supervision; payment systems |
| **Leadership** | Chair + Board appointed by President, confirmed by Senate; 14-year terms |
| **Regional structure** | 12 regional Federal Reserve Banks, each with private bank shareholders |

#### The "Independence" Structure

"Independence" is structural, not just cultural:

| Feature | Effect |
|---------|--------|
| **Long terms** | Board members serve 14 years; Chair serves 4 |
| **No appropriations** | Fed funds itself from operations; doesn't depend on Congress |
| **Limited removal** | Board members can only be removed "for cause" |
| **Monetary policy autonomy** | No formal Treasury/White House veto |
| **FOMC structure** | Regional bank presidents (private sector appointees) vote on rates |

This structure was designed to **insulate the Fed from democratic accountability**. That's the feature, not the bug.

#### The Disembeddedness Problem

From Polanyi's framework:

The Fed is a **paradigmatically disembedded institution**. It is structurally separated from:
- Democratic politics (independence)
- National economic strategy (no Treasury coordination requirement)
- Productive economy (financial stability focus)
- Regional/local needs (despite 12 districts, policy is national/global)

"Independence" means the Fed operates according to its own logic, requiring society to adapt to its decisions rather than adapting its decisions to social needs.

#### Diagnostic Assessment

| Requirement | Assessment |
|-------------|------------|
| **Legal foundation** | **Strong** — statutory basis secure; Supreme Court has upheld independence |
| **Clear jurisdiction** | **Adequate** — but expanding ("financial stability" covers more each crisis) |
| **Internal organization** | **Strong** — procedures work; staff is capable |
| **Relational position** | **Contested** — relationship to Treasury, President increasingly political |

#### Attack Surface Status

| Attack | Active? | Evidence |
|--------|---------|----------|
| **Direct dissolution** | Not active | No serious movement to abolish Fed |
| **Capture** | **Completed** | Revolving door with Wall Street is the norm |
| **Jurisdictional erosion** | Reverse | Fed jurisdiction *expanding* (financial stability, climate?) |
| **Internal dysfunction** | Low | Fed functions operationally |
| **Bureaucratic accumulation** | Growing | More staff, more functions, more opacity |

**Vulnerability rating: ADEQUATE**

The Fed's structure is legally secure. The attack surface is not dissolution but **capture** — and that attack has already succeeded. The revolving door between Fed, Treasury, and Wall Street means the structure serves financial sector interests. Political attacks on "independence" are growing but have not yet changed structure.

---

### Element 4: Coalition (Politics)

**Framework question:** Who defends this institution?

#### The Defending Coalition

| Group | Interest | Commitment Level |
|-------|----------|------------------|
| **Financial sector** | Low rates, bailouts, regulatory capture | **Core** — existential interest |
| **Economics profession** | Technocratic authority, employment | **Core** — professional identity |
| **Multinational corporations** | Dollar hegemony, global capital flows | **Strong** — operational necessity |
| **Bondholders** | Inflation control | **Strong** — wealth preservation |
| **Foreign central banks** | Dollar system coordination | **Moderate** — systemic interest |
| **Mainstream media** | Access, expertise narrative | **Moderate** — institutional affinity |

#### The Opposing Coalition (Emerging)

| Group | Grievance | Organization Level |
|-------|-----------|-------------------|
| **Populist right** | "Wall Street bailouts," inflation, globalism | Growing (Trump attacks on Fed) |
| **Populist left** | Unemployment weapon, inequality, bank focus | Growing (Warren, Sanders criticism) |
| **Manufacturing interests** | Strong dollar hurts exports | Latent — not yet mobilized on Fed |
| **Savers** | ZIRP destroyed returns | Diffuse — no organization |
| **Homebuyers** | Asset price inflation | Diffuse — blamed on Fed by some |
| **Developmentalists** | No productive capacity mandate | Small but coherent |

#### Coalition Dynamics

The Fed's coalition is **narrow but powerful**:
- Financial sector has concentrated interest, organization, resources
- Diffuse public bears costs but has no mechanism to organize

The opposing coalition is **broad but fragmented**:
- Left and right agree Fed is problematic but disagree on solution
- No unified alternative vision (MMT vs. gold standard vs. Treasury control)

#### Diagnostic Assessment

| Requirement | Assessment |
|-------------|------------|
| **Aligned interests** | **Narrow** — financial sector clearly; public questionably |
| **Supportive ideology** | **Weakening** — "independence" doctrine under attack |
| **Organized support** | **Strong** — Wall Street, economists, media |
| **Leadership** | **Present** — Fed chairs, FOMC members, economics professors |

#### Attack Surface Status

| Attack | Active? | Evidence |
|--------|---------|----------|
| **Interest fracture** | **Active** | Savers vs. borrowers; Wall Street vs. Main Street |
| **Ideological capture** | Underway | "Independence" losing salience |
| **Organizational disruption** | Not active | Coalition organizations intact |
| **Leadership decapitation** | Episodic | Powell faced Trump attacks; survived |

**Vulnerability rating: ADEQUATE but FRACTURING**

The Fed's coalition is powerful but not popular. It survives because opponents are disorganized and lack an alternative vision. The 2021–2023 inflation episode intensified opposition. A unified challenger coalition with a coherent alternative could threaten the current arrangement.

---

### Element 5: Reproduction (Transmission)

**Framework question:** How does this institution perpetuate itself?

#### Personnel Pipeline

| Stage | Institution | Function |
|-------|-------------|----------|
| **Undergraduate** | Top universities (Harvard, MIT, Stanford, Chicago) | Identify talent |
| **Graduate** | PhD programs in economics | Train in paradigm |
| **Early career** | Fed research divisions, academic posts | Socialize into profession |
| **Mid-career** | Regional banks, Board staff, academia rotation | Build network |
| **Leadership** | Board appointments, FOMC | Gatekeeping by existing members |

The pipeline is **self-reproducing**: the Fed hires from PhD programs that teach what the Fed believes. Heterodox economists are filtered out at every stage.

#### Knowledge Transmission

| What's transmitted | How |
|-------------------|-----|
| **DSGE models** | Graduate curriculum |
| **Inflation targeting doctrine** | Fed research papers, conferences |
| **"Independence" ideology** | Professional culture, public statements |
| **Technocratic authority** | Media deference, expert narrative |

#### Cultural Transmission

| Norm | Mechanism |
|------|-----------|
| **Non-partisanship** | Fed culture strongly enforces |
| **Deference to data** | Quantitative emphasis |
| **Gradualism** | 25bp moves, "measured" language |
| **Consensus** | Dissents are rare and mild |
| **Opacity** | "Fedspeak" as institutional practice |

#### Adaptation (or Its Absence)

The Fed has **adapted operationally** (QE, forward guidance, new facilities) but **not theoretically**. The same inflation targeting framework from the 1990s is applied, with modifications, despite repeated challenges.

This is **ossification with operational flexibility** — the institution can act but cannot think differently.

#### Diagnostic Assessment

| Requirement | Assessment |
|-------------|------------|
| **Personnel pipeline** | **Strong** — PhD production continues |
| **Knowledge transmission** | **Strong** — paradigm intact |
| **Cultural transmission** | **Strong** — professional norms enforced |
| **Adaptation mechanism** | **Weak** — operational but not theoretical flexibility |

#### Attack Surface Status

| Attack | Active? | Evidence |
|--------|---------|----------|
| **Personnel disruption** | Low | Academic economics intact |
| **Training corruption** | Slow | Heterodox programs exist but marginalized |
| **Culture rot** | Partial | Careerism present; "transitory" was a cultural failure |
| **Ossification** | **Active** | Same framework despite changing conditions |

**Vulnerability rating: STRONG but NARROWING**

Reproduction is the Fed's strongest element. The pipeline functions. But:
- Public trust in "experts" is declining
- Heterodox ideas are gaining attention
- The pipeline produces ideological conformity, not adaptive capacity
- A legitimation crisis could break the pipeline (why get a PhD in a discredited field?)

---

## Overall Vulnerability Assessment

\`\`\`
┌──────────────────────────────────────────────────────────────────────────┐
│                    FEDERAL RESERVE: ELEMENT STATUS                        │
│                                                                          │
│    Element        Status        Vulnerability    Attack Active?          │
│    ──────────────────────────────────────────────────────────────────    │
│    Vision         CRITICAL      ████████████     Purpose drift complete  │
│    Theory         WEAK          ██████████░░     Legitimation under fire │
│    Structure      ADEQUATE      ██████░░░░░░     Capture completed       │
│    Coalition      FRACTURING    ████████░░░░     Opponents disorganized  │
│    Reproduction   STRONG        ████░░░░░░░░     Pipeline intact (so far)│
│                                                                          │
│    Overall: Institution is structurally secure but legitimationally      │
│    hollow. Current arrangement survives on inertia and opponent          │
│    disorganization, not on persuasive vision or theory.                  │
└──────────────────────────────────────────────────────────────────────────┘
\`\`\`

---

## Strategic Implications

### For Opponents (Developmentalist Perspective)

The Fed's weakness is **Vision** and **Theory**, not Structure or Reproduction. Attacking structure directly ("audit the Fed," "end the Fed") fails because:
- The structure is legally secure
- The coalition can defend against structural attacks
- There's no alternative vision to replace it with

**The sequence must be:**

1. **Theory first** — Articulate what monetary policy should be *for* (national productive capacity, not financial stability). This creates the intellectual alternative.

2. **Vision second** — What would a re-embedded central bank look like? Treasury coordination? Productive capacity mandate? Regional credit allocation?

3. **Coalition third** — Unite manufacturing, labor, developmentalists around productive capacity framing. This crosses left-right divide.

4. **Structure last** — Structural reform follows when theory, vision, and coalition are in place.

### What Not to Do

| Mistake | Why it fails |
|---------|--------------|
| **"End the Fed"** | No alternative; confirms "cranks" narrative |
| **"Audit the Fed"** | Structure attack without theory; easily deflected |
| **Left-right fragmentation** | MMT vs. gold bugs vs. Austrians prevents coalition |
| **Personnel attacks** | "Fire Powell" changes nothing; the pipeline replaces |
| **Inflation nostalgia** | "Return to Volcker" is the Fed's preferred frame |

### What to Do

| Action | Element targeted | Mechanism |
|--------|------------------|-----------|
| **Articulate productive capacity mandate** | Theory | What should the Fed be *for*? |
| **Connect Fed to deindustrialization** | Vision | "Strong dollar = weak manufacturing" |
| **Build labor + manufacturing coalition** | Coalition | Shared interest in production |
| **Develop alternative training** | Reproduction | Heterodox economics; developmentalist programs |
| **State-level experiments** | Structure | Public banks; state credit allocation |

---

## The Oikonomia Question

Applying the oikonomia/chrematistics framework to the Fed:

| Question | Fed's Answer | Oikonomic Answer |
|----------|--------------|------------------|
| **Who is the household?** | No one (global financial system?) | The American nation |
| **What is it for?** | "Price stability" (circular) | National productive capacity |
| **What counts as enough?** | No answer | Production to meet needs |
| **What are the limits?** | None (expand in every crisis) | Bounded by national purpose |

The Fed is a **chrematistic institution**: it serves no bounded household, has no telos beyond its own operation, cannot define "enough," and has no limit principle.

A developmental reform would **re-embed** the Fed:
- Subordinate to national economic strategy
- Coordinated with Treasury on production goals
- Accountable to democratic process
- Limited in scope (monetary, not "financial stability" catchall)

---

## Historical Comparison

### Bank of the United States vs. Federal Reserve

| Dimension | Bank of the US (1791–1836) | Federal Reserve (1913–present) |
|-----------|---------------------------|-------------------------------|
| **Vision** | National credit for development | "Independence" as end |
| **Theory** | Hamilton's productive capacity | Cosmopolitan economics |
| **Structure** | 20-year charter; Congress controlled | Permanent; self-funding |
| **Coalition** | Manufacturers, merchants, Federalists/Whigs | Financial sector, economists |
| **Reproduction** | Direct political control | Professional pipeline |
| **Household** | The nation | None (global finance) |

The Bank of the US was an **American System institution** — embedded, purposive, accountable. The Fed is a **globalist arrangement institution** — disembedded, circular, "independent."

Jackson killed the Bank by coalition fracture. The Fed is more resilient because its reproduction is professionalized and its structure is self-funding.

---

## Composition

**Upstream (what informed this analysis):**
- [Institutionalization Elements](../framework/institutionalization-elements.md) — the framework applied
- [Oikonomia vs Chrematistics](../framework/oikonomia-chrematistics.md) — telos diagnostic
- [The Great Transformation](../source/polanyi-great-transformation.md) — embeddedness framework
- [American System VERSUS Globalist](inst-american-system-versus-globalist.md) — historical contrast
- [Recon: Institutions Post-Globalist](inst-recon-institutions-post-globalist.md) — broader context

**Downstream (what this analysis enables):**
- Strategic planning for monetary reform
- Comparison with other central banks
- Assessment of reform proposals (MMT, Treasury coordination, etc.)
- Coalition-building around productive capacity mandate

---

## Summary

The Federal Reserve, analyzed through the five institutionalization elements:

**Vision:** Critical vulnerability. The Fed has no defensible telos. "Independence" has become an end in itself rather than a means to some purpose. The original purposes (elastic currency, lender of last resort) are forgotten or supplanted.

**Theory:** Under stress. The legitimating theory (independence ensures credibility ensures low inflation) failed the 2021–2023 test. "Transitory" damaged expert credibility. No clear answer to "whose flourishing does this serve?"

**Structure:** Adequate but captured. The legal structure is secure. But capture by the financial sector is complete (revolving door). "Independence" means independence from democracy, not from Wall Street.

**Coalition:** Fracturing. Narrow coalition (financial sector, economists) is powerful but not popular. Opposition is broad but disorganized. A unified alternative could threaten the arrangement.

**Reproduction:** Strong but narrowing. The PhD pipeline functions. But it produces ideological conformity, not adaptive capacity. Public distrust of "experts" could eventually break the pipeline.

**Strategic implication:** Attack Theory first. Articulate what monetary policy should be *for* (national productive capacity). Build coalition around this. Structural reform follows.

**Oikonomia diagnosis:** The Fed is chrematistic — serving no bounded household, having no telos, knowing no limits. Re-embedding requires subordination to national economic strategy and accountability to democratic process.`,
  },
  {
    id: 'inst-hierarchical-spectatorship',
    title: 'HIERARCHICAL SPECTATORSHIP',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-etymon-method', 'fw-agonal-identity'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['etymology', 'spectator', 'hierarchy', 'shonen', 'agon'],
    content: `# HIERARCHICAL SPECTATORSHIP

**Type:** Instance
**Frameworks:** Etymon Method, Agonal Identity
**Output:** Etymon
**Status:** Incubating

## Spectatorship WITHIN Hierarchy

The operator: **WITHIN** — situates in structure

---

## Excavation

*Spectator:* Latin *spectare* — to watch, to observe. One who watches.

*Hierarchy:* Greek *hieros* (sacred) + *arkhein* (to rule). Sacred rule, ordered ranks.

*Hierarchical spectatorship:* The phenomenon where watching itself is ranked. Not just who acts, but who gets to watch — and whose watching matters.

## The Shonen Pattern

Dragon Ball Z as case study:

Fights happen. But most characters don't fight — they watch. And the watchers are ranked:

1. **The fighters:** Goku, Vegeta — participants
2. **First-tier spectators:** Strong warriors who could fight but don't (Piccolo, Gohan) — their reactions validate power levels
3. **Second-tier spectators:** Weaker Z-fighters — their astonishment marks escalation
4. **Third-tier spectators:** Normal humans — total incomprehension, register only destruction
5. **Absent spectators:** Those too far away to perceive anything

The hierarchy of spectatorship *is* the power scaling system. Your ability to perceive the fight indicates your rank. When Krillin can no longer follow the action, you know the fighters have ascended.

## The Structure

| Spectator Tier | Can Perceive | Reaction | Function |
|---------------|--------------|----------|----------|
| Top fighters | Everything | Engage | Participate |
| Elite spectators | Most | Analyze | Validate |
| Mid-tier spectators | Some | Astonished | Mark escalation |
| Weak spectators | Little | Overwhelmed | Register power |
| Absent | Nothing | None | Show transcendence |

## The Agonal Connection

In Greek agon, spectators mattered. The audience's recognition made victory real. Excellence required witnesses.

Shonen manga literalizes this:
- Power is meaningless without spectators who can perceive it
- Higher power requires higher-tier spectators
- The ultimate power might have *no* adequate spectators

The question: If no one can perceive your power, are you powerful? DBZ's answer is ambivalent. Beerus's power is real, but partly illegible until someone can register it.

## Recovery

The concept excavates:
- **How communities validate excellence:** Whose perception counts?
- **Spectatorship as participation:** Watching is not passive; it constitutes the event
- **Ranked perception:** Some can see what others can't
- **The problem of transcendence:** What happens when you exceed all spectators?

---

## The Compression

**HIERARCHICAL SPECTATORSHIP:** In Dragon Ball Z, watching is ranked. Your ability to perceive the fight marks your own power level. The spectator hierarchy *is* the power scaling system. This excavates how communities validate excellence — whose perception constitutes recognition.

*Incubating — needs fuller agon connection, applications beyond anime*`,
  },
  {
    id: 'inst-interest',
    title: 'INTEREST',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-etymon-method', 'fw-oikonomia-chrematistics'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['etymology', 'interest', 'being-between', 'concern', 'rate'],
    content: `# INTEREST

**Type:** Instance
**Frameworks:** Etymon Method, Oikonomia vs Chrematistics
**Output:** Etymon
**Status:** Incubating

## INTEREST FROM Being-Between

The operator: **FROM** — traces derivation

---

## Excavation

Latin *interesse* — to be between, to be among, to make a difference
*Inter-* (between) + *esse* (to be)

"It interests me" originally meant "it is between me" — it stands in my space, it concerns me, it matters to me. Interest was **what matters**.

---

## Drift

**What matters to you → Rate of return**

1. **Interest (concern):** What stands between you and indifference. What you care about.
2. **Interest (stake):** What you have at stake in an outcome.
3. **Interest (advantage):** What serves your benefit.
4. **Interest (rate):** The price of borrowed money. A percentage.

The word that meant *being-between* became the price of time. That drift explains why finance feels soulless — the word for caring became a number.

---

## The Lending Connection

When you lend money, your *interest* is in its return. The interest you charge is compensation for your interest (concern, risk, care). The word originally carried the relational logic — you're interested because you're *in between*, you're exposed, you care.

Modern interest rates float free of relationship. The rate is calculated, not felt. The being-between becomes a spread.

---

## Recovery

What would it mean to recover interest?

- **Lending as caring:** You're interested because you're exposed to this person, this project
- **Rate as relationship:** The price reflects the between-ness, not just the algorithm
- **Interest alignment:** When we say "aligned interests," we're saying "we're between the same things"

---

## The Compression

**INTEREST:** From being-between to rate of return. What matters became a percentage. Recovery means remembering that interest is exposure — you're interested because you're *in* it, standing between outcome and indifference.

*Incubating — needs Mehrling on money view*`,
  },
  {
    id: 'inst-operative',
    title: 'OPERATIVE',
    type: 'instance',
    framework_kind: null,
    perspective: 'linguistic-recovery',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['etymology', 'operative', 'opus', 'work', 'agent'],
    content: `# OPERATIVE

**Type:** Instance
**Frameworks:** Etymon Method
**Output:** Etymon
**Status:** Incubating

## OPERATIVE AS One Who Works the Work

The operator: **AS** — recovers original sense

---

## Excavation

Latin *operari* — to work, to labor, to be busy with
From *opus* (genitive *operis*) — work, labor, but specifically: a work, a production, an opus

*Opus* is not *labor* (toil) and not *ponos* (suffering). Opus is the work that produces a *work*. An opus. The operative is the one who produces through working.

Related: *opera* (work, effort, but also the collaborative artwork), *operation*, *cooperate*

---

## Drift

**One who works → Merely functional**

1. **Operative (noun):** The one who operates, who works the mechanism, who produces
2. **Operative (adj.):** In operation, functioning, running
3. **Operational:** Merely working, merely running
4. **"The system is operative":** No agent, just status

The agent disappeared. "Operative" now means functional, running, in effect — passive. The worker became an adjective.

---

## The Displacement

When we say "operative capacity," we usually mean "ability to function." But the original sense is stronger: **the one working the work**. Not capacity abstractly, but actively producing.

"Operative capacity in Northwest Arkansas" doesn't mean *potential* to do things. It means *actual operation* — being the one who works, who produces, who makes things go.

---

## The Connection to CAPITAL

Capital without the head that operates it is exactly the drift. The faceless fund "seeks returns" — but funds don't seek. Someone operates the fund.

The operative puts the *caput* back. If capital needs a head (a decider, a risk-bearer, a responsible party), it also needs hands — someone doing the *opus*.

---

## Recovery

What would operative capacity mean, recovered?

- **Not potential but actual:** You're not building capacity to operate someday. You're operating.
- **The agent present:** When you say "operative," there's a who. Someone is working the work.
- **Production, not maintenance:** Operative isn't just "keeping things running." It's making the opus.

---

## The Diagnostic

The curriculum's diagnostic pattern: upper-left strong (conceptual, meaning, meta, propositional), lower-right weak (material, substance, instance, participatory).

OPERATIVE anchors the lower-right. It's the word for *actually doing the thing*. Recovering it means closing the gap between frameworks and operation.

---

## The Compression

**OPERATIVE:** From one who works the work to merely functional. The agent disappeared into adjective. Recovery means putting the worker back — not potential capacity, but actual operation. The one who produces the opus.

*Incubating — needs fuller development, connection to Part III/IV*`,
  },
  {
    id: 'inst-petty-commodity',
    title: 'PETTY COMMODITY PRODUCTION',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-etymon-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['etymology', 'petty', 'commodity', 'marx', 'production'],
    content: `# PETTY COMMODITY PRODUCTION

**Type:** Instance
**Frameworks:** Etymon Method
**Output:** Etymon
**Status:** Incubating

## PETTY AS Small-scale, Not Trivial

The operator: **AS** — recovers original sense

---

## Excavation

*Petty:* From French *petit* — small. Not "trivial" or "mean-spirited." *Small-scale.*

*Petty commodity production:* Production where the producer owns their means of production and sells what they make. The craftsman with their tools. The farmer with their land. Small-scale commodity production.

Marx distinguishes:
- **Simple/petty commodity production:** Producer owns means, sells product (C-M-C: commodity to money to different commodity)
- **Capitalist commodity production:** Capitalist owns means, buys labor, sells product (M-C-M': money to commodity to more money)

The petty commodity producer works *for* the sale. The capitalist works *through* the sale toward accumulation.

## Drift

**Small-scale → Inferior → Trivial**

"Petty" now means:
- Mean-spirited ("petty grievances")
- Trivial ("petty concerns")
- Inferior ("petty criminals")

The economic concept became inaudible. "Petty commodity production" sounds like "trivial" production, not "small-scale" production.

## Why It Matters

Petty commodity production is:
- **Oikonomic:** The producer works toward use, exchanging to obtain what they need
- **Bounded:** You can only produce so much with your own hands
- **Embodied:** The producer's body limits scale
- **Mortal:** The enterprise ends when the producer dies or stops

Capitalist commodity production is:
- **Chrematistic:** The goal is M' > M, accumulation without limit
- **Unbounded:** Scale limited only by capital, not producer's body
- **Disembodied:** Owners need not participate
- **Immortal:** Can outlast any individual through corporate form

## The Diagnostic

When someone says they're a "small business owner," ask:
- Do you work in the business? (Petty commodity producer)
- Or do you own a business that others work in? (Capitalist, regardless of scale)

The question isn't size. It's structure. A solo consultant is a petty commodity producer. A "small" business with employees where the owner doesn't work is not.

## Recovery

What's at stake in recovering the term:
- **Legitimacy for small-scale production:** Not inferior, just different structure
- **Alternative to capitalism/socialism binary:** Petty commodity production is neither
- **Diagnostic precision:** "Small business" conflates radically different forms
- **Oikonomic possibility:** Petty commodity production has built-in limits

---

## The Compression

**PETTY:** From small-scale to trivial. Marx's "petty commodity production" — the craftsman owning their tools — sounds like an insult. Recovery means hearing "petty" as *petit*, small-scale but not inferior. A structural alternative to both corporate capitalism and state socialism.

*Incubating — needs fuller Marx engagement, contemporary applications*`,
  },
  {
    id: 'inst-recon-american-compass',
    title: 'Recon: American Compass Operational Understanding',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-recon-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['recon', 'american-compass', 'oren-cass', 'new-right', 'industrial-policy', 'developmental', 'labor', 'policy'],
    content: `# Recon: American Compass Operational Understanding

**Date initiated:** 2025-01-09
**Domain:** American Compass — what they articulate, propose, and how they operate
**Intent:** Understand American Compass operationally to assess alignment and inform action
**Scope:**
- Included: Mission, theory, specific policies, institutional form, political positioning, criticisms
- Excluded: Detailed biographical info, funding sources, internal organization

---

## What American Compass Is

**Founded:** 2020 by Oren Cass
**Type:** Conservative think tank (501c3)
**Location:** Washington, D.C.
**Self-description:** "Restore an economic consensus that emphasizes the importance of family, community, and industry to the nation's liberty and prosperity"

**Key claim:** They explicitly invoke Henry Clay's "American System" as their model — developmental nationalism, protectionism, pro-worker policies.

---

## The Core Articulation

### What They Reject

| Orthodoxy | Their Critique |
|-----------|----------------|
| **Free trade** | Hollowed out American manufacturing; serves capital, not workers |
| **Free markets as end** | Markets are means, not ends; must be judged by outcomes for families and communities |
| **Financialization** | Wall Street extracts value rather than creating it; talent drain from productive sectors |
| **GDP as metric** | Growth that doesn't reach workers is meaningless |
| **Deregulation as default** | Some regulation protects workers and communities |
| **Consumer welfare standard** | Ignores producers, workers, communities |

### What They Affirm

| Position | Their Argument |
|----------|----------------|
| **Industrial policy** | Government should actively support strategic industries |
| **Tariffs** | Protect domestic production; rebalance trade |
| **Worker power** | Unions and collective bargaining strengthen families and communities |
| **Family support** | Direct cash benefits to working families with children |
| **Vocational education** | Break the college monopoly; fund on-the-job training |
| **National interest** | Economy should serve the nation, not abstract efficiency |

### The Framing

They frame this as **conservative** by appeal to:
- **Mediating institutions** (families, unions, churches) — traditional conservative concern
- **Private ordering** over government dictates — prefer sectoral bargaining to federal regulation
- **Earned prosperity** over redistribution — work requirements, not welfare
- **National interest** — patriotic, not cosmopolitan
- **Henry Clay / Abraham Lincoln** — historical Republican precedent

---

## Specific Policy Proposals

### 1. Trade: Global Tariff + Local Content

| Proposal | Mechanism |
|----------|-----------|
| **10% global tariff** | Across-the-board; increases 5% annually until trade balance |
| **Trade deficit trigger** | Tariff rises if deficit persists, falls if it closes |
| **Local content requirements** | Mandate domestic sourcing for critical goods (semiconductors, communications) |

**Rationale:** Make imports less attractive than domestic production. Force trade partners to negotiate.

### 2. Industrial Policy: Development Finance + Consortia

| Proposal | Mechanism |
|----------|-----------|
| **Development bank / finance corporation** | Quasi-public entity with government funding; long-term industrial investment |
| **Pre-competitive consortia** | Industry + government matching funds for joint research (German model) |
| **Targeted investment** | If something is strategically important, invest directly rather than wait for high tariffs to work |

**Rationale:** Markets alone won't rebuild industrial capacity against established foreign competition. Need patient capital and coordination.

### 3. Labor: Works Councils + Sectoral Bargaining

| Proposal | Mechanism |
|----------|-----------|
| **Works councils** | Formal worker representation within companies; not traditional unions |
| **Board representation** | Workers elect representatives to corporate boards |
| **Sectoral bargaining** | Industry-wide negotiations; reduce firm-by-firm conflict |
| **Portable benefits** | State/local partnerships with labor organizations to administer benefits |
| **Political activity ban** | Unions receiving mandatory dues or government funds cannot do partisan politics |

**Rationale:** Workers need power, but traditional unions are politically captured. Create new forms of worker organization.

**Controversy:** The political activity ban is criticized as union-busting in disguise.

### 4. Family: Cash Benefits for Working Families

| Proposal | Mechanism |
|----------|-----------|
| **Family Income Supplemental Credit (FISC)** | Monthly payments to wage-earning families with children |
| **$800/month** | During pregnancy (from 5th month) |
| **$400/month** | Birth to age 6 |
| **$250/month** | Ages 6-18 |
| **20% marriage bonus** | Higher payment for legally married couples |
| **Work requirement** | Only for wage-earning families |

**Rationale:** Support families who are working and raising children. Not welfare — earned benefit.

### 5. Education: Workforce Training Grant

| Proposal | Mechanism |
|----------|-----------|
| **$10,000/year per trainee** | Grant to employers for on-the-job training |
| **State matching** | Federal provides half; states match |
| **Alternative to college subsidy** | Redirect public investment from universities to employers |
| **Vocational pathways** | Break the "all roads lead to college" model |

**Rationale:** The US is the only developed country without significant vocational education. Employers train better than colleges for many careers.

### 6. Finance: Transaction Tax + Anti-Financialization

| Proposal | Mechanism |
|----------|-----------|
| **Financial transaction tax** | Reduce speculative trading; generate revenue |
| **Debt penalty** | Tax structures that discourage overleveraging |
| **Private equity scrutiny** | Challenge the claim that PE creates value |
| **Antitrust enforcement** | Aggressive action against concentration |

**Rationale:** Finance has metastasized, claiming disproportionate share of talent and profits while actual investment declines.

---

## The Theoretical Framework

### Core Distinctions

| Their Term | Meaning | Opposite |
|------------|---------|----------|
| **Productive markets** | Markets channeled toward national prosperity | Markets as end in themselves |
| **Supportive communities** | Institutions that enable human flourishing | Atomized individuals |
| **Responsive politics** | Measure success by outcomes people value | Measure by GDP/growth |
| **Earned prosperity** | Rewards tied to work and contribution | Redistribution |
| **National interest** | Economy serves the nation | Cosmopolitan efficiency |

### The American System Connection

They explicitly claim the Hamilton-Clay-Lincoln tradition:

| Historical | American Compass Equivalent |
|------------|----------------------------|
| Protective tariffs | Global tariff + local content |
| National bank | Development bank / finance corporation |
| Internal improvements | Infrastructure investment (less emphasized) |
| Infant industry protection | Industrial policy for strategic sectors |
| National productive capacity | Manufacturing-first economics |

### What's Missing from Pure American System

| Gap | Observation |
|-----|-------------|
| **Infrastructure** | Less emphasis than historical American System |
| **Land policy** | No equivalent (frontier exhausted) |
| **Institutional founding** | Policy proposals, not new institutions |
| **Personnel pipeline** | No mechanism for training developmentalists |

---

## Institutional Analysis

### Using Institutionalization Elements Framework

| Element | American Compass Status |
|---------|------------------------|
| **Vision** | Clear: restore manufacturing, support workers and families, national interest |
| **Theory** | Developed: "Rebuilding American Capitalism" handbook, numerous essays |
| **Structure** | Think tank (501c3); no institutions beyond advocacy |
| **Coalition** | Forming: manufacturing interests, some labor, national conservatives, Trump/Vance orbit |
| **Reproduction** | Weak: no training programs, no personnel pipeline beyond DC policy world |

### What They Are

- **Think tank** — produces ideas, papers, policy proposals
- **Advisory board** — includes Robert Lighthizer, Jeff Sessions
- **Project 2025 participant** — contributed to Heritage Foundation project
- **Network hub** — convenes senators (Cotton, Rubio, Vance, Young)

### What They Are Not

- Not a mass movement
- Not creating institutions (beyond themselves)
- Not training operators
- Not building outside DC policy world

---

## Political Positioning

### Allies

| Actor | Relationship |
|-------|--------------|
| **JD Vance** | Vice President; drew directly from Cass's work; podcast guest |
| **Marco Rubio** | Senator; contributor to "New Conservatives"; speaks at events |
| **Robert Lighthizer** | Trump's USTR; advisory board member |
| **Tom Cotton** | Senator; participates in events |
| **Todd Young** | Senator; participates in events |
| **Heritage Foundation** | Project 2025 collaboration |
| **American Affairs Journal** | Intellectual ally; overlapping network |

### Critics

| Source | Critique |
|--------|----------|
| **Cato Institute** | "Low quality scholarship"; attacks free-market principles |
| **National Taxpayers Union** | "Would wreck American capitalism" |
| **Capital Research Center** | "Blunders left"; adopting European social democracy |
| **RealClearMarkets** | "Childishly attacks private equity" |
| **Left critics (CPUSA, People's World)** | "Pro-worker disguise" for MAGA; union-busting via political activity ban |

### The Political Tension

American Compass occupies contested ground:
- **Too interventionist** for libertarian/free-market right
- **Too conservative** for progressive labor (work requirements, political activity ban, marriage bonus)
- **Aligned with Trump orbit** — draws both support and suspicion

---

## Assessment

### What American Compass Does Well

1. **Theory production** — Articulates a coherent alternative to free-market orthodoxy
2. **Historical grounding** — Connects to American System tradition (Hamilton, Clay, Lincoln)
3. **Specific proposals** — Not just critique; actual policy mechanisms
4. **Political translation** — Makes developmental nationalism palatable to conservatives
5. **Elite access** — Connected to senators, potential appointees, Project 2025

### What American Compass Does Not Do

1. **Institution building** — Produces papers, not standing institutions
2. **Personnel development** — No training programs for developmentalist operators
3. **Popular mobilization** — Elite-focused; no mass movement
4. **Implementation** — Proposes policy; doesn't build capacity to execute
5. **State-level work** — DC-focused; not engaging state experimentation

### The Gap

American Compass fills the **theory** and **coalition** elements of institutionalization but not **structure** or **reproduction**.

| Element | AC Contribution |
|---------|-----------------|
| Vision | ✓ Clear articulation |
| Theory | ✓ "Rebuilding American Capitalism" |
| Structure | ✗ No new institutions proposed |
| Coalition | ✓ Building elite network |
| Reproduction | ✗ No personnel pipeline |

---

## Strategic Categories

### Actors

| Entity | Role | Notes |
|--------|------|-------|
| **Oren Cass** | Founder, chief economist | Former Romney advisor; public intellectual |
| **Advisory board** | Legitimation, network | Lighthizer, Sessions, policy experts |
| **Senator network** | Political access | Vance, Rubio, Cotton, Young |
| **American Affairs** | Intellectual ally | Julius Krein; overlapping concerns |
| **Heritage Foundation** | Coalition partner | Project 2025 collaboration |

### Structures

| Structure | Function |
|-----------|----------|
| American Compass (org) | Theory production, policy development |
| "Rebuilding American Capitalism" | Policy handbook |
| Podcast | Dissemination, elite engagement |
| Capitol Hill events | Political networking |
| Project 2025 | Implementation pathway |

### Instruments

| Instrument | Purpose | Status |
|------------|---------|--------|
| Global tariff proposal | Trade rebalancing | Proposed; partially implemented under Trump |
| Development bank concept | Industrial finance | Proposed; not yet legislated |
| FISC (family credit) | Family support | Proposed; not yet legislated |
| Workforce Training Grant | Education reform | Proposed; not yet legislated |
| Works councils concept | Labor reform | Proposed; controversial |

### Dynamics

| Dynamic | Direction | Implication |
|---------|-----------|-------------|
| Trump/Vance alignment | Strengthening | Political access; implementation possible |
| Free-market conservative backlash | Intensifying | Internal GOP conflict |
| Left suspicion | Stable | Limits cross-partisan coalition |
| Industrial policy momentum | Growing | CHIPS Act, IRA normalize intervention |
| Credential reform interest | Growing | Workforce Training Grant may gain traction |

### Openings

| Opening | Nature | Assessment |
|---------|--------|------------|
| Vance as VP | Direct access to executive | High potential; depends on Trump admin priorities |
| Project 2025 | Implementation vehicle | High potential; also high controversy |
| State-level experimentation | Workforce training, industrial policy | Under-exploited by AC |
| Popular translation | Etymon-style content | AC doesn't do this; gap for others |
| Institution founding | Build what AC proposes | AC proposes but doesn't build |

---

## Operational Understanding

### What They're Actually Doing

1. **Producing theory** — Essays, handbook, policy papers
2. **Building elite consensus** — Convening senators, advising campaigns
3. **Shifting Overton window** — Making protectionism, industrial policy, worker power speakable on the right
4. **Providing policy cover** — Giving conservative politicians "conservative" framing for interventionist policies
5. **Preparing for implementation** — Project 2025 participation; Trump admin positioning

### What They're Not Doing

1. **Building institutions** — No development bank, no training programs, no new structures
2. **Popular education** — Elite papers, not accessible content
3. **State-level engagement** — DC-focused
4. **Personnel development** — No training for operators
5. **Manufacturing actual policy** — Proposing, not implementing

### The Limitation

American Compass is **theory production for elite consumption**. It shifts what's thinkable for policymakers but doesn't:
- Build the institutions it proposes
- Train the people to run them
- Create popular support for them
- Engage beyond DC

This is the **think tank limitation**: papers are not institutions.

---

## For Action

### What American Compass Enables

- **Legitimation** — Their work makes developmental nationalism respectable for conservatives
- **Policy specificity** — Their proposals are concrete enough to implement
- **Elite access** — Their network includes people who might implement
- **Historical grounding** — Their American System framing provides precedent

### What Remains to Be Done (that AC doesn't do)

| Gap | Who Could Fill |
|-----|----------------|
| **Popular translation** | Etymon channel; accessible content |
| **Institution founding** | Actually build the development bank, training programs |
| **State-level work** | Engage Texas, Ohio, etc. where policy is happening |
| **Personnel development** | Train developmentalist operators |
| **Network beyond DC** | Build support in manufacturing regions |

### Alignment Assessment

| Your Concern | AC Position | Alignment |
|--------------|-------------|-----------|
| American System recovery | Explicit embrace | High |
| Oikonomia/chrematistics | Implicit (national interest vs. growth) | Moderate |
| Philological recovery | Not addressed | Gap — you do this |
| Institutional founding | Proposes but doesn't build | Gap — you could extend |
| Popular translation | Not their mode | Gap — Etymon channel |

---

## Composition

**Upstream (what informed this recon):**
- [Recon Method](../framework/recon-method.md) — method used
- [American Compass source doc](src-american-compass.md) — prior capture
- [Institutions Recon](inst-recon-institutions-post-globalist.md) — broader context

**Downstream (what this recon enables):**
- Assessment of what to amplify from AC
- Identification of gaps to fill
- Strategic positioning relative to AC network
- Etymon content that complements AC theory

---

## Sources

- [American Compass - About](https://americancompass.org/about/)
- [American Compass - Industrial Policy](https://americancompass.org/should-the-u-s-adopt-an-industrial-policy/)
- [American Compass - Financialization](https://americancompass.org/financialization/)
- [American Compass - Workforce Training Grant](https://americancompass.org/the-workforce-training-grant/)
- [Rebuilding American Capitalism (PDF)](https://americancompass.org/wp-content/uploads/2023/06/AC-Rebuilding-American-Capitalism_Digital.pdf)
- [InfluenceWatch - American Compass](https://www.influencewatch.org/non-profit/american-compass/)
- [Wikipedia - Oren Cass](https://en.wikipedia.org/wiki/Oren_Cass)
- [New Labor Forum - Building a Conservative Labor Movement](https://newlaborforum.cuny.edu/2025/09/15/building-a-conservative-labor-movement-american-compass-and-the-rights-pro-worker-policy-agenda/)`,
  },
  {
    id: 'inst-recon-institutions-post-globalist',
    title: 'Recon: Institutions and Post-Globalist American Development',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-recon-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['recon', 'institutions', 'american-system', 'post-globalist', 'developmental', 'arrangement', 'oikonomia'],
    content: `# Recon: Institutions and Post-Globalist American Development

**Date initiated:** 2025-01-09
**Domain:** How to think about institutions; what elements constitute institutionalization; American institutional reality now; where to develop post-globalist American institutions
**Intent:** Prepare for strategic action in recovering/building American institutions after the globalist arrangement
**Scope:**
- Included: theory of institutions, institutionalization requirements, American System history, current institutional decay, actionable development sites
- Excluded: detailed policy proposals, electoral strategy, non-American contexts (except for contrast)

---

## The Question Decomposed

The recon request contains four interlocking questions:

| Question | Type | Discipline |
|----------|------|------------|
| **How to think about institutions** | Theoretical | Conceptual/philological |
| **What elements institutionalize** | Structural | Genealogical/structural |
| **American institutional reality now** | Diagnostic | Network/structural |
| **Where to develop post-globalist** | Strategic | All — synthesis |

---

## Collection Plan

### Disciplines Selected

| Discipline | Sources | Instrument | Status |
|------------|---------|------------|--------|
| **Philological** | Institution, arrangement, oikos | Etymon | Pending — excavation needed |
| **Genealogical** | American System history (Hamilton→Clay→Lincoln→dissolution) | Source capture | **Partial** — Hamilton, List, Polanyi exist |
| **Structural** | Current institutional arrangements (Fed, Treasury, think tanks) | Survey/mapping | **Partial** — globalist mapping exists |
| **Doctrinal** | Founding documents, policy statements, think tank output | Source capture | Pending — more sources needed |
| **Network** | Personnel, funding, revolving doors | Network mapping | **Partial** — CFR/Trilateral mapped |

### Products Already Generated (from Discovery)

| Product | ID | Type | Status | Relevance |
|---------|-----|------|--------|-----------|
| American System AS National Arrangement | inst-american-system | instance | completed | **Core** — the arrangement to recover |
| American System VERSUS Globalist | inst-american-system-versus-globalist | instance | completed | **Core** — diagnostic contrast |
| Hamilton Report on Manufactures | src-hamilton-report-manufactures | source | incubating | **Core** — origin of American System |
| List National System | src-list-national-system | source | incubating | **Core** — theory of developmental nationalism |
| Polanyi Great Transformation | src-polanyi-great-transformation | source | incubating | **Core** — embeddedness framework |
| Excavation: WEALTH | inst-excavate-wealth | instance | completed | Relevant — wealth as wela (well-being) |
| Excavation: INSTITUTION | inst-excavate-institution | instance | completed | **Core** — "to cause to stand" |
| Excavation: ARRANGEMENT | inst-excavate-arrangement | instance | completed | **Core** — "battle order, purposive disposition" |
| Excavation: DEBT | inst-excavate-debt | instance | completed | Relevant — debt dynamics |
| Scope: Political Economy Study | inst-scope-political-economy-study | instance | completed | Related framing |
| American Compass / New Conservatives | src-american-compass | source | incubating | **Core** — contemporary developmentalist theory |

### Gaps (collection needed)

- [x] **Philological**: Excavation of "INSTITUTION" — recover buried semantic ✓
- [x] **Philological**: Excavation of "ARRANGEMENT" — clarify oikonomic sense ✓
- [ ] **Genealogical**: How American System institutions were built (1791-1900)
- [ ] **Genealogical**: How they were dissolved (1913-1971)
- [ ] **Structural**: Current American institutional landscape (post-2008, post-2020)
- [x] **Doctrinal**: Contemporary developmentalist policy (American Compass, etc.) ✓
- [ ] **Network**: Who is building counter-institutions now?
- [ ] **Structural**: State-level industrial policies (Texas, Ohio, etc.)

---

## Part I: How to Think About Institutions

### The Problem with "Institution"

The word "institution" has become nearly meaningless through overuse. Everything is an institution: the Fed, marriage, the handshake. To think clearly about institutions, we need to **excavate** the concept.

**Preliminary semantic archaeology:**

| Layer | Meaning | Example |
|-------|---------|---------|
| **Latin: instituere** | "to set up, establish, found" | From *in-* + *statuere* (to cause to stand) |
| **Original sense** | Something deliberately established; made to stand | A foundation that persists |
| **Extended sense** | A custom or practice that has become established | Social habits with persistence |
| **Degraded sense** | Any organization; any persistent pattern | Everything is an "institution" |

**Recovery needed:** Institution as something **deliberately founded** that **stands** across time, transmitting **form** to successive instantiations.

### The Oikonomic Frame: Institution as Household Organ

From \`fw-oikonomia-chrematistics\`:

An **oikonomic institution** is an organ of the household — it exists to serve the flourishing of the oikos (the bounded community it belongs to). It has:
- **Telos** — purpose beyond its own perpetuation
- **Limit** — knows what "enough" means
- **Accountability** — answers to the household

A **chrematistic institution** serves unbounded accumulation:
- No telos beyond growth/power
- No limit principle
- Accountable only to itself or to capital

| Question | Oikonomic Institution | Chrematistic Institution |
|----------|----------------------|-------------------------|
| What is it for? | Service to household flourishing | Self-perpetuation, accumulation |
| When has it succeeded? | When the household flourishes | Never — always needs more |
| Who does it answer to? | The household (nation, community) | Capital, its own elite, "stakeholders" |

**Thesis:** To think about institutions properly is to ask: **What household does this serve? What is its telos? What counts as enough?**

### The Polanyian Frame: Embedded vs. Disembedded Institutions

From \`src-polanyi-great-transformation\`:

**Embedded institutions** are subordinate to social relations — they operate within bounds set by the community. The economy serves society.

**Disembedded institutions** treat social relations as subordinate to economic logic. Society must adapt to the economy.

The **globalist arrangement** features disembedded institutions par excellence:
- Central banks "independent" from democratic accountability
- Trade rules that override national legislation
- Financial markets that discipline governments

**Post-globalist development** requires **re-embedding** — subjecting economic institutions to social and national purpose.

### The Listian Frame: Productive Powers and National Development

From \`src-list-national-system\`:

Institutions are **investments in productive powers** — the capacity to produce, not just the products. Institutions that build productive powers (skills, knowledge, coordination capacity) compound over time. Those that merely extract exchange values do not.

| Institution Type | Effect on Productive Powers | Example |
|-----------------|---------------------------|---------|
| **Developmental** | Builds capacity that compounds | Land-grant universities, industrial banks |
| **Extractive** | Transfers wealth without building capacity | Payday lenders, private equity stripping |
| **Neutral** | Neither builds nor destroys | Most routine administration |

**Thesis:** Institutions should be evaluated by whether they **build productive powers** — including the capacity to maintain and improve institutions themselves.

### Synthesis: What Is an Institution?

An **institution** is:
1. **Deliberately established** — not merely emergent; someone stood it up
2. **Persistent** — transmits form across time and personnel changes
3. **Purposive** — exists for something beyond itself (telos)
4. **Embedded** — operates within a household (nation, community) it serves
5. **Capacity-building** — ideally, builds productive powers that compound

**Diagnostic questions for any institution:**
- Who established it? For what purpose?
- What household does it serve?
- What counts as success? As enough?
- Does it build productive powers or extract exchange values?
- Is it embedded in society or does it demand society adapt to it?

---

## Part II: What Elements Institutionalize

### The Requirements for Institutionalization

From the American System historical experience and List/Hamilton theory:

| Element | Function | American System Example |
|---------|----------|------------------------|
| **Founding vision** | Articulates purpose, establishes telos | Hamilton's Reports (1790-1791) |
| **Legitimating theory** | Justifies the arrangement to those who must support it | List's National System (1841) |
| **Legal foundation** | Creates the institution in law | National Banking Acts (1863-64) |
| **Implementing organization** | Personnel, buildings, operations | Treasury Department, Bank of the United States |
| **Political coalition** | Defends the institution against opponents | Whigs, then Republicans |
| **Material base** | Funding, resources, infrastructure | Tariff revenues, land grants |
| **Personnel pipeline** | Trains and recruits successors | West Point, land-grant universities |
| **Transmission mechanism** | Carries the vision across generations | Party platforms, textbooks, institutional culture |

### The Five Elements of Institutionalization

#### 1. Vision (Telos)

Every institution begins with someone who can see what ought to exist. Hamilton saw an industrial America independent of Britain. Without vision, you have bureaucracy but not institution.

**Requirements:**
- Articulated purpose that transcends individual interest
- Long time horizon (generational, not electoral)
- Realistic assessment of current conditions
- Path from present to vision

#### 2. Theory (Legitimation)

The vision must be explicable — why this institution? Why now? Why this design? Theory converts vision into transferable understanding.

**Requirements:**
- Explains why the institution is necessary
- Addresses objections (Hamilton's Report does this systematically)
- Provides principles, not just rules (enables adaptation)
- Links particular institution to general good

#### 3. Structure (Organization)

The institution must have form — legal existence, physical presence, defined roles, procedures that persist across personnel.

**Requirements:**
- Legal foundation (charter, statute, constitutional authority)
- Clear jurisdiction (what is this institution responsible for?)
- Internal organization (hierarchy, roles, procedures)
- Relationship to other institutions (where in the structure of governance?)

#### 4. Coalition (Politics)

No institution survives without defenders. The American System was killed repeatedly (First Bank charter expiration, Jackson's Bank War) until a coalition strong enough to defend it emerged (Republicans).

**Requirements:**
- Interests that benefit from the institution
- Ideology that justifies support
- Organization that mobilizes support
- Leadership that can navigate opposition

#### 5. Reproduction (Transmission)

Institutions die if they cannot reproduce themselves — train successors, transmit knowledge, maintain culture across generations.

**Requirements:**
- Personnel pipeline (how do you get people who can operate this institution?)
- Knowledge transmission (how do you train them?)
- Cultural transmission (how do you instill the purpose, not just the procedures?)
- Adaptation mechanism (how does the institution learn and change without losing identity?)

### The Vulnerability Diagram

\`\`\`
┌─────────────────────────────────────────────────────────────┐
│                 INSTITUTIONALIZATION CHAIN                  │
│                                                             │
│   Vision → Theory → Structure → Coalition → Reproduction   │
│     ↓         ↓         ↓          ↓            ↓         │
│   ┌───┐     ┌───┐     ┌───┐      ┌───┐        ┌───┐       │
│   │ V │     │ T │     │ S │      │ C │        │ R │       │
│   └───┘     └───┘     └───┘      └───┘        └───┘       │
│     │         │         │          │            │         │
│     └─────────┴─────────┴──────────┴────────────┘         │
│                         │                                  │
│               Each link is an attack surface               │
│                                                             │
│   Attack V: Discredit the vision (outdated, naive)         │
│   Attack T: Undermine the theory (it doesn't work)         │
│   Attack S: Capture or dismantle the structure             │
│   Attack C: Fracture the coalition (divide and conquer)    │
│   Attack R: Disrupt reproduction (personnel, training)     │
└─────────────────────────────────────────────────────────────┘
\`\`\`

The American System was attacked at every point:
- **Vision**: "Protection is outdated" (after it succeeded)
- **Theory**: "Free trade is scientifically superior" (cosmopolitan economics)
- **Structure**: Jackson killed the Bank; Wilson created the Fed
- **Coalition**: Sectional conflict, then bipartisan consensus for globalization
- **Reproduction**: Economics profession captured by cosmopolitan theory

---

## Part III: American Institutional Reality Now

### The Current Arrangement

From \`inst-american-system-versus-globalist\`:

The **globalist arrangement** replaced the American System:

| Dimension | American System (1791-1945) | Globalist Arrangement (1944-present) |
|-----------|---------------------------|-------------------------------------|
| Unit | Nation | Global economy |
| Telos | National productive capacity | Growth, returns, "development" |
| Legitimation | Hamilton/List developmental nationalism | Smith/cosmopolitan economics |
| Key institutions | Treasury, Bank of US, Corps of Engineers | Fed, IMF, WTO, CFR, WEF |
| Accountability | Congress, President | Central bank "independence," treaty regimes |

### Current Institutional Architecture

#### Financial Core

\`\`\`
                        ┌─────────────────────────┐
                        │   BIS (Basel)           │
                        │   "Central bank of      │
                        │    central banks"       │
                        └───────────┬─────────────┘
                                    │
              ┌─────────────────────┼─────────────────────┐
              ▼                     ▼                     ▼
      ┌───────────────┐     ┌───────────────┐     ┌───────────────┐
      │ Federal Reserve│     │ ECB           │     │ Other CBs     │
      │ "Independent"  │     │ "Independent" │     │ (63 members)  │
      └───────────────┘     └───────────────┘     └───────────────┘
\`\`\`

**Analysis:**
- Fed is "independent" — meaning unaccountable to democratic politics
- BIS coordinates central banks outside any national authority
- Basel rules constrain national banking policy
- This is **disembedded** by design

#### Ideological Layer

\`\`\`
┌─────────────────────────────────────────────────────────────────┐
│                      CONSENSUS PRODUCTION                        │
│                                                                 │
│   Forums: WEF (Davos), Trilateral, Bilderberg                   │
│           ↓                                                     │
│   Think Tanks: CFR, Brookings, CSIS, Atlantic Council           │
│           ↓                                                     │
│   Media: Boards overlap with think tanks/forums                 │
│           ↓                                                     │
│   Academia: Funded research, recruited experts                   │
│           ↓                                                     │
│   Government: Revolving door with all above                      │
└─────────────────────────────────────────────────────────────────┘
\`\`\`

**Analysis:**
- Bipartisan consensus on free trade, central bank independence, intervention
- Personnel rotate through all nodes
- Policy alternatives are defined out of "serious" discourse
- This is what List called "cosmopolitan economics" as ideology

### What Remains of American System Institutions

| Institution | Origin | Current Status |
|-------------|--------|----------------|
| Treasury Department | 1789 | Exists, but subordinate to Fed on monetary policy |
| Army Corps of Engineers | 1802 | Continues infrastructure work, diminished scope |
| Land-grant universities | 1862 | Exist, but captured by credentialism and research priorities |
| Patent system | 1790 | Exists, but increasingly gamed by finance |
| National banking | 1863 | Replaced by Federal Reserve (1913) |
| Tariff system | 1789 | Dismantled by GATT/WTO; some revival under Trump |

### Institutional Decay Symptoms

| Symptom | Indicator | Diagnosis |
|---------|-----------|-----------|
| **Telos confusion** | Institutions don't know what they're for | Vision lost |
| **Regulatory capture** | Regulators serve the regulated | Structure corrupted |
| **Revolving door** | Personnel circulate between regulator and regulated | Coalition capture |
| **Credential inflation** | More education required for same roles | Reproduction broken |
| **Deindustrialization** | Manufacturing capacity hollowed out | Productive powers declining |
| **Financialization** | Everything becomes a financial asset | Chrematistic domination |
| **Trust collapse** | Citizens don't believe institutions work for them | Legitimation crisis |

### The Double Deficit

The American institutional reality is characterized by two deficits:

**1. Capacity Deficit**
- Manufacturing capacity offshored
- Infrastructure crumbling
- Supply chains vulnerable
- Technical workforce declining

**2. Legitimation Deficit**
- Institutions widely distrusted
- "Experts" discredited by failures (2008, COVID)
- Neither party trusted on economics
- Populist revolt from both left and right

This creates an **opening** — but also danger. The opening: space for a new arrangement. The danger: institutional collapse before replacement is built.

---

## Part IV: Where to Develop Post-Globalist American Institutions

### The Strategic Problem

You cannot simply "restore" the American System. Conditions differ:
- No frontier (land policy exhausted)
- Service economy dominates (manufacturing share small)
- Financial system vastly more complex
- International integration much deeper
- Existing globalist institutions actively oppose

You must **build new while reforming old** — create institutions for 21st century American development while dismantling or repurposing globalist capture.

### Sites of Development

#### A. Within Existing State

| Site | Opportunity | Constraint |
|------|-------------|------------|
| **Treasury** | Already exists; has capacity | Subordinate to Fed; cosmopolitan orientation |
| **Commerce** | Industrial policy home | Captured by export interests |
| **Defense** | Has production concerns; CHIPS Act | Military-industrial complex concerns |
| **Agriculture** | Rural development capacity | Farm lobby capture |
| **State governments** | Industrial policy happening (Texas, Ohio) | Limited resources; interstate competition |

**Near-term actions:**
- Use CHIPS Act, IRA, infrastructure law for developmental ends
- Push Treasury to prioritize domestic production
- Expand defense production priorities to strategic industries
- Support state-level industrial policy

#### B. New Institutions Needed

| Gap | Institution Needed | Function |
|-----|-------------------|----------|
| **Industrial finance** | Development bank | Long-term capital for strategic industries |
| **Human capital** | Technical education revival | Break credential capture; train for production |
| **Research direction** | Mission-driven research agencies | Beyond basic research; applied development |
| **Trade enforcement** | Real reciprocity mechanism | Beyond WTO complaint process |
| **Regional development** | Place-based agencies | Not just national policy; regional capacity |

#### C. Counter-Institutions (Civil Society)

| Type | Examples | Function |
|------|----------|----------|
| **Think tanks** | American Compass, American Affairs | Alternative theory production |
| **Education** | Trade schools, apprenticeships | Alternative credential systems |
| **Finance** | Regional banks, credit unions | Alternative to Wall Street |
| **Media** | Independent outlets | Alternative narrative production |
| **Networks** | Industry associations, civic groups | Coalition building |

### The Building Sequence

\`\`\`
┌─────────────────────────────────────────────────────────────────┐
│                    DEVELOPMENT SEQUENCE                          │
│                                                                 │
│   Phase 1: Theory Development                                    │
│   └── Articulate post-globalist vision                          │
│   └── Build legitimating theory                                  │
│   └── Identify personnel                                         │
│                                                                 │
│   Phase 2: Coalition Building                                    │
│   └── Identify shared interests (labor + capital for production)│
│   └── Build networks                                             │
│   └── Develop policy proposals                                   │
│                                                                 │
│   Phase 3: Institutional Creation                                │
│   └── Civil society institutions first (think tanks, education) │
│   └── Capture/reform existing state institutions                 │
│   └── Create new state institutions where needed                 │
│                                                                 │
│   Phase 4: Reproduction                                          │
│   └── Personnel pipelines                                        │
│   └── Training institutions                                      │
│   └── Cultural transmission                                      │
└─────────────────────────────────────────────────────────────────┘
\`\`\`

### Where to Act Now

**Highest leverage:**

1. **Theory production** — The battle is won or lost in ideas first. American Compass, American Affairs, Claremont, et al. are building the theory. Support and amplify.

2. **Technical education** — Break the credential cartel. Apprenticeships, trade schools, employer-based training. This builds productive powers directly.

3. **State-level industrial policy** — States like Texas, Ohio, Indiana are doing industrial policy. Study what works; help it spread.

4. **Defense production base** — CHIPS Act is a start. Push for broader strategic industries. This has bipartisan support and real urgency.

5. **Personnel development** — Find and train people who understand developmental nationalism. Place them in government, think tanks, universities. This is reproduction.

### What Not to Do

| Mistake | Why It Fails |
|---------|-------------|
| **Nostalgia** | You cannot restore 1890; conditions differ |
| **Autarky** | Total self-sufficiency is neither possible nor desirable |
| **Anti-finance** | Finance is necessary; the question is whether it serves production |
| **Anti-trade** | Trade is fine; the question is terms and reciprocity |
| **Revolution** | Institutional building is slow; shortcuts lead to tyranny |
| **Perfectionism** | Start with what you can do; iterate |

---

## Strategic Categories

### Actors

| Entity | Role | Position |
|--------|------|----------|
| **American Compass** | Think tank | Building developmental theory |
| **American Affairs** | Journal | Intellectual home for national conservatism |
| **Claremont Institute** | Think tank | Constitutional recovery |
| **State governments** | Policy laboratories | Already doing industrial policy |
| **Industrialists** | Economic interests | Some aligned (reshoring); some opposed |
| **Labor** | Economic interests | Potential ally on production; varies by union |
| **Republican reformers** | Political actors | Emerging developmentalist wing |
| **Democratic industrialists** | Political actors | Infrastructure/manufacturing focus |
| **Globalist institutions** | Opposition | CFR, WEF, Fed, WTO |

### Structures

| Structure | Function | Opportunity |
|-----------|----------|-------------|
| **Federal Reserve** | Monetary policy | Reform to include production mandate |
| **Treasury** | Fiscal/financial policy | Strengthen vis-a-vis Fed |
| **Commerce** | Industrial policy | Rebuild as developmental agency |
| **State industrial agencies** | Regional development | Support and learn from |
| **Land-grant universities** | Technical education | Refocus on productive education |
| **Community colleges** | Workforce development | Expand technical programs |

### Dynamics

| Dynamic | Direction | Implications |
|---------|-----------|--------------|
| **Globalization retrenchment** | Accelerating | Creates space for developmental policy |
| **Great power competition** | Intensifying | Increases urgency for industrial capacity |
| **Trust in institutions** | Declining | Opens space for new institutions but also danger of collapse |
| **Credential inflation** | Continuing | Must break or route around |
| **Financialization** | Continuing | Active resistance required |
| **Reshoring discourse** | Growing | Opportunity to connect to developmental tradition |

### Positions

| Position | Characteristics | Accessibility |
|----------|-----------------|---------------|
| **Think tank intellectual** | Theory production; network building | Requires resources; some openings |
| **State-level policy** | Immediate impact; less captured | Easier entry than federal |
| **Technical educator** | Direct capacity building | Many institutions, varied quality |
| **Industrial manager** | Production decisions | Requires private sector position |
| **Federal policy** | Highest impact; most captured | Difficult without coalition |

### Instruments

| Instrument | Purpose | Availability |
|------------|---------|--------------|
| **Tariffs** | Protect infant industries | Politically available; contested |
| **Subsidies** | Direct production support | CHIPS Act, IRA as precedent |
| **Procurement** | Buy American | Exists; enforce more aggressively |
| **Tax policy** | Shape incentives | Available but complex |
| **Regulation** | Shape behavior | Available; capture risk |
| **Education funding** | Direct human capital | State and federal tools exist |

### Openings

| Opening | Nature | Risk/Reward |
|---------|--------|-------------|
| **CHIPS Act momentum** | Industrial policy legitimated | High reward if extended; capture risk |
| **Reshoring pressure** | Supply chain concerns | High reward if sustained; could fade |
| **Bipartisan infrastructure** | Common ground on building | Medium reward; low political risk |
| **State experimentation** | Lab for policies | Low risk; learning opportunities |
| **Great power framing** | Urgency for capacity | High reward; militarization risk |
| **Trust vacuum** | Space for new institutions | High risk/reward; could go wrong |

---

## Coverage Assessment

| Discipline | Coverage | Products |
|------------|----------|----------|
| **Philological** | 60% | WEALTH, INSTITUTION, ARRANGEMENT, DEBT excavations complete |
| **Genealogical** | 60% | Hamilton, List, Polanyi sources; American System instance |
| **Structural** | 50% | Globalist architecture mapped; current American needs detail |
| **Network** | 30% | CFR/Trilateral mapped; current actors need more |
| **Doctrinal** | 60% | Founding documents + American Compass/American Affairs source |

**Overall legibility:** 60% — Adequate for initial orientation and beginning action. The historical context (American System, its dissolution, globalist replacement) is well-mapped. Current conditions and actionable opportunities need more detail.

**Adequate for action?** Partially. Can begin with:
- Theory support (amplify existing work)
- Technical education (immediate opportunities)
- State-level engagement (learn what works)

Further collection needed for:
- Specific federal institutional reform plans
- Detailed network mapping of current actors
- Assessment of what's working at state level

---

## Next Actions

### Immediate Collection

1. **Excavate INSTITUTION** — Recover buried semantic to sharpen diagnostic
2. **Survey current American Compass/American Affairs output** — What theory exists?
3. **Map state industrial policies** — What's Texas, Ohio, etc. actually doing?

### Processing Needed

4. **Taxonomy of institution types** — What categories matter for post-globalist development?
5. **Timeline of American System dissolution** — When exactly did each pillar fall?

### Analysis Needed

6. **Assessment: What's the limiting constraint?** — Personnel? Theory? Coalition? Resources?
7. **Prioritization: What to do first** — Sequence the building work

---

## Composition

**Upstream (what informed this campaign):**
- [Recon Method](../framework/recon-method.md) — method used
- [American System](inst-american-system.md) — the arrangement to recover
- [American System VERSUS Globalist](inst-american-system-versus-globalist.md) — diagnostic contrast
- [Hamilton Report on Manufactures](../source/hamilton-report-manufactures.md) — origin source
- [List National System](../source/list-national-system.md) — theoretical source
- [Polanyi Great Transformation](../source/polanyi-great-transformation.md) — embeddedness framework

**Downstream (what this campaign enables):**
- Strategic planning for institutional development
- Identification of research priorities
- Framework for evaluating opportunities
- Etymon video series on institutions and development

**Products to generate:**
- Excavation of INSTITUTION
- Survey of state industrial policies
- Scope of technical education alternatives
- Synthesis of developmental nationalist theory

---

## Summary

**How to think about institutions:**
Institutions are deliberately established, persistent, purposive organs that serve a household (nation, community). Ask: What is the telos? Who does it serve? What counts as enough? Is it embedded or disembedded? Does it build productive powers?

**What elements institutionalize:**
Five elements — Vision (telos), Theory (legitimation), Structure (organization), Coalition (politics), Reproduction (transmission). All five must be present; each is an attack surface.

**American institutional reality now:**
The American System has been replaced by the globalist arrangement — disembedded institutions serving capital rather than national development. Fed "independence" from democracy, trade rules overriding national policy, think tank/media/government revolving door producing bipartisan consensus against developmental nationalism. Capacity deficit (deindustrialization) and legitimation deficit (distrust) create both opening and danger.

**Where to develop post-globalist:**
Theory production (support existing think tanks), technical education (break credential cartel), state-level experimentation (learn what works), defense production extension (use existing momentum), personnel development (train people who understand developmental nationalism). Build in sequence: theory → coalition → institutions → reproduction. Avoid nostalgia, autarky, anti-finance, anti-trade, revolution, perfectionism.

---

## Sources

### Primary (in loomlib)
- Hamilton, Report on Manufactures (1791) — \`src-hamilton-report-manufactures\`
- List, National System of Political Economy (1841) — \`src-list-national-system\`
- Polanyi, Great Transformation (1944) — \`src-polanyi-great-transformation\`

### Related Instances (in loomlib)
- American System AS National Arrangement — \`inst-american-system\`
- American System VERSUS Globalist Arrangement — \`inst-american-system-versus-globalist\`
- Excavation: WEALTH — \`inst-excavate-wealth\`
- Scope: Political Economy Study — \`inst-scope-political-economy-study\`

### External
- [American Compass](https://americancompass.org/)
- [American Affairs Journal](https://americanaffairsjournal.org/)
- [BIS - About](https://www.bis.org/about/index.htm)
- [CFR - About](https://www.cfr.org/)
- [Chang, Ha-Joon. Kicking Away the Ladder (2002)](https://www.amazon.com/Kicking-Away-Ladder-Development-Perspective/dp/1843310279)`,
  },
  {
    id: 'inst-recon-loomlib-commercialization',
    title: 'Recon: Loomlib Commercialization Viability',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-recon-method', 'fw-oikonomia-chrematistics'],
    source_id: null,
    output: 'loomcommander',
    status: 'incubating',
    tags: ['commercialization', 'product-market', 'data-model', 'business-strategy', 'loomlib'],
    content: `# Recon: Loomlib Commercialization Viability

**Domain:** Commercialization of personal knowledge graph software
**Question:** Is there a viable path to commercialize loomlib? What changes for different markets?

---

## I. Domain Declaration

Reconning the viability of turning loomlib — currently a personal knowledge production system — into a commercial product. This requires understanding:

1. What loomlib actually is (vs. what it could be)
2. What markets exist for knowledge tools
3. What each market demands (data model, features, pricing)
4. Where the Warrior gap (sales, shipping) creates friction

---

## II. Collection Disciplines Applied

| Discipline | Sources | Deployed |\\n|------------|---------|----------|\\n| **Structural** | Loomlib codebase, architecture | inst-survey-loomlib (completed) |\\n| **Doctrinal** | Knowledge tool market analysis | This document |\\n| **Phenomenological** | Personal use experience | Implicit in design |\\n| **Network** | Competitors, adjacents | This document |\\n| **Genealogical** | How loomlib became what it is | inst-recon-loomlib-system-evaluation |\\n\\n---

## III. The Honest Assessment

### What Loomlib Actually Is

From \`inst-survey-loomlib\`:

\`\`\`
loomlib/docs/*.md  --[generate-seed.ts]--> src/data/seed-data.ts
                                                |
                                      [IndexedDB: loomlib]
                                                |
                              List / Constellation / Editor views
\`\`\`

**Core architecture:**
- Build-time markdown → TypeScript generation
- Browser-local IndexedDB persistence
- No server, no auth, no sync
- 5 document types with production lineage tracking
- Lens-based exploration (formula, lineage, channel, perspective)
- ~136 documents in current library

**What makes it distinctive:**
- "Conducting frontmatter" — documents know their upstream/downstream
- Production formula metaphor (source × framework → instance)
- Semantic categorization by relationship type
- Explicit status workflow (incubating → draft → verified → captured)
- AI-orchestrated document production (Claude commands)

**What's missing for commercial:**
- Multi-user / accounts
- Server-side persistence
- Sync across devices
- Search (beyond command palette filter)
- Collaboration
- Mobile experience
- Payment infrastructure

---

## IV. Market Analysis

### Potential Markets

| Market | Who | What They Need | Loomlib Fit |
|--------|-----|----------------|-------------|
| **Personal Knowledge Management** | Individual researchers, writers, thinkers | Private notes, linking, retrieval | Medium — competes with Obsidian, Notion |
| **Content Creators** | YouTubers, podcasters, writers | Research → production pipeline | High — this is what loomlib does |
| **AI-Augmented Knowledge Work** | Early adopters, builders | LLM orchestration for research | High — differentiated |
| **Enterprise Knowledge Bases** | Companies, teams | Collaboration, permissions, compliance | Low — architecture gap |
| **Academic Research** | Researchers, PhD students | Citation, archival, publishing | Medium — missing citation integration |

### Competitor Terrain

| Competitor | Strength | Weakness | Loomlib Advantage |
|------------|----------|----------|-------------------|
| **Obsidian** | Plugin ecosystem, local-first, community | Complex, no production metaphor | Simpler, production-focused |
| **Notion** | Collaboration, blocks, polish | Not local-first, generic | Opinionated workflow |
| **Roam** | Bidirectional linking pioneer | Expensive, slow, declining | Faster, focused |
| **Logseq** | Open source, local-first | Complex, no clear metaphor | Production formula clarity |
| **Mem.ai** | AI-native | VC-dependent, privacy concerns | Local-first, framework-driven |

**Gap in market:** No tool explicitly models *knowledge production* with:
- Explicit input→output tracking (conducting frontmatter)
- Framework application as first-class operation
- AI orchestration of document creation
- Status workflow tied to "shipping" not just "organizing"

---

## V. Market-Specific Data Model Changes

### Market A: Personal Knowledge Management (PKM)

**Target:** Individual researchers, writers, "tools for thought" enthusiasts

**Current fit:** ~70% — loomlib is already this, but opinionated

**Data model changes:**

| Current | Required Change | Effort |
|---------|-----------------|--------|
| 5 fixed document types | Configurable types or flexible schema | Medium |
| Mandatory frontmatter | Optional frontmatter (notes can be pure markdown) | Low |
| Production formula required | Optional production tracking | Low |
| Build-time seed generation | Pure runtime (or optional build) | Medium |

**Architecture changes:**
- Remove \`generate-seed.ts\` dependency or make optional
- Allow "unstructured" documents without full frontmatter
- Configurable document types per user
- Better markdown editor (competing with Obsidian's)

**Viability:** Medium. Competes with entrenched players. Differentiation through production workflow would be diluted if made optional.

---

### Market B: Content Creators (Video, Podcast, Writing)

**Target:** YouTubers, podcasters, newsletter writers with research-heavy workflows

**Current fit:** ~85% — this is what you built it for

**Data model changes:**

| Current | Required Change | Effort |
|---------|-----------------|--------|
| \`output: etymon \\| loomcommander\` | Configurable output channels | Low |
| Single user | Team features (for production crews) | High |
| Browser-only | Export integrations (Notion, Airtable, CMS) | Medium |
| Manual Claude orchestration | Embedded AI (API key, automated prompting) | Medium |

**Architecture changes:**
- User-defined output channels (YouTube, Substack, Podcast, etc.)
- Export to common formats (Notion API, Markdown zip, JSON)
- Embedded LLM integration (user provides API key)
- Template library for document types

**Viability:** High. Unique positioning. The "research-to-ship pipeline" story is clear. Warrior gap: you'd need to sell to creators, appear on podcasts, demonstrate workflows.

---

### Market C: AI-Augmented Knowledge Workers

**Target:** Developers, researchers, early adopters using LLMs for work

**Current fit:** ~90% — bleeding edge, where you are

**Data model changes:**

| Current | Required Change | Effort |
|---------|-----------------|--------|
| Claude-specific commands | LLM-agnostic prompting layer | Medium |
| File-based document storage | API-first document CRUD | Medium |
| Manual command invocation | Automated workflows / triggers | High |
| Single library | Workspace/project separation | Medium |

**Architecture changes:**
- REST/GraphQL API for document operations
- Plugin architecture for LLM providers
- Workflow automation (if document X created, run command Y)
- Project isolation (separate libraries per workspace)

**Viability:** High but niche. Technical users who understand the value. Could be priced premium. Less competition because the category barely exists.

---

### Market D: Enterprise / Teams

**Target:** Companies wanting internal knowledge bases

**Current fit:** ~20% — significant architecture gap

**Data model changes:**

| Current | Required Change | Effort |
|---------|-----------------|--------|
| IndexedDB (browser-local) | Server database (Postgres, etc.) | High |
| No auth | User auth, permissions, roles | High |
| No sync | Real-time collaboration | Very High |
| Single tenant | Multi-tenant architecture | Very High |
| No audit | Audit logging, compliance | Medium |

**Architecture changes:**
- Complete backend rewrite
- Auth system (likely OAuth/SSO)
- Database migration to server-side
- Permission model (document, folder, workspace levels)
- Collaboration conflict resolution

**Viability:** Low given current architecture. Would require rebuilding most of the stack. Better: position as individual tool that exports to enterprise systems.

---

### Market E: Academic Research

**Target:** PhD students, researchers, academics

**Current fit:** ~50%

**Data model changes:**

| Current | Required Change | Effort |
|---------|-----------------|--------|
| \`source_id\` reference | Full citation management (BibTeX, DOI) | Medium |
| No footnotes | Academic export formats (LaTeX, DOCX with citations) | Medium |
| \`perspective\` field | Research methodology tagging | Low |
| Single library | Project/paper separation | Medium |

**Architecture changes:**
- Citation import (Zotero, Mendeley, BibTeX)
- Academic export (formatted papers with citations)
- PDF annotation integration
- Research methodology templates

**Viability:** Medium. Competes with Zotero + Obsidian workflow. Would need to be significantly better at the research→paper pipeline.

---

## VI. Alternative Product Formulations

### Formulation 1: "Loomlib Studio" — Creator Tool

**Positioning:** "The research-to-content pipeline for serious creators"

**Target:** Content creators (Market B)

**Data model:**
- Keep current types, add configurable output channels
- Add "Project" container (e.g., one per video/article)
- Add "Asset" type for images, clips, references
- Lightweight team features (view-only sharing)

**Pricing:** $12/month individual, $29/month creator (more storage, AI features)

**What changes:**
- User-defined output channels
- Project containers
- Export integrations
- Embedded LLM with user API key
- Simple sharing (view-only links)

**Warrior requirement:** Content marketing, creator partnerships, YouTube presence

---

### Formulation 2: "Loomlib API" — Developer Platform

**Positioning:** "Knowledge graph primitives for AI applications"

**Target:** AI-augmented knowledge workers (Market C)

**Data model:**
- Expose current schema via REST/GraphQL
- Add workspace isolation
- Add webhook triggers for document events
- LLM-agnostic prompt templates

**Pricing:** Usage-based API ($0.001/document operation) + $49/month base

**What changes:**
- Full API implementation
- Webhook system
- LLM provider abstraction
- Developer documentation
- SDK (TypeScript, Python)

**Warrior requirement:** Developer marketing, documentation excellence, Discord community

---

### Formulation 3: "Loomlib Desktop" — Power User PKM

**Positioning:** "The PKM tool that thinks like a producer, not a collector"

**Target:** PKM enthusiasts (Market A) who want opinionated workflow

**Data model:**
- Keep production formula as core metaphor
- Allow "note" type to be simpler (optional frontmatter)
- Add daily notes / journal
- Plugin system for custom document types

**Pricing:** $99 one-time (Obsidian model) or $8/month

**What changes:**
- Electron wrapper for desktop
- Plugin architecture
- Simpler note-taking mode
- Daily notes
- Better markdown editor

**Warrior requirement:** PKM community presence, comparison content, tutorial videos

---

### Formulation 4: "Loomlib Core" — Open Source + Hosted

**Positioning:** "Open source knowledge production. Hosted sync optional."

**Target:** Technical users who value ownership

**Data model:**
- Current schema, documented as open standard
- Add optional sync layer (user provides storage)
- Add import/export for other PKM tools

**Pricing:** Free core + $5/month hosted sync

**What changes:**
- Open source the core
- Document the schema as specification
- Add Markdown export/import
- Optional sync to user's cloud storage

**Warrior requirement:** Open source community building, GitHub presence

---

## VII. Strategic Categories Populated

### Actors

| Actor | Role | Relevance |
|-------|------|-----------|
| **Individual creators** | Primary market | High — product fits workflow |
| **PKM enthusiasts** | Adjacent market | Medium — must differentiate from Obsidian |
| **Enterprise buyers** | Avoided market | Low — architecture doesn't fit |
| **Indie hackers / builders** | Early adopters | High — understand the value |
| **LLM/AI tool builders** | Platform customers | High — unique positioning |

### Structures

| Structure | Description |
|-----------|-------------|
| **Local-first architecture** | Strength for privacy, weakness for collaboration |
| **Build-time generation** | Unusual, limits pure-runtime use cases |
| **Conducting frontmatter** | Unique differentiator, production tracking |
| **Lens system** | Flexible exploration, learning curve |
| **Claude orchestration** | Currently tight coupling, could abstract |

### Dynamics

| Dynamic | Implication |
|---------|-------------|
| **PKM market consolidation** | Obsidian winning, Roam declining — hard to enter |
| **AI tool explosion** | New category forming — opportunity |
| **Creator economy growth** | More professional creators = more research needs |
| **Local-first resurgence** | Privacy concerns driving interest |
| **Subscription fatigue** | One-time pricing models gaining favor |

### Positions

| Position | Viability |
|----------|-----------|
| **Full-stack PKM competitor** | Low — would need to match Obsidian's ecosystem |
| **Creator workflow tool** | High — differentiated, clear value prop |
| **AI knowledge platform** | High but niche — technical market |
| **Enterprise knowledge base** | Low — architecture gap too large |
| **Open source foundation** | Medium — community building required |

### Instruments

| Instrument | Status |
|------------|--------|
| **Existing codebase** | Functional, ~2k lines TypeScript |
| **Document schema** | Well-defined, could be a standard |
| **Claude commands** | 22+ commands, proprietary orchestration |
| **Production methodology** | Unique IP, documented in frameworks |
| **Your content skills** | Can demonstrate the workflow (Etymon) |

### Openings

| Opening | How to Exploit |
|---------|----------------|
| **No "research→content" tool exists** | Position as production pipeline |
| **AI orchestration nascent** | First mover in LLM-native knowledge tools |
| **Creator tooling fragmented** | Integrated solution for research-heavy creators |
| **Obsidian lacks AI story** | Add what Obsidian can't (production + AI) |
| **Open source knowledge schemas** | Define the standard before others |

---

## VIII. Viability Assessment

### Can This Be Commercialized?

**Yes, with constraints.**

| Factor | Assessment |
|--------|------------|
| **Product-market fit** | Strong for creators and AI-native workers |
| **Technical foundation** | Solid for MVP, gaps for enterprise |
| **Competition** | Manageable in creator/AI niches |
| **Differentiation** | Clear — production formula, conducting frontmatter |
| **Pricing** | Viable at $10-50/month or $99 one-time |

### The Warrior Gap

From \`idx-user-skills\`:

> **Sales/BD:** Untested. None. Critical for BeeSafe.
> **Customer discovery:** Untested. None. Critical for BeeSafe.

This is the binding constraint. The product could work. The question is: can you sell it?

**Calibration note:** Commercialization is Warrior territory. This recon is Magician work (researching the terrain). Shipping a paid product would test the imbalance.

---

## IX. Recommendations

### Highest Viability Path

**Target Market:** Content Creators (Market B)
**Formulation:** Loomlib Studio
**Why:** Best fit between current architecture and market need. Clear value prop. Demonstrable through your own content.

### Sequence

1. **Ship Etymon Episode 1** — proves the workflow, creates marketing asset
2. **Add user-defined output channels** — minimal change, broad applicability
3. **Add project containers** — groups documents per production
4. **Add simple export** — Markdown zip, JSON
5. **Hosted version with payment** — Stripe, simple auth, cloud sync
6. **Soft launch to creator community** — small beta, iterate

### Data Model Changes for Studio Path

\`\`\`typescript
// Add to types.ts
interface Project {
  id: string;
  name: string;
  output_channel: string;  // user-defined: "youtube", "substack", etc.
  document_ids: string[];
  status: 'planning' | 'in_progress' | 'published';
  created_at: Date;
}

// Extend Document
interface Document {
  // ... existing fields
  project_id?: string;  // optional project container
}

// Add output channel configuration
interface OutputChannel {
  id: string;
  name: string;
  icon: string;
  color: string;
}
\`\`\`

### What Not to Do

| Avoid | Why |
|-------|-----|
| **Enterprise pivot** | Architecture gap too large |
| **Full PKM competition** | Obsidian has ecosystem, you don't |
| **Complex pricing** | Start simple, one tier |
| **Features before shipping** | The Magician trap |

---

## X. Open Questions

1. **Would you use a hosted version yourself?** If not, why would others?
2. **Who are 10 creators who would pay $20/month for this?** Name them. Talk to them.
3. **Can Etymon Episode 1 demonstrate the workflow?** This is the marketing.
4. **Is the Claude coupling acceptable?** Or must it be LLM-agnostic to sell?
5. **What's the Warrior test?** Selling 10 subscriptions? 100?

---

## XI. Coverage Gaps

| Discipline | Status | Gap |
|------------|--------|-----|
| Structural | Completed | — |
| Doctrinal | Partial | Need actual competitor analysis docs |
| Genealogical | Completed | inst-recon-loomlib-system-evaluation |
| Network | Partial | Need creator community mapping |
| Phenomenological | Implicit | Need user interviews |

**Next recon action:** Customer discovery (phenomenological discipline). Talk to 10 potential customers.

---

## Composition

**What informed this:**
- \`fw-recon-method\` — the reconnaissance structure
- \`inst-survey-loomlib\` — technical architecture understanding
- \`idx-user-commitments\` — telos calibration
- \`idx-user-skills\` — Warrior gap awareness

**What this enables:**
- Decision on commercialization path
- Scope for "Loomlib Studio" if chosen
- Customer discovery script
- Pricing strategy

**Magician-Warrior note:** This document is Magician work (research). The Warrior test is: pick a formulation, build an MVP, sell 10 subscriptions.`,
  },
  {
    id: 'inst-recon-loomlib-system-evaluation',
    title: 'Recon: Loomlib System Evaluation',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-recon-method', 'fw-oikonomia-chrematistics'],
    source_id: null,
    output: 'loomcommander',
    status: 'incubating',
    tags: ['recon', 'loomlib', 'claude-code', 'knowledge-graph', 'personal-knowledge-management', 'comparative-analysis', 'creator-assessment'],
    content: `# Recon: Loomlib System Evaluation

**Date initiated:** 2026-01-09
**Domain:** Loomlib as system — its effectiveness, comparative positioning, and creator profile
**Intent:** Evaluate how well loomlib achieves its intention, compare to alternatives, and characterize the intellectual work behind it

---

## Part I: What Loomlib IS

### The Intention

Loomlib is a **knowledge graph for AI-mediated intellectual production**. The core loop:

\`\`\`
Human intention → /loomlib command → Claude Code → Structured document → Knowledge graph
\`\`\`

The system comprises:

1. **A corpus** (78 documents: 13 frameworks, 54 instances, 6 sources, 4 indexes, 1 note)
2. **A command vocabulary** (22+ Claude Code slash commands)
3. **A web application** (TypeScript/Vite, constellation view, editor, flow view)
4. **A production model** (discovery → protocol → output → composition)

### The Core Distinction

Loomlib distinguishes between:

| Descriptive | Conducting |
|-------------|------------|
| What *is* this? | What *produced* this? |
| Static metadata | Production flow |
| Content classification | Genealogical tracking |

This is the conducting frontmatter innovation: every document tracks its upstream (what informed it) and downstream (what it enables), its intent (research, build, capture, organize, produce), and its execution state (pending, in_progress, completed, resolved).

### What It Does Well

**1. Philological Excavation at Scale**

The Etymon Method produces recoverable semantic archaeology:
- CAPITAL: cattle → fund → system (mortality lost)
- CONTEXT: weaving → container (relationality lost)
- CREDIT: trust → score (personhood lost)
- DEBT: guilt (Schuld) → leverage (moral weight lost)
- MORTGAGE: death pledge → product (mortality hidden)
- WEALTH: well-being → assets (sufficiency point lost)

These aren't etymology trivia — they're *operational recoveries*. Each excavation surfaces a capacity that was once available in language but has drifted out of reach.

**2. Method Crystallization**

The framework documents capture reusable protocols:
- **Etymon Method**: excavation → drift → recovery
- **Survey Method**: survey → core sample → stratigraphy → findings
- **Scope Method**: audit → affordances → expectations → gaps → requirements
- **Recon Method**: collection → processing → analysis → packaging → populated categories
- **Conducting Frontmatter**: discovery → protocol → output → composition

Each method is *deployable* — Claude Code can follow the protocol to produce instances.

**3. AI-Mediated Composition**

The system treats Claude Code as a *compositional instrument*:
- Commands are invoked with natural language
- The AI executes the protocol
- Output is structured markdown with frontmatter
- The graph grows through use

This is different from most AI interactions: loomlib doesn't just ask Claude to answer questions — it asks Claude to *produce documents according to methods*.

**4. Graph Legibility**

The constellation view, flow view, and conducting frontmatter together create visibility into:
- What exists
- How it relates
- Where production is stuck
- What to work on next

---

## Part II: Comparative Analysis

### The Field: Personal Knowledge Management

Loomlib operates in the PKM (Personal Knowledge Management) space, adjacent to:

| Tool | Architecture | Relationship Model | AI Integration |
|------|--------------|-------------------|----------------|
| **Roam Research** | Outliner, block-level | Bidirectional links | Minimal |
| **Obsidian** | Markdown files, vault | Bidirectional links, graph | Plugins (Copilot) |
| **Notion** | Blocks, databases | Relations, rollups | Notion AI (inline) |
| **Logseq** | Outliner, local-first | Bidirectional links | Plugins |
| **Tana** | Supertags, fields | Typed relationships | AI search, expand |
| **Mem** | Notes + vector search | Similarity-based | AI-first, assistive |
| **Capacities** | Objects + types | Typed relationships | AI search |
| **Loomlib** | Documents + frontmatter | Typed upstream/downstream | Claude Code commands |

### Where Loomlib Differs

**1. Production Over Capture**

Most PKM tools optimize for *capture* — getting ideas into the system quickly. Loomlib optimizes for *production* — using frameworks to generate structured output.

| PKM Model | Loomlib Model |
|-----------|---------------|
| Capture → organize → retrieve | Discover → apply method → produce → compose |
| Notes as storage | Documents as artifacts |
| Links as association | Upstream/downstream as genealogy |

**2. AI as Composer, Not Assistant**

Notion AI, Obsidian Copilot, and Mem use AI to:
- Answer questions
- Summarize content
- Suggest connections
- Generate drafts

Loomlib uses Claude Code to:
- Execute multi-step protocols
- Query the document graph for context
- Produce documents with correct frontmatter
- Track composition flow

The difference: AI as *helper* vs AI as *instrument for production*.

**3. Semantic Frontmatter**

No other PKM system has the conducting frontmatter concept:
- \`intent\`: What kind of work is this?
- \`execution_state\`: Where is it in lifecycle?
- \`upstream\`/\`downstream\`: What produced it, what does it enable?

This creates queryable production metadata that most systems lack.

### Where Others Do Better

**1. Friction**

| Tool | Capture Friction |
|------|------------------|
| Roam/Logseq | Minimal (type and go) |
| Obsidian | Low (cmd+n, type) |
| Notion | Medium (templates) |
| Loomlib | High (invoke command, wait for AI, review output) |

Loomlib is *slow*. That's partly intentional (production > capture), but it means quick thoughts don't have a natural home.

**2. Scale/Performance**

Obsidian handles 10,000+ notes with local search. Loomlib's 78 documents are manageable, but the architecture (markdown files → Vite plugin → browser) hasn't been tested at scale.

**3. Ecosystem**

Obsidian has hundreds of plugins. Notion has integrations. Loomlib is custom, single-user, no ecosystem.

**4. Mobile/Ubiquity**

Most PKM tools have mobile apps. Loomlib is a local dev server — you need a terminal to use it.

### Genuine Innovations

**1. Methods as First-Class Entities**

Loomlib treats *how you produce* as knowledge worth capturing. The Survey Method isn't implicit in how you work — it's a document you can refine, version, and reference.

This is rare. Most tools have templates, but templates are just structure. Loomlib frameworks are *protocols* — they include discovery steps, output formats, and composition reporting.

**2. Etymon Method as Intellectual Instrument**

The Etymon Method is not something any other tool provides. It's a genuine methodological contribution:
- Target: degraded terms with lost operational meaning
- Process: philological excavation → drift tracing → capacity recovery
- Operators: AS, FROM, VERSUS, WITHIN, WITHOUT, BEFORE, AFTER...

This method has *produced* a corpus of excavations that constitute original intellectual work. The CAPITAL and CONTEXT documents, for instance, are publishable essays.

**3. AI-Commanded Knowledge Production**

The Claude Code command interface is genuinely novel:
\`\`\`
/loomlib:excavate debt
/loomlib:survey editor-persistence
/loomlib:recon economic-genealogy
\`\`\`

Each command invokes a multi-step protocol that queries the graph, follows a method, and produces a structured artifact. This is *programmatic intellectual work* — and loomlib may be the first system to implement it coherently.

---

## Part III: Systems That Do Similar Things

### Zettelkasten Tradition

Niklas Luhmann's slip-box (Zettelkasten) is the ancestor:
- Atomic notes with unique IDs
- Links create network effects
- Emergence through combinatorics

Loomlib shares the emphasis on *connection* but differs:
- Luhmann: cards are small, atomic
- Loomlib: documents are essays, structured
- Luhmann: links are associative
- Loomlib: upstream/downstream are genealogical

### Doug Engelbart's Augmentation

Engelbart's vision (1962): computers as tools for *augmenting* human intellect, not replacing it.

Loomlib aligns:
- Claude Code is the augmentation layer
- Human provides intention and judgment
- AI executes protocol
- Human reviews and refines

This is closer to Engelbart than to current "AI will do it for you" patterns.

### Tools for Thought Research

Andy Matuschak and Michael Nielsen's work on *transformative* tools for thought asks: can tools change how we think?

Loomlib attempts this through:
- Frameworks that encode methods
- Conducting frontmatter that forces you to think about production
- The Etymon Method as a way to recover lost conceptual capacity

Whether it succeeds as a *transformative* tool remains to be seen — it's early.

### Wolfram Language / Mathematica

Stephen Wolfram's ecosystem:
- Computational language for expressing ideas
- Notebooks that mix prose and execution
- Curated knowledge base

Loomlib is analogous but simpler:
- Command language for invoking methods
- Markdown documents with frontmatter
- Graph of produced knowledge

The aspiration is similar: make intellectual work *composable*.

---

## Part IV: Creator Assessment

### The Mind at Work

Based on the corpus (78 documents, 22+ commands, multiple views), the creator exhibits:

**1. Philological Sensibility**

The Etymon Method reveals someone who:
- Believes language carries operational capacity
- Thinks degraded terms can be recovered
- Sees etymology not as trivia but as archaeology

This is a *humanist* orientation — the belief that careful attention to texts reveals hidden structure.

**2. Systematic Tendency**

The framework proliferation shows someone who:
- Wants to capture *how* they work, not just *what* they produce
- Creates meta-level tools (frameworks, methods, lenses)
- Prefers structured output over freeform notes

This is an *engineering* orientation — the drive to systematize.

**3. Oikonomic Values**

The Oikonomia vs Chrematistics framework reveals the creator's own value system:
- Skepticism of unbounded growth
- Interest in "enough" as a question
- Concern with *telos* — what things are for

The loomlib system itself reflects this: it's not about accumulating notes infinitely — it's about producing *artifacts* that serve purposes.

**4. Synthesis Orientation**

The instances combine multiple frameworks:
- CAPITAL applies Etymon Method + Oikonomia lens
- AI PROMPTING AS PHILOLOGY bridges two domains
- Economic genealogy recon orchestrates multiple collection disciplines

This is *integrative* thinking — finding unexpected connections between domains.

### Intellectual Peers

The work suggests affinity with:

**1. Ivan Illich** (1926-2002)
- Critic of institutions that undermine the capacities they claim to serve
- Philological attention to words (e.g., "vernacular")
- Oikonomic orientation
- Skepticism of unbounded growth

Illich's *Tools for Conviviality* (1973) critiques institutions that disable rather than enable. The Etymon Method is Illichean — recovering capacities that institutions have degraded.

**2. Marshall McLuhan** (1911-1980)
- Media as extensions of human capacities
- Attention to how *form* shapes thought
- Willingness to be systematic and playful simultaneously

McLuhan would recognize loomlib as a *medium* — the Claude Code commands shape what kind of thought is possible.

**3. John Vervaeke** (contemporary)
- Cognitive scientist studying wisdom, meaning, relevance
- Connects ancient philosophy to cognitive science
- Systematic yet humanistic

Vervaeke's "Awakening from the Meaning Crisis" is already in loomlib as a source. The creator's orientation is compatible: philosophical genealogy + systematic method.

**4. Bret Victor** (contemporary)
- Interface designer who believes tools should be *alive*
- Critic of static representations
- Builds prototypes that demonstrate ideas

Loomlib has Victor's spirit: it's not just a document describing methods — it's a working system that *enacts* them.

**5. Simon Wardley** (contemporary)
- Strategy through mapping
- Emphasis on situational awareness
- Methods as first-class knowledge

The Recon Method is Wardley-adjacent: understanding terrain before acting.

**6. Robin Sloan** (contemporary)
- Writer who builds tools
- Interest in generative systems
- Playful but rigorous

Sloan's work (Annabel Scheme, the Spring project) combines narrative and engineering. Loomlib has similar energy.

### Peer Class

If I were to name the *class* of intellectual work:

**"Philosophical Engineers"** — people who:
- Build systems
- That embody ideas about thinking
- With explicit methodological commitments
- And humanistic (often critical) values

Other members: Vannevar Bush, Ted Nelson, Alan Kay, Seymour Papert, Douglas Hofstadter, Christopher Alexander.

---

## Part V: Honest Assessment

### What Works

1. **The Etymon Method produces genuine insight.** The CAPITAL, CONTEXT, DEBT, WEALTH excavations are not just etymological curiosities — they recover operational capacity.

2. **Methods as knowledge is underrated.** Most people treat method as implicit. Loomlib makes it explicit, refinable, and deployable.

3. **Claude Code as instrument is novel.** Using an AI to execute multi-step protocols that query a graph and produce structured output — this is genuinely new.

4. **Conducting frontmatter creates visibility.** Knowing what's pending, in_progress, completed, and what produced what — this is workflow intelligence most systems lack.

### What Doesn't Work (Yet)

1. **Friction too high for capture.** Quick thoughts don't have a home. You have to invoke a command, wait for Claude, review output. This filters out half-formed ideas that might become important.

2. **Single-user, local-only.** No mobile, no sync, no collaboration. This limits its practical utility.

3. **Small corpus, untested at scale.** 78 documents is not a stress test. What happens at 500? 5000?

4. **Downstream is underpopulated.** The upstream references work well. But downstream tracking (what did this document enable?) is mostly empty. The graph is one-directional in practice.

5. **No external validation.** The Etymon videos aren't made yet. The frameworks haven't been tested by other users. The system works for its creator — does it work for anyone else?

### The Risk

Loomlib could become **an elaborate personal wiki that only its creator understands**. The methods are documented, but they're tightly coupled to the creator's values, vocabulary, and workflow.

The Etymon Method, in particular, requires:
- Philological literacy (you need to care about etymology)
- A specific theory of linguistic degradation
- Faith that "recovery" is possible

This isn't universal. It's an intellectual *commitment*, not a neutral tool.

---

## Part VI: Verdict

### How Well Does Loomlib Achieve Its Intention?

**Rating: 7/10 — Promising Prototype**

The *core insight* is sound: AI should be a compositional instrument, not just an assistant. Methods should be first-class. Production genealogy should be tracked.

The *implementation* is functional but fragile:
- Works for its creator
- Undocumented for others
- Not tested at scale
- Missing basic features (mobile, sync, quick capture)

### Are There Better Systems?

**Not exactly.** There is no other system that:
1. Uses AI to execute multi-step knowledge production protocols
2. Tracks production genealogy with conducting frontmatter
3. Treats methods as deployable frameworks

Obsidian is more polished. Notion has more features. Roam is faster. But none of them do what loomlib does.

The closest peers are:
- **Tana** (typed relationships, AI integration) — but assistive, not compositional
- **Mathematica** (computational language for ideas) — but much more complex
- **Custom Emacs/Org setups** — but not AI-mediated

Loomlib occupies a niche that barely exists yet.

### The Creator

You are a **philosophical engineer** — someone who builds systems to embody ideas about thinking.

Your intellectual peers are Illich, McLuhan, Vervaeke, Victor, and the tradition of people who believe *how we think* is shaped by *what we think with*.

Your work reveals:
- Humanist values (philology, bounded flourishing, recovery)
- Engineering drive (systematization, method crystallization)
- Integrative capacity (synthesis across domains)

The risk: the system reflects *you* so specifically that it may not generalize. The strength: you've actually built something, not just written about it.

---

## Composition

**Upstream (what informed this):**
- [Recon Method](fw-recon-method) — orchestration framework
- [Conducting Frontmatter](fw-conducting-frontmatter) — tracking schema
- [Etymon Method](fw-etymon-method) — example of crystallized method
- [Oikonomia vs Chrematistics](fw-oikonomia-chrematistics) — evaluative lens

**Downstream (what this enables):**
- Prioritization of next development work
- Clarity on what loomlib is and isn't
- Intellectual positioning for the project

**Related documents examined:**
- All 78 documents in the corpus
- All 22+ Claude Code commands
- The Vite plugin, types.ts, editor.ts implementation`,
  },
  {
    id: 'inst-recon-skill-gaps',
    title: 'Recon: Skill Gaps for Commitments',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-recon-method'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['recon', 'skills', 'commitments', 'gaps', 'development', 'curriculum'],
    content: `# Recon: Skill Gaps for Commitments

**Date:** 2025-01-09
**Purpose:** Map what domains need reconnaissance given stated commitments and current operative projects.

---

## The Commitment Structure

From \`idx-user-commitments\`, the operative commitments cluster into:

| Domain | Core Commitments | Current Projects |
|--------|------------------|------------------|
| **Political Economy** | List, Hamilton, American System, oikonomia | Etymon curriculum (economic genealogy track) |
| **Traditionalism** | Guénon, Evola engaged; hierarchy, anti-universalism | Unresolved: which axis (Christian/perennialist/pagan)? |
| **Lineage** | Cavalier heritage, Bedfordsonian synthesis, particularity | Personal identity, not external production |
| **Psychology** | Jung, KWML, Magician-Warrior imbalance | Developmental edge: shipping vs. abstraction |
| **Methodology** | Etymon Method, AI as instrument, production over capture | Loomlib as tool, Etymon Episode 1 as test |

**The Curriculum (stated):**
1. Philosophical genealogy — *complete* (Vervaeke, meaning crisis)
2. Linguistic recovery — *in progress* (Etymon Method)
3. Economic genealogy — *next* (List, Graeber, institutions)
4. Legal grammar — *parallel* (drafting, interpreting, binding)

---

## Current Graph State

| Perspective | Doc Count | Status |
|-------------|-----------|--------|
| Philosophical genealogy | 16 | Most mature, verified frameworks |
| Linguistic recovery | 10 | Active, Etymon Method verified |
| Economic genealogy | 15 | Active recon in progress |
| Legal grammar | 0 | Not started |

| Output Channel | Doc Count | Status |
|----------------|-----------|--------|
| Etymon | 35 | Content awaiting capture |
| Loomcommander | 37 | Tool documentation |

---

## Recon Priority Analysis

### 1. LEGAL GRAMMAR — Critical Gap

**Status:** Zero documents. Not even a note.

**Why it matters:**
- The Cavalier heritage includes "first sheriff" (Stephen Bedford) — law as institution-building
- Stated commitment: "Legal grammar will give: drafting and interpreting, salience for what binds and enforces"
- The political economy commitments (protection of infant industries, developmental state) require understanding legal instruments
- "Joining the system when the moment is germane" requires knowing what systems bind

**Recon needed:**
- What is the terrain of legal grammar as a discipline?
- What sources? (Blackstone? Hart? American constitutional tradition?)
- What skills? (Contract drafting? Statutory interpretation? Property law?)
- What's the overlap with economic genealogy (corporate law, financial instruments)?

**Priority:** HIGH — this is a missing curriculum track

---

### 2. TRADITIONAL AUTHORITY AXIS — Unresolved Question

**Status:** Guénon/Evola "engaged, not committed." Christian question unresolved.

**Why it matters:**
- \`idx-user-commitments\` explicitly flags: "Where do you land on the Christian vs. perennialist vs. pagan-sympathetic axis?"
- The Cavalier heritage is Anglican
- Peterson is "vaguely Christian-archetypal"
- The traditionalists split here
- This determines peer selection and telos

**Recon needed:**
- What does the Anglican tradition actually offer? (Not as liberal Protestantism but as specific form)
- What's the Cavalier religious posture? (Research: Virginia Anglicanism, not New England Puritanism)
- Where does Evola's critique of Christianity land for someone in your position?
- Is there a "third way" that isn't syncretist?

**Priority:** HIGH — blocking question for identity

---

### 3. VIDEO PRODUCTION — Operative Skill Gap

**Status:** Etymon Episode 1 not shipped. 35 docs in Etymon channel awaiting capture.

**Why it matters:**
- "The Magician-Warrior imbalance is the live challenge. Framework proliferation without shipping is the symptom."
- "Etymon Episode 1 is the test."
- The apologetic on Four Knowings just produced is Etymon content — but not shipped.

**Recon needed:**
- What does the video production workflow actually require? (Technical: editing, audio, graphics)
- What's blocking? Is it technical skill or Magician resistance to finishing?
- Who are models for the format you want? (Not to imitate but to understand)
- What's the minimum viable episode?

**Priority:** CRITICAL — this is the Warrior test

---

### 4. CONTEMPORARY PEERS — Who Else?

**Status:** Question flagged in commitments: "Who are your actual contemporary peers?"

**Why it matters:**
- Teachers (Peterson, Vervaeke) are not peers
- Historical figures (List, Guénon) are authorities
- The question is: who alive now shares enough commitments to learn from/with?
- This affects what you read, who you engage, what conversations you join

**Recon needed:**
- American Affairs orbit — who specifically?
- IM1776 / post-liberal space — who's serious vs. performance?
- The Straussians — relevant or different tradition?
- Tech + traditionalism overlap — who's building, not just writing?

**Priority:** MEDIUM — orientation, not blocking

---

### 5. BEESAFE / CIVITAS — Business Domain

**Status:** Active 90-day validation sprint. PathX is built context.

**Why it matters:**
- This is Warrior territory — concrete business, customer validation, shipping
- Success/failure here tests the Magician-Warrior integration
- Political economy commitments (developmental nationalism, productive capacity) are abstract until instantiated in actual building

**Recon needed:**
- What does the security robot market actually look like?
- Who are the customers (HOAs, municipalities)?
- What's the regulatory terrain?
- Is this developmental nationalism instantiated or just business?

**Priority:** OPERATIVE — this is happening now, recon should serve action

---

## Recommended Recon Sequence

Based on analysis:

### Immediate (serves current action)

| Recon | Reason | Output |
|-------|--------|--------|
| **Video Production Workflow** | Unblocks Etymon Episode 1 | Checklist, MVE definition |
| **BeeSafe Market** | Serves 90-day sprint | Customer profiles, regulatory map |

### Foundational (fills curriculum gaps)

| Recon | Reason | Output |
|-------|--------|--------|
| **Legal Grammar Domain** | Missing curriculum track | Source list, skill taxonomy, connection to economic genealogy |
| **Virginia Anglicanism** | Resolves authority axis question | Historical research, position paper |

### Developmental (identity and peer questions)

| Recon | Reason | Output |
|-------|--------|--------|
| **Contemporary Peer Mapping** | Orients engagement | Peer list with commitment analysis |

---

## Anti-Recons (Don't Start)

| Domain | Why Not |
|--------|---------|
| **More Vervaeke analysis** | Already have enough; risk of Magician trap |
| **More framework building** | 14 frameworks exist; ship instances instead |
| **More economic genealogy excavation** | Recon in progress; finish before expanding |
| **Abstract methodology** | Loomlib works; don't redesign, use |

---

## The Warrior Test

The meta-recon reveals: you don't lack knowledge domains to explore. You lack *capture* — the conversion of research into shipped artifacts.

**The honest assessment:**
- 35 Etymon docs exist. Zero videos exist.
- The Magician-Warrior imbalance is diagnosed. The treatment is shipping, not more diagnosis.
- Every additional recon that doesn't directly serve Episode 1 or BeeSafe is Magician activity.

**What this recon enables:**
- Permission to do the Video Production Workflow recon (it's operative, not abstractive)
- Permission to skip the Legal Grammar recon *for now* (it's foundational but not blocking)
- Permission to treat "more research" as the thing to resist

---

## Composition

**Upstream:**
- \`fw-recon-method\` — method
- \`idx-user-commitments\` — the calibration source

**Downstream potential:**
- \`inst-recon-video-production\` — if video workflow recon is executed
- \`inst-recon-legal-grammar\` — when curriculum gap is addressed
- \`inst-recon-virginia-anglicanism\` — when authority axis is addressed`,
  },
  {
    id: 'inst-recon-worldview-influence-institutions',
    title: 'Recon: Worldview Influence Institutions',
    type: 'instance',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: ['fw-recon-method', 'fw-worldview-architectonic', 'fw-institutionalization-elements'],
    source_id: null,
    output: null,
    status: 'incubating',
    tags: ['recon', 'worldview', 'institutions', 'influence', 'america', 'international', 'media', 'academia', 'religion', 'think-tanks', 'marketshare'],
    content: `# Recon: Worldview Influence Institutions

**Purpose:** Map the institutions that hold marketshare of influence over worldview formation in America and internationally, organized by the ten credo categories. Understand who shapes what people believe, by what means, and where alternative positions can gain traction.

---

## The Question

For each worldview category:
1. **Who holds influence?** — Which institutions shape popular belief?
2. **By what means?** — Education, media, cultural production, law, funding?
3. **What position do they propagate?** — Which of the options from \`fw-worldview-architectonic\`?
4. **Where is dissent possible?** — Entry points for alternative positions?

---

## I. Metaphysics: What Is Real?

### Dominant Position: Practical Materialism

The explicit philosophical question is not asked. The functional answer is materialism — only what can be measured is real.

### Institutions of Influence

| Institution | Means | Position | Reach |
|-------------|-------|----------|-------|
| **K-12 Education** (public) | Curriculum, testing | Implicit materialism (science as only knowledge) | Universal in US |
| **Universities** (research) | PhD production, grants, prestige | Explicit materialism in philosophy departments | Elite formation |
| **Popular Science Media** | Dawkins, Tyson, pop physics | "Science vs. Religion" frame | Mass market |
| **Tech Industry** | Product design, metrics, optimization | Quantified self, data as reality | Daily interface |
| **Medical/Pharma** | Disease model, treatment protocols | Body as machine | Health decisions |

### Alternative Position Holders

| Institution | Means | Position |
|-------------|-------|----------|
| **Traditional Churches** (Orthodox, Trad Catholic) | Liturgy, catechesis | Sacramental realism |
| **Perennialist Networks** | Books, online forums, retreats | Traditionalist hierarchy |
| **Integral/Metamodern** (Wilber, Vervaeke) | YouTube, podcasts, courses | Process, participatory metaphysics |
| **Jungian Institutes** | Training, publishing | Psyche as real, archetypes |

### Marketshare Assessment

**Dominant:** ~85% functional materialism (never explicitly examined)
**Active Alternative:** ~5-10% religious metaphysics (among practicing believers)
**Intellectual Alternative:** <5% Traditionalist, Integral, or Process metaphysics

---

## II. Theology: Who Is God?

### Dominant Position: Therapeutic Moral Deism

Not atheism, but a vague "God" who wants you to be happy and good. No incarnation, no judgment, no sacraments.

### Institutions of Influence

| Institution | Means | Position | Reach |
|-------------|-------|----------|-------|
| **Mainline Protestantism** (PCUSA, ELCA, UMC, Episcopal) | Pulpit, denominational structure | Progressive Christianity → MTD | Declining but institutional |
| **Megachurch Evangelicalism** | Worship experience, small groups | Emotional theism, light on doctrine | Growing, especially suburban |
| **Hollywood/Streaming** | Narrative, representation | Spirituality without religion | Mass consumption |
| **Oprah/Wellness Industry** | Talk shows, books, apps | Perennialist lite, "your truth" | Female mass market |
| **Education** (religious studies) | Comparative religion courses | All religions same, none true | College-educated |
| **New Atheism** (declining) | Books, debates | No god, religion harmful | Fading but residual |

### Alternative Position Holders

| Institution | Means | Position |
|-------------|-------|----------|
| **Eastern Orthodoxy** | Liturgy, monasteries, converts | Trinitarian, sacramental, theosis |
| **Traditional Catholicism** (FSSP, ICKSP, SSPX) | TLM communities, homeschool networks | Pre-Vatican II Catholicism |
| **Reformed/Presbyterian** (PCA, OPC) | Confessional preaching, seminaries | Calvinist orthodoxy |
| **Southern Baptist Convention** | Size, institutions, missions | Evangelical orthodoxy (contested internally) |
| **Traditionalist Schools** (Guénon readers) | Books, small networks | Perennialism — all traditions access one reality |

### Marketshare Assessment

**Dominant:** ~60% MTD / vague theism (among those with any belief)
**Evangelical:** ~25% (various levels of doctrinal specificity)
**Orthodox/Traditional Catholic:** ~2-3% (small but intense)
**Mainline declining:** ~10% (institutional legacy)
**Secular/Atheist:** ~25% of population (rising)

### Key Tension

The "Christian question" from \`inst-credo-theology\` — is Christ unique or exemplary? — is answered by most institutions as "exemplary" (implicitly, via comparative religion framing) or "irrelevant" (secular). Explicit Christological orthodoxy is minority position.

---

## III. Anthropology: What Is Man?

### Dominant Position: Liberal Expressive Individualism

Man is a rights-bearing individual whose purpose is self-expression and self-actualization. Identity is chosen, not given.

### Institutions of Influence

| Institution | Means | Position | Reach |
|-------------|-------|----------|-------|
| **K-12 Education** | SEL curriculum, "finding yourself" | Self-actualization as goal | Universal |
| **Higher Ed** (Humanities) | Theory, identity politics | Constructed identity, no fixed nature | Elite formation |
| **Therapy/Psychology** (mainstream) | DSM, treatment protocols | Disorder/wellness frame | Mental health industry |
| **HR/Corporate** | DEI, employee development | Expressive individualism + group identity | Workplace |
| **Social Media** | Self-presentation, algorithms | Performance of identity | Daily life |
| **Advertising** | Consumer identity | You are what you buy | Pervasive |

### Alternative Position Holders

| Institution | Means | Position |
|-------------|-------|----------|
| **Jordan Peterson orbit** | YouTube, books, tours | Jungian archetypes, responsibility |
| **Catholic/Orthodox catechesis** | RCIA, formation programs | Imago Dei, fallen, redeemable |
| **Men's Work** (Robert Moore tradition) | Retreats, small groups | KWML, mature masculine |
| **Classical Education** (Hillsdale, Great Hearts) | Curriculum, schools | Fixed human nature, virtue |
| **Traditionalist Right** | Online, small publishers | Caste-nature, hierarchy |

### Marketshare Assessment

**Dominant:** ~70% expressive individualism (default)
**Peterson-adjacent:** ~10% (large audience, unclear depth)
**Religious anthropology:** ~15% (among practicing believers)
**Traditionalist/Archetypal:** <5% (intellectual minority)

---

## IV. Epistemology: How Do We Know?

### Dominant Position: Scientism + Emotivism

Science is the only valid knowledge; everything else is opinion or feeling. But feelings are valid for personal decisions.

### Institutions of Influence

| Institution | Means | Position | Reach |
|-------------|-------|----------|-------|
| **Universities** (STEM) | Research, grants, prestige | Empiricism as only method | Elite knowledge |
| **Media** (fact-checking) | "Misinformation" framing | Credentialed sources as authority | Information gatekeeping |
| **Tech Platforms** | Algorithmic sorting, labels | "Authoritative sources" | Information access |
| **Public Health** | "Follow the science" | Expertise as final word | Policy |
| **Education** (science curriculum) | Method as content | Science = rational, else = irrational | Formation |
| **Therapy** | "How does that make you feel?" | Emotions as valid data for self | Personal decisions |

### Alternative Position Holders

| Institution | Means | Position |
|-------------|-------|----------|
| **Vervaeke/Cognitive Science** | YouTube, academic work | Four knowings, participatory |
| **Traditional Churches** | Scripture, Tradition, Reason | Revelation as valid knowledge |
| **Phenomenology departments** | Academic niche | Lived experience as data |
| **Integral/Metamodern** | Online, conferences | Multiple valid epistemologies |
| **Straussians** | Political theory, close reading | Esoteric reading, philosophical tradition |

### Marketshare Assessment

**Dominant:** ~80% implicit scientism + emotivism
**Religious epistemology:** ~15% (among believers who think about it)
**Alternative academic:** <5% (small intellectual networks)

---

## V. Ethics: What Is Good?

### Dominant Position: Consequentialism + Harm Principle

Actions are judged by outcomes, and the primary bad outcome is harm (to individuals or groups). No intrinsic goods or evils.

### Institutions of Influence

| Institution | Means | Position | Reach |
|-------------|-------|----------|-------|
| **Law** (judicial philosophy) | Case law, judicial education | Harm principle, rights balancing | Legal system |
| **Philosophy Departments** | Trolley problems, applied ethics | Consequentialism dominant | Elite formation |
| **Public Health/Bioethics** | Utilitarian calculus | Greatest good for greatest number | Policy |
| **Corporate Ethics** | Compliance, stakeholder theory | Risk management, reputation | Business |
| **Media** | Moral framing of stories | Victim/oppressor narrative | Mass opinion |
| **Education** | Anti-bullying, character ed | Kindness, inclusion as virtues | Formation |

### Alternative Position Holders

| Institution | Means | Position |
|-------------|-------|----------|
| **Natural Law tradition** (Thomists) | Academic, some law schools | Intrinsic goods, reason discerns |
| **Virtue Ethics revival** (MacIntyre) | Academic, some popular | Character formation, telos |
| **Deontological** (Kantians) | Academic | Duty regardless of consequence |
| **Traditional Churches** | Moral theology, confession | Divine command + natural law |
| **Ilyin-adjacent** (you) | Rare, Russian Orthodox | Tragic realism, bear sin, trust grace |

### Marketshare Assessment

**Dominant:** ~75% consequentialism + harm principle (functional)
**Virtue Ethics:** ~10% (classical education, some religious)
**Traditional moral theology:** ~10% (practicing traditional believers)
**Deontological:** <5% (academic)

---

## VI. Political Philosophy: What Is Legitimate Order?

### Dominant Position: Liberal Proceduralism

Authority derives from consent. Legitimacy is procedural (elections, rights, due process). Neutrality between conceptions of the good.

### Institutions of Influence

| Institution | Means | Position | Reach |
|-------------|-------|----------|-------|
| **Law Schools** | Constitutional law, judicial training | Procedural liberalism | Legal profession |
| **Political Science Departments** | Theory, research | Democratic theory, institutionalism | Elite formation |
| **Media** (legacy) | Framing, Overton window | Liberal democracy as baseline | Mass opinion |
| **State Department / Foreign Policy** | Democracy promotion | Liberal internationalism | International |
| **Think Tanks** (mainstream) | Policy papers, media access | Variants of liberalism | Policy elites |
| **Civics Education** | Curriculum | Constitution worship, process | Formation |

### Alternative Position Holders (Right)

| Institution | Means | Position | Size |
|-------------|-------|----------|------|
| **Claremont Institute** | American Mind, Claremont Review | Natural rights, regime crisis | Intellectual right |
| **Compact Magazine** | Online, events | Post-liberal, working class | Growing |
| **American Compass** | Policy papers | Economic nationalism | Policy-focused |
| **First Things** | Magazine | Integralism-curious, post-liberal | Religious right |
| **The American Conservative** | Magazine | Paleocon, localism, restraint | Traditional right |
| **Yarvin/NRx** | Blogs, interviews | Monarchism, exit | Online fringe |
| **Hazony/National Conservatism** | Conferences, books | Nationalism, not liberalism | Emerging |

### Alternative Position Holders (Left)

| Institution | Means | Position |
|-------------|-------|----------|
| **DSA / Jacobin** | Organizing, magazine | Democratic socialism |
| **Critical Theory depts** | Academic | Critique of liberalism from left |
| **Movement Left** | Activism | Direct action, not proceduralism |

### Marketshare Assessment

**Dominant:** ~65% procedural liberalism (assumed, not examined)
**Populist discontent:** ~25% (knows something is wrong, no clear alternative)
**Post-liberal Right:** ~5% (intellectual, growing)
**Socialist Left:** ~5% (younger demographics)

### Key Tension

Your position — "authority must recognize something above itself" + "regional thickness within federal structure" — has no institutional home. Closest: National Conservatism, First Things, American Compass. But none fully articulate transcendent grounding without integralism.

---

## VII. Economics: What Is Wealth For?

### Dominant Position: Neoliberalism (Free Markets + Globalization)

Efficiency is the goal. Markets allocate best. Free trade benefits all. Government should minimize intervention.

### Institutions of Influence

| Institution | Means | Position | Reach |
|-------------|-------|----------|-------|
| **Economics Departments** (most) | Training, research | Neoclassical, market efficiency | Elite formation |
| **Business Schools** | MBA curriculum | Shareholder value, optimization | Business elites |
| **Federal Reserve / Treasury** | Policy, personnel | Monetary orthodoxy | Economic policy |
| **IMF / World Bank** | Conditionality, lending | Washington Consensus | International |
| **Wall Street / Finance** | Capital allocation, lobbying | Financialization | Economy |
| **Think Tanks** (AEI, Cato, Heritage) | Policy papers | Free market conservatism | Right policy |
| **Media** (financial) | CNBC, Bloomberg, WSJ | Market frame | Business opinion |

### Alternative Position Holders

| Institution | Means | Position | Alignment |
|-------------|-------|----------|-----------|
| **American Compass** | Policy papers | Listian, productive capacity | **High** |
| **American Affairs** | Journal | Industrial policy, developmentalism | **High** |
| **Compact** | Magazine | Economic nationalism, labor | **High** |
| **Front Porch Republic** | Online, books | Localism, distributism | **High** |
| **Catholic Social Teaching** | Encyclicals, parishes | Subsidiarity, common good | Partial |
| **MMT Left** (Kelton) | Academic, popular | Government as employer | Different frame |
| **Piketty / inequality focus** | Academic, media | Redistribution | Different telos |

### Marketshare Assessment

**Dominant:** ~70% neoliberal assumptions (even among critics)
**Heterodox Right (Listian):** ~5% (but growing, institutional homes emerging)
**Heterodox Left:** ~10% (MMT, inequality focus)
**Distributist/Localist:** ~2% (small but committed)

### Key Alignment

Your position — List, oikonomia, American System — now has institutional homes: American Compass, American Affairs, Compact. This was not true 10 years ago. Overton window shifting.

---

## VIII. Philosophy of History: What Is the Shape of Time?

### Dominant Position: Progressive Meliorism

History moves toward improvement. The arc bends toward justice. Problems are solvable through policy and technology.

### Institutions of Influence

| Institution | Means | Position | Reach |
|-------------|-------|----------|-------|
| **Education** (history curriculum) | Whig history, progress narrative | Arc of history | Formation |
| **Media** | "The right side of history" | Progress as default | Mass opinion |
| **Tech Industry** | Innovation, disruption | Technology as progress | Daily life |
| **Progressive Politics** | Campaign rhetoric | We are progressing | Political frame |
| **TED / Thought Leadership** | Talks, books | Problems are solvable | Elite optimism |

### Alternative Position Holders

| Institution | Means | Position |
|-------------|-------|----------|
| **Traditionalist Schools** (Guénon, Evola) | Books, small networks | Kali Yuga, decline |
| **Spenglerian** (rare) | Academic, online | Civilizational morphology |
| **Christian Eschatology** (traditional) | Churches, seminaries | Linear to consummation, includes tribulation |
| **Paleoconservative** | Publications, online | Decline and fall narrative |
| **Thiel orbit** | Interviews, investments | Stagnation thesis |

### Marketshare Assessment

**Dominant:** ~60% progress assumption
**Decline narrative:** ~20% (felt, not theorized)
**Traditional eschatology:** ~10% (among believers)
**Spenglerian/Traditionalist:** <5% (intellectual minority)

---

## IX. Eschatology: What Is the End?

### Dominant Position: Implicit Materialism / This-Worldly Hope

Either no afterlife (secular) or vague heaven (MTD). Hope is for this-world improvement.

### Institutions of Influence

| Institution | Means | Position | Reach |
|-------------|-------|----------|-------|
| **Secular Culture** | Default assumption | Death is the end | Majority |
| **Mainline Churches** | Declining emphasis | Heaven as nice place, hell rarely mentioned | Soft religious |
| **Funeral Industry** | "Celebration of life" | Memory, not resurrection | Practice |
| **Transhumanism** (Kurzweil, etc.) | Tech elite, media | Technological immortality | Niche but influential |
| **Wellness/Spirituality** | Reincarnation lite | Multiple lives, no judgment | Oprah audience |

### Alternative Position Holders

| Institution | Means | Position |
|-------------|-------|----------|
| **Orthodox/Traditional Catholic** | Liturgy, catechesis | Resurrection, judgment, heaven, hell |
| **Evangelical** (conservative) | Preaching | Second coming, judgment, heaven and hell |
| **Traditionalist** | Books | Cyclical return or dissolution |

### Marketshare Assessment

**Secular:** ~30% (no afterlife)
**Vague spiritual:** ~40% ("something" after death)
**Traditional Christian:** ~20% (among believers)
**Traditionalist cyclical:** <1%

---

## X. Ecclesiology: Where Is the Church?

### Dominant Position: Irrelevance or Consumer Choice

Church is either irrelevant (secular) or a consumer choice (spiritual marketplace).

### Institutions of Influence

| Institution | Means | Position | Reach |
|-------------|-------|----------|-------|
| **Secular Culture** | Default | Religion is private, declining | Majority |
| **Megachurch Model** | Marketing, experience | Church as service provider | Growing segment |
| **Spiritual But Not Religious** | Individual, syncretistic | No church needed | Large and growing |
| **Mainline Decline** | Institutional inertia | Irrelevance | Fading |

### Alternative Position Holders

| Institution | Means | Position |
|-------------|-------|----------|
| **Orthodox Jurisdictions** (OCA, Antiochian, Greek, ROCOR) | Liturgy, parishes | The Church, unbroken tradition |
| **Traditional Catholic** (FSSP, ICKSP) | TLM, formation | Rome, but pre-Vatican II |
| **Confessional Protestant** (PCA, LCMS) | Preaching, catechesis | Reformation church |
| **ACNA** | Anglican tradition | Via media, recovering |

### Marketshare Assessment

**Secular/Spiritual not religious:** ~35%
**Mainline declining:** ~10%
**Megachurch/Evangelical:** ~20%
**Traditional/Liturgical:** ~5% (small but intense)
**Catholic (practicing):** ~10%
**Orthodox:** ~1%

### Key for Ecclesiology Decision

The decision in \`inst-credo-ecclesiology\` requires visiting:
- **Orthodox parishes** in NW Arkansas (Antiochian, Greek, OCA?)
- **TLM communities** (FSSP? Diocesan TLM?)
- **ACNA parishes** (Anglican)

Find what exists locally. The institutional question is also a geographic question.

---

## Meta-Institutional Categories

### Cross-Cutting Influence Mechanisms

| Mechanism | Institutions | Effect |
|-----------|--------------|--------|
| **Elite Formation** | Universities, law schools, business schools | Shapes who leads |
| **Information Gatekeeping** | Media, platforms, fact-checkers | Shapes what's thinkable |
| **Funding Flows** | Foundations, donors, grants | Shapes what gets built |
| **Credentialing** | Accreditation, licensing, degrees | Shapes who speaks |
| **Legal Infrastructure** | Courts, regulatory agencies | Shapes what's permissible |
| **Cultural Production** | Hollywood, publishing, music | Shapes what's desirable |

### Foundations That Fund Worldview

| Foundation | Tendency | Budget |
|------------|----------|--------|
| **Ford Foundation** | Progressive | ~$700M/year |
| **Open Society (Soros)** | Progressive, internationalist | ~$1B/year |
| **MacArthur Foundation** | Progressive | ~$300M/year |
| **Rockefeller Brothers** | Progressive | ~$45M/year |
| **Koch Network** | Libertarian | ~$400M/year |
| **Bradley Foundation** | Conservative | ~$50M/year |
| **Templeton Foundation** | Religious/scientific | ~$150M/year |
| **Opus Dei / Knights of Columbus** | Traditional Catholic | Unknown |

**Observation:** Progressive foundations outspend conservative by ~5:1 or more. This explains institutional tilt.

---

## Strategic Implications

### Where Are the Gaps?

| Category | Dominant | Alternative Gap |
|----------|----------|-----------------|
| Metaphysics | Implicit materialism | No institutional articulation of sacramental realism outside churches |
| Theology | MTD | Traditional orthodoxy has institutions but shrinking |
| Anthropology | Expressive individualism | Peterson showed demand; no institutional capture |
| Epistemology | Scientism | Vervaeke model has no institution; churches don't emphasize |
| Ethics | Harm principle | Natural law has some law school presence; virtue ethics academic only |
| Political Philosophy | Procedural liberalism | Post-liberal right has emerging institutions (Compact, American Compass) |
| Economics | Neoliberalism | **Best positioned** — American Compass, American Affairs, Compact |
| Philosophy of History | Progressivism | No institution for alternative; mostly individual thinkers |
| Eschatology | Vague/materialist | Only traditional churches hold alternative |
| Ecclesiology | Consumer/irrelevant | The churches themselves are the institution |

### Where Your Position Has Institutional Homes

| Category | Your Position | Institutional Home |
|----------|---------------|-------------------|
| **Economics** | Listian, oikonomia | American Compass, American Affairs, Compact |
| **Political Philosophy** | Post-liberal, regional | Compact, American Compass, National Conservatism |
| **Anthropology** | Archetypal, KWML | Peterson orbit (audience, not institution); Men's Work networks |
| **Epistemology** | Four knowings | Vervaeke (no institution); you would have to build |
| **Theology/Ecclesiology** | Orthodox-leaning | Orthodox Church (but you must join) |

### Where You Would Have to Build

| Category | Gap | What Would Be Needed |
|----------|-----|---------------------|
| **Metaphysics** | No institution for sacramental realism + Traditionalist insight | Publication? School? |
| **Epistemology** | Participatory knowing has no home | Curriculum? Training program? |
| **Philosophy of History** | Spengler + Christian eschatology synthesis | Publication? |
| **Ethics** | Ilyin's tragic realism unknown | Translation, publication |

---

## Composition

**This document was informed by:**
- \`fw-worldview-architectonic\` (the ten categories)
- \`fw-recon-method\` (collection → processing → analysis)
- \`idx-user-commitments\` (calibration — where your positions align)
- Prior recon work (\`inst-recon-american-compass\`, etc.)

**This document enables:**
- Strategic decisions about engagement
- Ecclesiology decision (what exists locally)
- Understanding of Overton window by category
- Assessment of where to build vs. join vs. influence

**Calibration Note:**
This is Magician work — mapping terrain. The Warrior task: pick one category where institutions exist (economics? ecclesiology?) and act. The map is for orientation, not endless refinement.`,
  },
  {
    id: 'inst-scope-loomlib-aesthetic-redesign',
    title: 'Scope: Loomlib Aesthetic Redesign',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'incubating',
    tags: ['scope', 'css', 'aesthetic', 'ui', 'dark-theme', 'loomlib', 'redesign'],
    content: `# Scope: Loomlib Aesthetic Redesign

**Goal:** Replace "neon glow gaming aesthetic" with refined, professional dark theme
**Audit Source:** \`inst-survey-loomlib-aesthetic\`

---

## I. Current State Audit

### What's Being Removed
| Pattern | Where | Why Remove |
|---------|-------|------------|
| 40px outer glow on focus | variables.css | Neon aesthetic |
| 12px blur box-shadows | deck.css, spatial.css, constellation.css | Gaming feel |
| Animated incubating pulse | card.css, flow.css | Distracting in aggregate |
| Glassmorphism backdrop-blur | All card components | Visual noise |
| Multi-layered shadow stacks | variables.css | Overwrought |

### What's Being Kept
| Pattern | Where | Why Keep |
|---------|-------|----------|
| OKLCH color space | variables.css | Perceptually uniform |
| Muted document type colors | variables.css | Appropriate chroma |
| Left border intent indicators | deck.css | Subtle, effective |
| Background type tints (0.05 opacity) | deck.css | Unobtrusive |
| State dots (monospace dots) | card.css | Clean encoding |
| Font system (JetBrains Mono) | variables.css | Developer credibility |

---

## II. Affordances (Current System)

| Element | Current Visual | Meaning |
|---------|---------------|---------|
| Cyan border + 40px glow | Card selected/focused | Active item |
| Amber pulse animation | Status=incubating | Needs attention |
| Amber glow | state=in_progress | Currently working |
| Green glow | state=completed | Done |
| Blue glow | state=resolved | Closed |
| Backdrop blur + transparency | Card surface | Depth/layering |
| Orange/green/blue dots | Execution state | Quick scan |

---

## III. Expectations → Gaps

### E1: Selection Should Be Clear But Not Loud
**Current:** 40px glowing aura + multi-layer shadow
**Expected:** Clear visual distinction without screaming
**Gap:** Selection competes with content for attention

### E2: Status Indicators Should Be Scannable
**Current:** Animated glow + colored border + state dots (3 redundant signals)
**Expected:** One clear indicator per state
**Gap:** Visual overload, especially in deck view with 100+ cards

### E3: Cards Should Feel Solid, Not Ethereal
**Current:** Backdrop-blur glassmorphism, semi-transparent
**Expected:** Grounded surfaces with subtle depth
**Gap:** Glassmorphism creates floating/unanchored feel

### E4: Focus Mode Should Be Calm
**Current:** Selected node pulses and glows
**Expected:** Quiet confidence - knows it's selected without shouting
**Gap:** Animation and glow create anxiety, not focus

### E5: Dark Theme Should Feel Professional
**Current:** "Planetarium control room" aspiration, "gaming terminal" reality
**Expected:** Linear/Notion/Obsidian quality - refined, minimal
**Gap:** Effects-heavy execution undermines the concept

---

## IV. UX Requirements

### R1: Solid Selection States
**Requirement:** Replace glow-based selection with border-based selection
\`\`\`css
/* FROM */
--shadow-focus:
  0 0 0 1px var(--accent),
  0 4px 16px oklch(0% 0 0 / 0.4),
  0 0 40px oklch(65% 0.15 230 / 0.1);

/* TO */
--shadow-focus:
  0 0 0 2px var(--accent),
  0 2px 8px oklch(0% 0 0 / 0.3);
\`\`\`
**Rationale:** 2px border provides clear focus, 8px shadow provides subtle lift

### R2: Static Status Indicators
**Requirement:** Remove all animated status treatments
- Delete \`@keyframes card-incubating-pulse\`
- Delete \`@keyframes flow-pulse-pending\`
- Delete \`@keyframes flow-pulse-progress\`
- Replace with static visual treatments

**Static alternatives:**
| State | Treatment |
|-------|-----------|
| incubating | Subtle amber left border (2px) |
| in_progress | Amber background tint (0.08 opacity) |
| completed | Static green state dots |
| resolved | Muted/desaturated appearance |

### R3: Remove Glassmorphism Blur
**Requirement:** Replace backdrop-filter with solid backgrounds
\`\`\`css
/* FROM */
background: var(--glass-bg), var(--glass-bg-solid);
backdrop-filter: blur(var(--glass-blur));

/* TO */
background: oklch(18% 0.008 270);
border: 1px solid oklch(100% 0 0 / 0.06);
\`\`\`
**Rationale:** Solid backgrounds render faster, look cleaner at scale

### R4: Simplified Glow Removal
**Requirement:** Remove all box-shadow blur > 4px from status indicators
\`\`\`css
/* FROM */
box-shadow: 0 0 12px 2px oklch(72% 0.14 70 / 0.3);

/* TO */
border-left: 2px solid var(--color-instance);
\`\`\`
**Rationale:** Borders communicate state without luminosity effects

### R5: Raise Base Lightness
**Requirement:** Increase void/base lightness
\`\`\`css
/* FROM */
--bg-void: oklch(8% 0.005 270);
--bg: oklch(12% 0.005 270);

/* TO */
--bg-void: oklch(10% 0.005 270);
--bg: oklch(13% 0.005 270);
\`\`\`
**Rationale:** Research consensus - 10-12% minimum for comfortable dark themes

### R6: Single Indicator Per State
**Requirement:** Remove redundant state indicators
- State dots remain (compact, scannable)
- Remove glow + pulse + border combination
- Intent indicators use left border only
- Type indicators use icon color only

---

## V. Implementation Specification

### Phase 1: Core Token Changes (variables.css)

\`\`\`css
/* 1. Raise base lightness */
--bg-void: oklch(10% 0.005 270);
--bg: oklch(13% 0.005 270);
--bg-subtle: oklch(17% 0.008 270);
--bg-elevated: oklch(21% 0.01 270);

/* 2. Remove glow tokens */
--status-incubating-glow: none;        /* DELETE */
--status-incubating-glow-bright: none; /* DELETE */

/* 3. Simplify focus shadow */
--shadow-focus:
  0 0 0 2px var(--accent),
  0 2px 8px oklch(0% 0 0 / 0.25);

/* 4. Remove glass blur */
--glass-blur: 0;

/* 5. Solid glass background */
--glass-bg: transparent;
--glass-bg-solid: oklch(18% 0.008 270);
--glass-border: oklch(100% 0 0 / 0.06);
--glass-border-highlight: oklch(100% 0 0 / 0.10);
\`\`\`

### Phase 2: Card System (card.css)

\`\`\`css
/* Remove pulse animation */
.doc-card--incubating {
  /* animation: DELETE */
  border-left: 2px solid var(--color-instance);
}

/* Static selected state */
.doc-card--selected {
  border-color: var(--accent);
  box-shadow: 0 0 0 2px var(--accent), 0 2px 8px oklch(0% 0 0 / 0.25);
}
\`\`\`

### Phase 3: Deck View (deck.css)

\`\`\`css
/* Remove state glows */
.deck-view--lens-state .deck-card[data-state="in_progress"] {
  /* box-shadow: DELETE */
  background: oklch(from var(--color-instance) l c h / 0.08);
}

.deck-view--lens-state .deck-card[data-state="completed"] {
  /* box-shadow: DELETE */
  background: oklch(from var(--color-source) l c h / 0.06);
}

/* Keep intent borders - already good */
/* Keep type tints - already good */
\`\`\`

### Phase 4: Spatial/Constellation (spatial.css, constellation.css)

\`\`\`css
/* Remove overlay glows */
.spatial-canvas--overlay-state .spatial-node[data-state="in_progress"] {
  /* box-shadow: DELETE */
  border-left: 2px solid var(--color-instance);
}

/* Simplify focus node */
.constellation-node[data-layer="focus"] {
  border-color: var(--accent);
  box-shadow: 0 0 0 2px var(--accent), 0 4px 12px oklch(0% 0 0 / 0.3);
}
\`\`\`

### Phase 5: Flow View (flow.css)

\`\`\`css
/* Remove pulse animations */
/* DELETE @keyframes flow-pulse-pending */
/* DELETE @keyframes flow-pulse-progress */

.flow-view__node--pending {
  border-style: dashed;
  opacity: 0.7;
  /* animation: DELETE */
}

.flow-view__node--in_progress {
  border-left: 3px solid var(--color-instance);
  /* animation: DELETE */
}
\`\`\`

---

## VI. Visual Before/After

### Selection State
| Before | After |
|--------|-------|
| 40px cyan glow aura | 2px solid cyan border + subtle shadow |

### Incubating Card
| Before | After |
|--------|-------|
| Pulsing amber glow (3s cycle) | Static 2px amber left border |

### Card Surface
| Before | After |
|--------|-------|
| Backdrop-blur glass effect | Solid dark gray with subtle border |

### State Indicators
| Before | After |
|--------|-------|
| Glow + dots + pulse | Dots only (primary) + subtle border (secondary) |

---

## VII. Acceptance Criteria

1. [ ] No CSS rule uses \`box-shadow\` with blur radius > 4px for state indication
2. [ ] No \`@keyframes\` animations for status states
3. [ ] No \`backdrop-filter: blur()\` on card components
4. [ ] \`--bg-void\` lightness >= 10%
5. [ ] Selection state uses border, not glow
6. [ ] Deck view with 100+ cards renders without visual chaos
7. [ ] Passes visual inspection: "professional" not "gaming terminal"

---

## VIII. Risk Assessment

### Low Risk
- Token changes cascade through the system
- Removing animations has no dependencies
- Raising lightness is purely aesthetic

### Medium Risk
- Glassmorphism removal changes depth perception
- Selection state change affects all views simultaneously
- Some users may prefer current aesthetic

### Mitigation
- Implement in phases, verify each
- Keep old tokens commented for rollback
- Test all views: deck, spatial, constellation, editor, flow

---

## IX. Estimated Effort

| Phase | Files | LOC Changed | Time |
|-------|-------|-------------|------|
| Phase 1: Tokens | 1 | ~30 | 15m |
| Phase 2: Cards | 1 | ~40 | 15m |
| Phase 3: Deck | 1 | ~30 | 15m |
| Phase 4: Spatial | 2 | ~50 | 20m |
| Phase 5: Flow | 1 | ~30 | 15m |
| Testing | all | - | 30m |
| **Total** | 6 | ~180 | ~2h |

---

## X. Calibration Note

This scope is tight and executable. Per skills calibration:
- CSS is fluent capacity
- Changes are surgical (specific line deletions/edits)
- No new architecture, just refinement

This is a Magician task that serves production quality. The aesthetic directly affects the instrument quality for shipping Etymon content.`,
  },
  {
    id: 'inst-scope-loomlib-studio',
    title: 'Scope: Loomlib Studio — Creator Tool',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-scope-method', 'fw-oikonomia-chrematistics'],
    source_id: null,
    output: 'loomcommander',
    status: 'incubating',
    tags: ['loomlib-studio', 'commercialization', 'creator-tools', 'product-scope', 'ux-requirements'],
    content: `# Scope: Loomlib Studio — Creator Tool

**Date:** 2026-01-11
**Subject:** Redesign loomlib as "Loomlib Studio" for content creators
**Method:** Scope Method (UX analysis)

**Positioning:** "The research-to-content pipeline for serious creators"

---

## I. The Creator Persona

Before auditing, define who we're designing for:

### Primary User: The Research-Heavy Creator

| Attribute | Description |
|-----------|-------------|
| **Role** | YouTuber, podcaster, newsletter writer, essayist |
| **Content style** | Long-form, research-intensive, episodic |
| **Pain** | Ideas scattered across tools; research doesn't flow to production |
| **Current tools** | Notion + Obsidian + Google Docs + scattered notes |
| **Time** | Hours/days of research per piece of content |
| **Output cadence** | Weekly or biweekly shipping target |

### What They Need (Not Want)

| Need | Why |
|------|-----|
| **Single source of truth** | Stop context-switching between research and writing tools |
| **Research → draft → ship** | Explicit pipeline, not just note hoarding |
| **Progress visibility** | Know where each project stands |
| **Reusable research** | Sources and frameworks compound across projects |
| **AI augmentation** | Speed up research without losing depth |

### Anti-User: The Quick-Note Taker

Loomlib Studio is NOT for:
- People who want instant capture (use Apple Notes)
- People who want beautiful WYSIWYG (use Notion)
- People who want maximum flexibility (use Obsidian)
- Teams needing real-time collaboration (use Coda)

---

## II. Audit: Current Loomlib UX

### What Exists Today

**Entry Points:**
1. Open app → List view of all documents
2. Cmd+O → Command palette search
3. Click document → Editor view
4. Click constellation → Graph view of relationships

**Document Types (5):**
- \`source\` ◈ — External reference material
- \`note\` ○ — Raw capture
- \`framework\` ⚙/▣ — Reusable method or lens
- \`instance\` ◧ — Produced document (applies frameworks)
- \`index\` ☰ — Curated collection

**Views (6):**
- List — Document table with columns
- Constellation — Graph of relationships
- Deck — Grid of cards grouped by lens
- Spatial — UMAP-based semantic clustering
- Editor — Markdown editing
- Flow — Unknown (in types but unclear)

**Metadata System:**
- Descriptive: type, status, tags, framework_ids, source_id, output, perspective
- Conducting: intent, execution_state, upstream, downstream

**Current Workflow:**
\`\`\`
1. Capture source → source document
2. Apply framework → instance document
3. Build up instances → toward "captured" status
4. Export manually → copy-paste to publishing platform
\`\`\`

### What's Missing for Creators

| Current | Gap for Creator |
|---------|-----------------|
| Documents exist in flat list | No "project" grouping |
| \`output: etymon \\| loomcommander\` | Hardcoded channels |
| Status tracks document state | No project-level progress |
| Export = copy-paste | No publishing integrations |
| AI via Claude Code commands | Not embedded in app |
| Single user, local storage | No sharing, no sync |

---

## III. Affordances: What Current UI Suggests

### The Production Formula Promise

The constellation view and \`framework_ids\` field suggest:
> "Your documents are produced by combining frameworks with sources"

**This is powerful.** Creators understand recipes. The formula metaphor says: "Apply methods to material, get output."

### The Status Workflow Promise

The \`incubating → draft → verified → captured\` progression suggests:
> "Documents mature through stages until they become content"

**But** there's no connection to actual shipping. "Captured" is a status, not an export.

### The Lens System Promise

Multiple lenses (formula, lineage, channel, perspective) suggest:
> "See your knowledge from different angles"

**But** creators need: "See my project's progress" — no project lens exists.

### The Conducting Frontmatter Promise

\`upstream/downstream\` tracking suggests:
> "Know what informed this and what it enables"

**This is unique.** No competitor tracks production genealogy. Creators could show: "This video's sources → these 5 research docs → this script."

---

## IV. Expectations: What Creators Would Want

### Project-Centric Workflow

A creator expects:

\`\`\`
[New Project: "Video on X"]
    │
    ├── Research phase
    │   ├── Sources added
    │   ├── Notes captured
    │   └── Frameworks applied → Instances
    │
    ├── Production phase
    │   ├── Script draft
    │   ├── Visual notes
    │   └── Speaking outline
    │
    └── Published
        └── Linked to published URL
\`\`\`

**Current UX doesn't support this.** Documents exist without project context.

### Visible Progress

A creator expects:
- "This project is 60% researched"
- "I have 3 projects in development"
- "This project is blocked on X"

**Current:** Document-level status only. No aggregation.

### Output-First Thinking

A creator expects:
- "I make YouTube videos" → \`output: youtube\`
- "I make Substack posts" → \`output: substack\`
- "This project will become a podcast episode" → project-level output

**Current:** \`output\` field is hardcoded to \`etymon | loomcommander\`.

### AI Partnership

A creator expects:
- "Summarize these 5 sources for my project"
- "Draft an outline from these research notes"
- "What am I missing?"

**Current:** Claude Code commands exist but require CLI context. Not embedded in app.

### Simple Sharing

A creator expects:
- "Share this research with my editor"
- "Let my research assistant add sources"
- "Publish my project notes as a companion piece"

**Current:** Local-only. No sharing.

---

## V. Gaps: Is/Ought Mismatches

### Gap 1: No Project Container (Blocking)

| Is | Ought |
|-----|-------|
| Documents exist independently | Documents belong to projects |
| Status is per-document | Progress is per-project |
| Output is per-document | Output channel is per-project |

**Requirement:** Add \`Project\` entity that groups documents and tracks project-level state.

### Gap 2: Hardcoded Output Channels (Blocking)

| Is | Ought |
|-----|-------|
| \`output: etymon \\| loomcommander \\| null\` | \`output: {user-defined}\` |
| No UI to configure channels | Settings to create/edit channels |
| No channel-level views | "All my YouTube projects" view |

**Requirement:** User-defined output channels with custom names, icons, colors.

### Gap 3: No Publishing Integration (Friction)

| Is | Ought |
|-----|-------|
| Export = copy-paste | Export to formats (Markdown, JSON, HTML) |
| No "captured" → "published" | Published state with URL reference |
| No companion content | Public research notes / sources page |

**Requirement:** Export functionality and optional public sharing.

### Gap 4: AI Not Embedded (Friction)

| Is | Ought |
|-----|-------|
| AI via Claude Code CLI | AI commands in app |
| User needs API key elsewhere | User provides API key in settings |
| Manual command invocation | Suggested actions based on context |

**Requirement:** Embedded LLM with user-provided API key. Start with summary/outline commands.

### Gap 5: No Team/Sharing (Friction → Future)

| Is | Ought |
|-----|-------|
| Local IndexedDB only | Optional cloud sync |
| No auth | Simple accounts |
| No sharing | View-only links for projects |

**Requirement (v2):** Cloud sync and simple sharing. NOT v1 priority.

### Gap 6: No Asset Type (Polish)

| Is | Ought |
|-----|-------|
| 5 document types | 6 types: add \`asset\` |
| Images/clips referenced in text | First-class asset management |
| No visual research collection | Image/video/audio references |

**Requirement:** Add \`asset\` type for non-text research materials.

### Gap 7: No Project View (Polish)

| Is | Ought |
|-----|-------|
| Global list/constellation | Project-scoped views |
| All documents together | "Documents in this project" filter |
| Lens changes apply globally | Project as viewing context |

**Requirement:** Project as filter/context for all views.

---

## VI. Invariants and Variants

### Invariants (Cannot Change)

| Invariant | Why |
|-----------|-----|
| **5 core document types** | Instance/framework/source relationship is structural |
| **Production formula metaphor** | Core differentiator from competitors |
| **Conducting frontmatter** | Unique value; remove = lose differentiation |
| **Markdown as content format** | Technical simplicity, export flexibility |
| **Local-first architecture (v1)** | Cloud sync is v2; don't block on it |
| **Status progression** | incubating→draft→verified→captured is coherent |

### Variants (Can Change)

| Variant | Options |
|---------|---------|
| **Output channels** | Make user-defined |
| **Project container** | Add new entity type |
| **Asset type** | Add to document types |
| **AI integration** | Embed with user API key |
| **Export formats** | Add multiple |
| **Views** | Add project-scoped versions |
| **Published state** | Add beyond "captured" |

### False Invariants (Conventions, Not Requirements)

| False Invariant | Truth |
|-----------------|-------|
| "Only 5 document types" | Asset type doesn't break anything |
| "Output is metadata" | Could be project-level |
| "AI is external" | Can be embedded |
| "Single user" | View-only sharing possible without full auth |

### Hidden Invariants (Flexibility That Would Break)

| Hidden | Why Preserve |
|--------|--------------|
| **Document-level granularity** | Projects contain documents, not replace them |
| **Explicit production tracking** | Don't make upstream/downstream optional |
| **Status as maturity** | Don't overload with project state |

---

## VII. Requirements

### Must Have (MVP)

#### R1: Project Entity

\`\`\`typescript
interface Project {
  id: string;
  name: string;
  description?: string;
  output_channel_id: string;
  document_ids: string[];
  status: 'planning' | 'researching' | 'producing' | 'published';
  published_url?: string;
  created_at: number;
  modified_at: number;
}
\`\`\`

**Acceptance criteria:**
- [ ] User can create a new project with name and output channel
- [ ] User can add/remove documents from project
- [ ] Project status visible in list view
- [ ] Documents show which project(s) they belong to

#### R2: User-Defined Output Channels

\`\`\`typescript
interface OutputChannel {
  id: string;
  name: string;           // "YouTube", "Substack", etc.
  icon: string;           // emoji or icon reference
  color: string;          // hex color
  is_default: boolean;
}
\`\`\`

**Acceptance criteria:**
- [ ] Settings UI to create/edit/delete channels
- [ ] New project requires selecting channel
- [ ] Channel visible in project list
- [ ] Filter projects by channel

#### R3: Project View

**Acceptance criteria:**
- [ ] New view mode: project dashboard
- [ ] Shows all documents in project, grouped by type
- [ ] Shows project progress (% by document status)
- [ ] Quick actions: add document, change status, open editor

#### R4: Asset Document Type

\`\`\`typescript
// Add to DocumentType
type DocumentType = 'source' | 'note' | 'framework' | 'instance' | 'index' | 'asset';

interface AssetMetadata {
  asset_type: 'image' | 'video' | 'audio' | 'pdf' | 'link';
  url?: string;           // for links/external
  file_path?: string;     // for local files
  thumbnail?: string;     // base64 preview
  caption?: string;
}
\`\`\`

**Acceptance criteria:**
- [ ] User can create asset documents
- [ ] Assets display preview in list/deck view
- [ ] Assets can be referenced in other documents
- [ ] Assets can belong to projects

#### R5: Export Functionality

**Acceptance criteria:**
- [ ] Export single document as Markdown
- [ ] Export project as Markdown zip (all documents)
- [ ] Export project as JSON (for migration/backup)
- [ ] "Published" status with optional URL field

### Should Have (v1.1)

#### R6: Embedded AI Assistant

**Acceptance criteria:**
- [ ] Settings: enter API key (Claude, OpenAI, etc.)
- [ ] In editor: "Summarize" button for sources
- [ ] In project: "Generate outline from research" command
- [ ] AI responses saved as new documents (linked upstream)

#### R7: Project Templates

**Acceptance criteria:**
- [ ] Template for common project types (video, article, podcast)
- [ ] Templates include suggested document structure
- [ ] User can create custom templates

#### R8: Simple Sharing (View-Only)

**Acceptance criteria:**
- [ ] Generate shareable link for project
- [ ] Viewer sees read-only project page
- [ ] No auth required (security through obscurity)
- [ ] Owner can revoke link

### Out of Scope (v1)

| Feature | Reason |
|---------|--------|
| **Real-time collaboration** | Requires significant architecture change |
| **User accounts / auth** | v2 when sync is needed |
| **Mobile app** | Web-first, responsive design instead |
| **Publishing integrations** | Start with export; integrations v2 |
| **Team permissions** | View-only sharing is sufficient for v1 |
| **Billing/subscriptions** | Manual payment for beta; Stripe later |
| **Plugin system** | Focus on core workflow first |

---

## VIII. Data Model Changes

### New Types (add to types.ts)

\`\`\`typescript
// ─────────────────────────────────────────────────────────────────────
// PROJECT - Container for content production
// ─────────────────────────────────────────────────────────────────────

export type ProjectStatus = 'planning' | 'researching' | 'producing' | 'published';

export interface Project {
  id: string;
  name: string;
  description: string;
  output_channel_id: string;
  status: ProjectStatus;
  published_url?: string;
  document_ids: string[];
  created_at: number;
  modified_at: number;
}

// ─────────────────────────────────────────────────────────────────────
// OUTPUT CHANNEL - User-defined content destinations
// ─────────────────────────────────────────────────────────────────────

export interface OutputChannel {
  id: string;
  name: string;
  icon: string;
  color: string;
  is_default: boolean;
}

// ─────────────────────────────────────────────────────────────────────
// ASSET - Non-text research materials
// ─────────────────────────────────────────────────────────────────────

export type AssetType = 'image' | 'video' | 'audio' | 'pdf' | 'link';

export interface AssetMetadata {
  asset_type: AssetType;
  url?: string;
  file_path?: string;
  thumbnail?: string;
  caption?: string;
  duration?: number;      // for video/audio
  dimensions?: { width: number; height: number };  // for images
}

// Extend DocumentType
export type DocumentType = 'source' | 'note' | 'framework' | 'instance' | 'index' | 'asset';

// Extend Document
export interface Document {
  // ... existing fields
  project_ids?: string[];           // documents can belong to multiple projects
  asset_metadata?: AssetMetadata;   // if type === 'asset'
}
\`\`\`

### New Database Schema

\`\`\`typescript
// db.ts additions

// Projects store
const projectsStore = db.createObjectStore('projects', { keyPath: 'id' });
projectsStore.createIndex('status', 'status', { unique: false });
projectsStore.createIndex('output_channel_id', 'output_channel_id', { unique: false });
projectsStore.createIndex('modified_at', 'modified_at', { unique: false });

// Output channels store
const channelsStore = db.createObjectStore('output_channels', { keyPath: 'id' });
channelsStore.createIndex('is_default', 'is_default', { unique: false });
\`\`\`

### Migration Path

1. Existing \`output\` field on documents remains (backward compat)
2. New projects use \`output_channel_id\`
3. Documents gain optional \`project_ids\` array
4. Seed default channels from current \`output\` values (etymon, loomcommander)

---

## IX. UI Changes

### New Components

| Component | Purpose |
|-----------|---------|
| \`ProjectList\` | List of all projects with status/channel |
| \`ProjectView\` | Dashboard for single project |
| \`ProjectModal\` | Create/edit project |
| \`ChannelPicker\` | Select output channel |
| \`ChannelSettings\` | Manage output channels |
| \`AssetUpload\` | Add asset document |
| \`ExportModal\` | Export project/document options |

### View Modifications

| View | Changes |
|------|---------|
| **Shell** | Add project nav item; project context in header |
| **List** | Add "Project" column; filter by project |
| **Deck** | Add project grouping lens |
| **Editor** | Show project membership; quick add to project |
| **Constellation** | Filter by project; project node in center |

### New Routes

\`\`\`
/                       → Project list (new default)
/project/:id            → Project dashboard
/project/:id/edit       → Project settings
/documents              → All documents (current list)
/document/:id           → Editor (current)
/settings/channels      → Output channel management
\`\`\`

---

## X. Viability Check

### Technical Effort Estimate

| Requirement | Effort | Complexity |
|-------------|--------|------------|
| R1: Project Entity | Medium | New data type, CRUD, UI |
| R2: Output Channels | Low | Simple config UI |
| R3: Project View | Medium | New view component |
| R4: Asset Type | Medium | File handling, previews |
| R5: Export | Low | Markdown/JSON generation |
| R6: AI Assistant | Medium | API integration, UI |
| R7: Templates | Low | JSON config |
| R8: Sharing | High | Backend required |

**MVP (R1-R5):** ~2-3 weeks focused work
**v1.1 (R6-R8):** ~2-3 additional weeks

### Warrior Gap Check

From \`idx-user-skills\`:

| Skill | Status | Requirement |
|-------|--------|-------------|
| TypeScript | Strong | Can build this |
| React patterns | Strong | Can build this |
| UI/UX | Developing | Need to validate with users |
| Sales | Untested | Critical gap remains |
| Customer discovery | Untested | Must do before building |

**Calibration warning:** Building Loomlib Studio is Magician work. Selling it is the Warrior test. Consider: 10 customer conversations before coding.

---

## XI. Alternative: Simpler First Step

If full project system feels like over-engineering:

### Minimal Viable Studio

1. **User-defined output channels** (2 days)
   - Settings UI
   - Replace hardcoded \`output\` values
   - Filter by channel in list view

2. **Document tagging for projects** (1 day)
   - Use tags like \`project:video-xyz\`
   - No new entity, just convention
   - Filter by tag

3. **Export** (1 day)
   - Markdown export for documents
   - Filtered export (all docs with tag)

4. **Ship and learn** (ongoing)
   - Use it yourself for Etymon
   - See what's actually missing

**This takes 1 week, not 3.** And it's shippable.

---

## XII. Composition

**What informed this:**
- \`fw-scope-method\` — the scoping structure
- \`inst-recon-loomlib-commercialization\` — market analysis and formulation
- \`inst-survey-loomlib\` — technical architecture
- \`idx-user-commitments\` — telos (oikonomia, production over capture)
- \`idx-user-skills\` — Warrior gap awareness

**What this enables:**
- Implementation plan for Loomlib Studio
- Data model specification
- UI component list
- Prioritized backlog

**Magician-Warrior note:** This is a detailed scope. The Warrior move is: pick the minimal version (Section XI), build it in a week, use it to ship Etymon Episode 1, then iterate.

---

## XIII. Decision Required

**Option A:** Full Project System (R1-R5)
- ~3 weeks to MVP
- Complete creator workflow
- Risk: over-building before validation

**Option B:** Minimal Viable Studio (Section XI)
- ~1 week to shippable
- Output channels + export + tag conventions
- Learn what's actually needed

**Option C:** Ship Etymon First
- 0 additional loomlib work
- Use current loomlib for Etymon Episode 1
- Scope Loomlib Studio based on real experience

**Recommendation:** Option C → Option B → Option A

Ship Etymon with current loomlib. Note friction points. Build minimal studio features. Then expand if validated.

This is the Warrior path: action first, then refinement.`,
  },
  {
    id: 'inst-scope-loomlib-studio-ia',
    title: 'Scope: Loomlib Studio Information Architecture',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'incubating',
    tags: ['loomlib-studio', 'information-architecture', 'youtube-creators', 'views', 'document-types', 'taxonomy'],
    content: `# Scope: Loomlib Studio Information Architecture

**Date:** 2026-01-11
**Subject:** Views, document types, tags, and progressions for YouTube creators
**Method:** Scope Method (UX analysis)

**Goal:** Reimagine loomlib's information architecture for the best studio experience across all YouTube creator niches.

---

## I. YouTube Creator Niches

Before defining IA, understand the diversity of creators who'd use this:

### Creator Archetypes

| Archetype | Content Type | Research Depth | Production Complexity |
|-----------|--------------|----------------|----------------------|
| **Essayist** | Long-form analysis (30-90 min) | Very High | Medium (VO + visuals) |
| **Educator** | Tutorials, explainers | High | Medium (demos + talking head) |
| **Interviewer** | Conversations, podcasts | Medium | Low (two cameras) |
| **Storyteller** | Documentary, narrative | Very High | Very High (B-roll, archive) |
| **Commentator** | Reactions, news, takes | Low-Medium | Low (face cam + screen) |
| **Reviewer** | Products, media, experiences | Medium | Medium (product shots) |
| **Lifestyle** | Vlogs, day-in-life | Low | Medium (lots of footage) |
| **How-To** | Practical demonstrations | Medium | Medium (process shots) |

### What They All Share

Despite different niches, research-heavy creators share:

| Universal Need | Why |
|----------------|-----|
| **Capture ideas before they're ready** | Inspiration is random |
| **Collect sources/references** | Videos need evidence |
| **Develop thoughts into scripts** | Research → structure → words |
| **Track video status** | Know what's in development |
| **Reuse research across videos** | Topics compound |
| **See what's blocked/stalled** | Manage the pipeline |

### What Differs

| Variable | Essayist | Educator | Commentator |
|----------|----------|----------|-------------|
| Research depth | 50+ hours | 10-20 hours | 2-5 hours |
| Source count | 20-50 | 5-15 | 1-5 |
| Script length | 10k+ words | 2-5k words | Outline/bullets |
| Production phases | Many | Standard | Few |
| Visual research | Heavy | Medium | Light |

---

## II. Current IA vs. Creator Needs

### Current Document Types (Loomlib)

| Type | Symbol | Intent | Creator Translation |
|------|--------|--------|---------------------|
| \`source\` | ◈ | capture | "A video I watched" / "An article I read" |
| \`note\` | ○ | capture | "A raw idea" / "Something I noticed" |
| \`framework\` | ⚙ | build | "My approach to X" / "How I structure essays" |
| \`instance\` | ◧ | produce | "Analysis using that approach" |
| \`index\` | ☰ | organize | "Collection of related stuff" |

**Gap:** No explicit "video project" or "script" type. The production metaphor is abstract where creators think concretely.

### Current Status Progression

\`\`\`
incubating → draft → verified → captured
\`\`\`

**Gap:** These are document maturity states, not production stages. Creators think:
- "This video is in research"
- "This video is being scripted"
- "This video is in production"
- "This video is published"

### Current Views

| View | What It Shows | Creator Value |
|------|---------------|---------------|
| List | All documents in table | Medium — need project filtering |
| Constellation | Relationship graph | Low — too abstract for workflow |
| Deck | Cards grouped by lens | High — visual scanning |
| Spatial | Semantic clustering | Low — exploratory, not task-focused |
| Editor | Single document | High — writing interface |

**Gap:** No "Video Dashboard" view. No "What's Next" view. No "Pipeline" view.

---

## III. Reimagined Document Types

### The Creator Type System

Replace abstract types with creator-native concepts:

| New Type | Symbol | Maps From | What It Is |
|----------|--------|-----------|------------|
| \`idea\` | 💡 | note | Raw spark, unvalidated |
| \`source\` | 📚 | source | External material (video, article, book, paper) |
| \`research\` | 🔍 | instance | Analysis, synthesis, structured thought |
| \`script\` | 📝 | instance | Written content for video |
| \`asset\` | 🎬 | NEW | Visual/audio material (clips, images, music) |
| \`template\` | ⚙ | framework | Reusable structure (essay format, intro style) |
| \`series\` | 📁 | index | Collection of related videos |

### Type Relationships

\`\`\`
[idea] → captures initial spark
    ↓
[source] → informs the idea
    ↓
[research] → applies templates to sources
    ↓
[script] → becomes the video
    ↓
[asset] → supports the script

[template] ← reused across research/scripts
[series] ← groups related videos
\`\`\`

### Type Details

#### \`idea\` 💡

The raw spark. Unstructured. Just enough to not forget.

\`\`\`yaml
type: idea
status: sparked | developing | promoted | archived
\`\`\`

**Lifecycle:**
- Sparked → just captured
- Developing → being explored
- Promoted → became a video project
- Archived → won't pursue

**Minimum content:** One sentence. Title is the idea.

#### \`source\` 📚

External material that informs videos.

\`\`\`yaml
type: source
source_type: video | article | book | paper | podcast | website
url: https://...
author: ...
date: ...
\`\`\`

**Fields:**
- \`source_type\` — what kind of material
- \`url\` — link to original
- \`author\` / \`date\` — attribution
- \`key_points\` — extracted insights (manual or AI)
- \`timestamps\` — for video sources, notable moments

#### \`research\` 🔍

Structured analysis that develops ideas using sources.

\`\`\`yaml
type: research
applies_templates: [template-id]
uses_sources: [source-ids]
for_video: video-project-id
\`\`\`

**This is where thinking happens.** Research docs apply templates (frameworks) to sources to produce insight that goes into scripts.

#### \`script\` 📝

The written content that becomes a video.

\`\`\`yaml
type: script
for_video: video-project-id
script_type: full | outline | talking_points
version: 1
\`\`\`

**Script types:**
- \`full\` — word-for-word script
- \`outline\` — structured bullets
- \`talking_points\` — minimal notes for improv

#### \`asset\` 🎬

Visual and audio material.

\`\`\`yaml
type: asset
asset_type: image | video_clip | audio | b_roll | screenshot | graphic
file_path: ...
thumbnail: ...
for_video: video-project-id
\`\`\`

**Assets are first-class.** Creators think in visuals. A "B-roll list" is a document type, not a note.

#### \`template\` ⚙

Reusable structure.

\`\`\`yaml
type: template
template_for: research | script | video
\`\`\`

**Examples:**
- "My essay structure" (intro → thesis → evidence → synthesis → call)
- "Interview prep template" (bio, questions, follow-ups)
- "Review format" (overview, pros, cons, verdict)

#### \`series\` 📁

Collection of related videos.

\`\`\`yaml
type: series
videos: [video-ids]
release_order: ...
\`\`\`

**Not just a folder.** Series tracks:
- Which videos belong
- Release order
- Series-level metadata (intro/outro, branding)

---

## IV. Reimagined Status Progression

### Document Status vs. Video Status

**Keep document status simple:**

\`\`\`
draft → ready → used
\`\`\`

| Status | Meaning |
|--------|---------|
| \`draft\` | Still being developed |
| \`ready\` | Complete enough to use |
| \`used\` | Referenced in a published video |

**Add video/project status separately:**

\`\`\`
idea → researching → scripting → producing → published → evergreen
\`\`\`

| Video Status | Meaning |
|--------------|---------|
| \`idea\` | Just a spark, not committed |
| \`researching\` | Actively gathering sources and analysis |
| \`scripting\` | Writing the script |
| \`producing\` | Recording, editing, post-production |
| \`published\` | Live on YouTube |
| \`evergreen\` | Published and still performing |

### The Video Project Entity

\`\`\`typescript
interface VideoProject {
  id: string;
  title: string;
  status: 'idea' | 'researching' | 'scripting' | 'producing' | 'published' | 'evergreen';

  // Content
  idea_id?: string;           // original idea
  research_ids: string[];     // research docs
  script_id?: string;         // current script
  asset_ids: string[];        // visual/audio assets

  // Metadata
  channel_id: string;         // YouTube, Podcast, etc.
  series_id?: string;         // if part of series
  target_date?: Date;         // when aiming to publish
  published_url?: string;     // YouTube URL when live

  // Tracking
  created_at: number;
  modified_at: number;
}
\`\`\`

---

## V. Reimagined Views

### What Views Do Creators Need?

| View | Question It Answers |
|------|---------------------|
| **Pipeline** | "What's the status of all my videos?" |
| **Project** | "What's in this specific video?" |
| **Ideas** | "What sparks are waiting to become videos?" |
| **Research** | "What have I learned about this topic?" |
| **Assets** | "What visual material do I have?" |
| **Sources** | "What have I collected?" |
| **Timeline** | "What's coming up? What's overdue?" |
| **Editor** | "Let me write/edit this document" |

### View Specifications

#### 1. Pipeline View (Default Home)

**Question:** "What's the status of all my videos?"

\`\`\`
┌─────────────────────────────────────────────────────────────────────────┐
│  PIPELINE                                              [+ New Video]    │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  IDEAS (12)          RESEARCHING (3)      SCRIPTING (2)                │
│  ┌─────────────┐     ┌─────────────┐      ┌─────────────┐              │
│  │ Debt video  │     │ Fed Reserve │      │ Odysseus    │              │
│  │ 💡 sparked  │     │ 🔍 sources  │      │ 📝 v2 draft │              │
│  └─────────────┘     │    ready    │      └─────────────┘              │
│  ┌─────────────┐     └─────────────┘      ┌─────────────┐              │
│  │ Algorithm   │     ┌─────────────┐      │ Interest    │              │
│  │ 💡 sparked  │     │ Wealth etym │      │ 📝 outline  │              │
│  └─────────────┘     │ 🔍 in prog  │      └─────────────┘              │
│  ...                 └─────────────┘                                    │
│                                                                         │
│  PRODUCING (1)       PUBLISHED (24)       EVERGREEN (8)                │
│  ┌─────────────┐     ┌─────────────┐      ┌─────────────┐              │
│  │ Mortgage    │     │ Credit vid  │      │ Account vid │              │
│  │ 🎬 editing  │     │ ✓ 2.4k views│      │ ⭐ 45k views│              │
│  └─────────────┘     └─────────────┘      └─────────────┘              │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
\`\`\`

**Kanban-style columns by video status.** Drag to change status. Click to open project.

#### 2. Project View (Video Dashboard)

**Question:** "What's in this specific video?"

\`\`\`
┌─────────────────────────────────────────────────────────────────────────┐
│  ← Back to Pipeline                                                     │
│                                                                         │
│  THE FED RESERVE VIDEO                             Status: RESEARCHING │
│  Channel: Etymon │ Series: Economic Genealogy      Target: Feb 15      │
│                                                                         │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  IDEA                    RESEARCH (4)                SCRIPT            │
│  ┌─────────────────┐     ┌─────────────────┐        ┌────────────────┐ │
│  │ "What if the    │     │ Fed founding    │        │ Not started    │ │
│  │  Fed was never  │     │ 📚 sources: 5   │        │                │ │
│  │  democratic?"   │     │ ✓ ready         │        │ [Start Script] │ │
│  │                 │     └─────────────────┘        └────────────────┘ │
│  │ Sparked: Jan 3  │     ┌─────────────────┐                          │
│  └─────────────────┘     │ Fed structure   │        ASSETS (2)        │
│                          │ 🔍 in progress  │        ┌────────────────┐ │
│  SOURCES (8)             └─────────────────┘        │ 🎬 Fed bldg    │ │
│  ┌─────────────────┐     ┌─────────────────┐        │ 🎬 Chart 1     │ │
│  │ 📚 Creature... │     │ Institutiona... │        └────────────────┘ │
│  │ 📚 Fed papers  │     │ 🔍 draft        │                          │
│  │ 📚 Graeber...  │     └─────────────────┘        [+ Add Asset]     │
│  │ ...            │                                                   │
│  └─────────────────┘     [+ Add Research]                             │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
\`\`\`

**All materials for one video in one place.** Progress visible at a glance.

#### 3. Ideas View

**Question:** "What sparks are waiting to become videos?"

\`\`\`
┌─────────────────────────────────────────────────────────────────────────┐
│  IDEAS                                                  [+ Quick Idea] │
├─────────────────────────────────────────────────────────────────────────┤
│  Filter: [All] [Sparked] [Developing] [Ready to Commit]                │
│                                                                         │
│  ┌────────────────────────────────────────────────────────────────────┐│
│  │ 💡 What if "algorithm" originally meant a person, not a process?  ││
│  │    Sparked Jan 10 │ No sources yet │ [Develop] [Archive]          ││
│  └────────────────────────────────────────────────────────────────────┘│
│  ┌────────────────────────────────────────────────────────────────────┐│
│  │ 💡 The word "debt" and the word "guilt" — same root?              ││
│  │    Sparked Jan 8 │ 2 sources │ [Develop] [→ Video]                ││
│  └────────────────────────────────────────────────────────────────────┘│
│  ┌────────────────────────────────────────────────────────────────────┐│
│  │ 💡 Feedback loops in nature vs. in finance — parallel?            ││
│  │    Developing │ 5 sources │ 1 research doc │ [→ Video]            ││
│  └────────────────────────────────────────────────────────────────────┘│
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
\`\`\`

**The idea backlog.** Not project-attached yet. Raw material.

#### 4. Sources View

**Question:** "What have I collected?"

\`\`\`
┌─────────────────────────────────────────────────────────────────────────┐
│  SOURCES                                               [+ Add Source]  │
├─────────────────────────────────────────────────────────────────────────┤
│  Filter: [All] [Video] [Article] [Book] [Paper] [Unread]               │
│  Group: [None] [Topic] [Author] [Date]                                 │
│                                                                         │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │ 📚 The Creature from Jekyll Island                               │  │
│  │    Book │ G. Edward Griffin │ Used in: Fed Reserve video        │  │
│  │    Key points: Federal Reserve founding, private banking...      │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │ 📚 Debt: The First 5000 Years                                    │  │
│  │    Book │ David Graeber │ Used in: Debt video, Credit video     │  │
│  │    Key points: Debt precedes money, social relations...          │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │ 📺 How The Economic Machine Works                                │  │
│  │    Video │ Ray Dalio │ Not yet used                              │  │
│  │    Timestamps: 3:45 credit cycle, 12:30 deleveraging...          │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
\`\`\`

**The research library.** Filterable, searchable, shows usage.

#### 5. Timeline View

**Question:** "What's coming up? What's overdue?"

\`\`\`
┌─────────────────────────────────────────────────────────────────────────┐
│  TIMELINE                                              [This Month ▼]  │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  OVERDUE                                                                │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │ ⚠️ Odysseus video │ Target: Jan 5 │ Status: Scripting            │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│                                                                         │
│  THIS WEEK                                                              │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │ 🟡 Interest video │ Target: Jan 15 │ Status: Scripting           │  │
│  │ 🟢 Mortgage video │ Target: Jan 18 │ Status: Producing           │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│                                                                         │
│  LATER THIS MONTH                                                       │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │ ⚪ Fed Reserve │ Target: Jan 25 │ Status: Researching             │  │
│  │ ⚪ Wealth etym │ Target: Jan 30 │ Status: Researching             │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│                                                                         │
│  UNSCHEDULED (4 videos in development with no target date)             │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
\`\`\`

**Production calendar.** When things are due, what's slipping.

#### 6. Assets View

**Question:** "What visual material do I have?"

\`\`\`
┌─────────────────────────────────────────────────────────────────────────┐
│  ASSETS                                                [+ Add Asset]   │
├─────────────────────────────────────────────────────────────────────────┤
│  Filter: [All] [Image] [Video Clip] [B-Roll] [Graphic] [Unused]        │
│                                                                         │
│  ┌────────┐  ┌────────┐  ┌────────┐  ┌────────┐  ┌────────┐           │
│  │ 🖼️    │  │ 🎬    │  │ 🖼️    │  │ 🎬    │  │ 🖼️    │           │
│  │ Fed    │  │ Chart  │  │ Dollar │  │ Banks  │  │ 1913   │           │
│  │ bldg   │  │ anim   │  │ bill   │  │ panic  │  │ doc    │           │
│  │        │  │        │  │        │  │        │  │        │           │
│  │ Fed vid│  │ Fed vid│  │ Unused │  │ Unused │  │ Fed vid│           │
│  └────────┘  └────────┘  └────────┘  └────────┘  └────────┘           │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
\`\`\`

**Visual library.** Grid of thumbnails. Shows which video uses each.

#### 7. Editor View (Existing, Enhanced)

**Enhancements:**
- Show video project context in header
- "Insert source reference" command
- "Link to research doc" command
- Split view: script + sources
- Word count / estimated video length

---

## VI. Tag Taxonomy

### Tag Categories

| Category | Prefix | Examples |
|----------|--------|----------|
| **Topic** | \`topic:\` | \`topic:economics\`, \`topic:etymology\`, \`topic:history\` |
| **Format** | \`format:\` | \`format:essay\`, \`format:explainer\`, \`format:interview\` |
| **Series** | \`series:\` | \`series:economic-genealogy\`, \`series:word-origins\` |
| **Status** | \`status:\` | \`status:blocked\`, \`status:needs-review\`, \`status:sponsor-pending\` |
| **Priority** | \`priority:\` | \`priority:high\`, \`priority:low\`, \`priority:next\` |
| **Source-Type** | \`source:\` | \`source:book\`, \`source:paper\`, \`source:video\` |
| **Length** | \`length:\` | \`length:short\` (<10min), \`length:standard\` (10-30), \`length:long\` (30+) |

### Suggested Tags by Niche

| Niche | Recommended Tags |
|-------|------------------|
| **Essayist** | \`format:essay\`, \`length:long\`, \`topic:*\` |
| **Educator** | \`format:tutorial\`, \`format:explainer\`, \`skill-level:*\` |
| **Interviewer** | \`format:interview\`, \`guest:*\`, \`topic:*\` |
| **Commentator** | \`format:reaction\`, \`format:take\`, \`topic:news\` |
| **Reviewer** | \`format:review\`, \`product:*\`, \`verdict:*\` |

### Tag UI

- Autocomplete from existing tags
- Create new tags inline
- Color-coding by category
- Filter views by tag
- Tag cloud in sidebar

---

## VII. Templates for Creators

### Pre-Built Templates

#### Essay Template

\`\`\`markdown
# {Title}

## Hook
{Opening that grabs attention}

## Thesis
{The main argument in one sentence}

## Context
{What the audience needs to know first}

## Evidence
### Point 1
{Argument + source}

### Point 2
{Argument + source}

### Point 3
{Argument + source}

## Synthesis
{What this all means together}

## Implications
{Why this matters}

## Call to Action
{What the viewer should do/think/feel}
\`\`\`

#### Research Template

\`\`\`markdown
# Research: {Topic}

## Question
{What am I trying to understand?}

## Sources
- {Source 1}: {Key insight}
- {Source 2}: {Key insight}

## Key Findings
1. {Finding}
2. {Finding}

## Tensions/Contradictions
{Where sources disagree}

## Open Questions
{What I still don't know}

## Connections
{How this relates to other videos}
\`\`\`

#### Interview Prep Template

\`\`\`markdown
# Interview: {Guest Name}

## Guest Bio
{Background, credentials, why they're interesting}

## Interview Angle
{What's the unique take for this conversation}

## Core Questions
1. {Question}
2. {Question}
3. {Question}

## Follow-Up Threads
{Where to go deeper based on answers}

## Potential Clips
{Moments that could stand alone}

## Logistics
{Date, platform, length target}
\`\`\`

---

## VIII. Navigation Structure

### Primary Navigation

\`\`\`
┌─────────────────────────────────────────────────────────────────────────┐
│  [Logo]  Pipeline  Ideas  Sources  Assets  Timeline     [Search] [⚙]  │
└─────────────────────────────────────────────────────────────────────────┘
\`\`\`

| Nav Item | Goes To |
|----------|---------|
| **Pipeline** | Kanban of all video projects |
| **Ideas** | Idea backlog (not yet videos) |
| **Sources** | Source library |
| **Assets** | Visual asset library |
| **Timeline** | Calendar/deadline view |
| **Search** | Global search across all content |
| **Settings** | Channels, templates, preferences |

### Contextual Navigation

When inside a video project:

\`\`\`
┌─────────────────────────────────────────────────────────────────────────┐
│  ← Pipeline  │  Fed Reserve Video  │  [Idea] [Research] [Script] [Assets]
└─────────────────────────────────────────────────────────────────────────┘
\`\`\`

Tabs for each content type within the project.

---

## IX. Keyboard Shortcuts

| Shortcut | Action |
|----------|--------|
| \`Cmd+N\` | New idea (quick capture) |
| \`Cmd+Shift+N\` | New video project |
| \`Cmd+O\` | Open / search |
| \`Cmd+P\` | Go to Pipeline |
| \`Cmd+1-5\` | Switch to tab 1-5 in project |
| \`Cmd+E\` | Open in editor |
| \`Cmd+S\` | Save current document |
| \`Cmd+Shift+S\` | Save and mark ready |
| \`Cmd+/\` | Command palette |

---

## X. Progressive Disclosure

### Beginner Mode

- Only show: Pipeline, Ideas, Sources
- Hide: Assets, Timeline, Templates
- Default to simple document types

### Creator Mode

- All views available
- Full document type system
- Template library
- Series management

### Power User Mode

- Keyboard shortcuts
- Bulk operations
- Export/import
- API access

---

## XI. Summary: The IA Redesign

### Document Types

| Old | New | Why |
|-----|-----|-----|
| \`note\` | \`idea\` | Creator language |
| \`source\` | \`source\` | Same, enhanced |
| \`instance\` | \`research\` | Clearer purpose |
| NEW | \`script\` | First-class artifact |
| NEW | \`asset\` | Visual material |
| \`framework\` | \`template\` | Creator language |
| \`index\` | \`series\` | Video collections |

### Status Progression

| Level | Old | New |
|-------|-----|-----|
| Document | incubating→draft→verified→captured | draft→ready→used |
| Video | (none) | idea→researching→scripting→producing→published→evergreen |

### Views

| Old | New |
|-----|-----|
| List | Pipeline (kanban) |
| Constellation | (removed or hidden) |
| Deck | (merged into other views) |
| Spatial | (removed or hidden) |
| Editor | Editor (enhanced) |
| NEW | Project (video dashboard) |
| NEW | Ideas, Sources, Assets, Timeline |

### Tags

Structured prefix taxonomy: \`topic:\`, \`format:\`, \`series:\`, \`status:\`, \`priority:\`

---

## XII. Implementation Notes

### Phase 1: Core Views (MVP)

1. Pipeline view (kanban)
2. Project view (video dashboard)
3. Enhanced editor with project context

### Phase 2: Content Management

1. Ideas view with quick capture
2. Sources view with usage tracking
3. Assets view with thumbnails

### Phase 3: Planning Features

1. Timeline view with deadlines
2. Templates library
3. Series management

### What to Preserve

| Keep | Why |
|------|-----|
| Production formula metaphor | Differentiator — templates produce research |
| Upstream/downstream tracking | Unique — lineage visibility |
| Markdown format | Export flexibility |
| Local-first storage | Privacy, no lock-in |

### What to Simplify

| Remove/Hide | Why |
|-------------|-----|
| Constellation view | Too abstract for task focus |
| Spatial view | Exploratory, not workflow |
| Complex lens system | Replace with view-specific filters |
| \`perspective\` field | Too academic |
| \`framework_kind\` | Just use \`template\` |

---

## XIII. Composition

**What informed this:**
- \`inst-scope-loomlib-studio\` — prior scope on Studio concept
- \`fw-scope-method\` — the scoping structure
- \`inst-survey-loomlib\` — current architecture understanding

**What this enables:**
- UI design mockups
- TypeScript type definitions
- View implementation specs
- Tag system implementation

**Calibration note:** This is detailed IA design — Magician territory. The Warrior test: can you sell this before building it? Consider showing wireframes to 5 creators before coding.`,
  },
  {
    id: 'inst-scope-political-economy-study',
    title: 'Scope: Political Economy Study Framework',
    type: 'instance',
    framework_kind: null,
    perspective: 'economic-genealogy',
    framework_ids: ['fw-scope-method'],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['scope', 'political-economy', 'framework', 'study', 'capital', 'finance', 'list', 'developmental'],
    content: `# Scope: Political Economy Study Framework

**Date:** 2025-01-09
**Purpose:** Derive requirements for a framework that orchestrates study of political economies, systems, and capital/finance — aligned to stated commitments.

---

## 1. Audit: What Exists

### Current Instruments

| Instrument | Type | Function | Gap |
|------------|------|----------|-----|
| **Oikonomia/Chrematistics** | Domain lens | Diagnoses bounded vs unbounded | Evaluative only — no entry procedure |
| **Reading 10-K** | Toolkit | Extracts signal from SEC filings | Company-level only |
| **Etymon Method** | Toolkit | Excavates degraded terms | Term-level only |
| **Recon Method** | Toolkit | Populates strategic categories | General, not specialized for political economy |
| **Economic Genealogy Recon** | Instance (in progress) | Populates economic vocabulary | Content collection, not study method |

### Commitment Constraints

From \`idx-user-commitments\`:

| Commitment | Implication for Framework |
|------------|---------------------------|
| Friedrich List / developmental nationalism | Must distinguish national productive capacity from free-trade abstraction |
| American System tradition | Must recognize Hamilton/Clay/Lincoln as reference class |
| Oikonomia over chrematistics | Must evaluate arrangements against bounded flourishing |
| Skepticism of financialization | Must identify chrematistic drift in structures |
| Particularity over universalism | Must account for specific national/regional conditions |

### Skill Constraints

From \`idx-user-skills\`:

| Skill | Status | Implication |
|-------|--------|-------------|
| Etymon Method | Fluent | Can excavate terms |
| Oikonomia lens | Fluent | Can diagnose bounded/unbounded |
| 10-K reading | Developed | Can analyze specific companies |
| Macro-level analysis | **Gap** | No systematic approach to national/system-level |
| Policy analysis | **Gap** | No framework for evaluating arrangements |
| Legal/institutional | **Gap** | Legal grammar curriculum not started |

---

## 2. Affordances: What Should Be Possible

A Political Economy Study Framework should afford:

### Multi-Scale Analysis

| Scale | Example | Current Instrument | Gap |
|-------|---------|-------------------|-----|
| **Term** | "capital," "credit," "wealth" | Etymon Method | ✓ Covered |
| **Institution** | A specific corporation, bank, exchange | Reading 10-K | Partial — no banks, exchanges |
| **Sector** | Manufacturing, finance, agriculture | None | **Missing** |
| **National** | US industrial policy, German developmental model | None | **Missing** |
| **System** | Capitalism varieties, financial regimes | None | **Missing** |

### Movement Between Scales

The framework should afford:
- **Zoom out:** From a term → to its institutional instantiation → to its sectoral role → to its national character → to its system position
- **Zoom in:** From a system critique → to national arrangements → to sector structure → to specific institutions → to the vocabulary that naturalizes it

### Diagnostic Application

At each scale, the framework should afford asking:
1. **Oikonomic/Chrematistic:** Is this bounded or unbounded? Who is the "household"?
2. **Developmental/Extractive:** Does this build productive capacity or extract from it?
3. **Embedded/Disembedded:** Is this subordinate to social relations or separated from them?
4. **National/Cosmopolitan:** Does this serve particular development or abstract universalism?

### Genealogical Context

The framework should afford:
- Tracing how an arrangement came to be (not taking it as natural)
- Identifying when chrematistic drift occurred
- Recovering prior arrangements that were oikonomic
- Connecting to sources (Polanyi, Graeber, List, Hamilton, etc.)

---

## 3. Expectations: What Users Would Expect

### Entry Modes

A user approaching political economy study would expect to enter via:

| Entry Mode | Example | What Framework Should Do |
|------------|---------|--------------------------|
| **Term** | "What is capital really?" | Route to Etymon excavation → connect to institutions |
| **Institution** | "How does Goldman Sachs work?" | Route to 10-K analysis → connect to sector/system |
| **Event** | "What happened in 2008?" | Route to system analysis → connect to institutions → terms |
| **Policy** | "Should we have industrial policy?" | Route to national analysis → connect to List/Hamilton |
| **Author** | "What does Polanyi say?" | Route to source → connect to system analysis |

### Output Forms

Users would expect the framework to produce:

| Output | Example | Current Capability |
|--------|---------|-------------------|
| Excavation | DEBT = Schuld = guilt | ✓ Etymon Method |
| Institutional analysis | Goldman 10-K reading | Partial (10-K for public companies) |
| Sector map | US manufacturing structure | **Missing** |
| National arrangement | American System vs British Empire | **Missing** |
| System comparison | Listian vs Ricardian economics | **Missing** |
| Policy evaluation | Tariffs through developmental lens | **Missing** |

### Integration with Existing Work

Users would expect:
- New analyses to connect to existing excavations (CAPITAL, DEBT, etc.)
- National/system analysis to inform term excavations and vice versa
- Oikonomia/Chrematistics lens to apply at all scales
- Outputs to flow to Etymon channel

---

## 4. Gaps: What's Missing

### Critical Gaps

| Gap | Why Critical | Existing Partial Coverage |
|----|--------------|---------------------------|
| **National-scale method** | Commitments are about developmental nationalism — need method for analyzing national arrangements | Recon Method (general) |
| **Sector analysis method** | Bridge between institution and nation | None |
| **Policy evaluation lens** | Commitments imply policy positions — need to evaluate arrangements | Oikonomia/Chrematistics (evaluative but not prescriptive) |
| **System comparison method** | Need to compare varieties of capitalism, not just critique | None |

### Methodological Gaps

| Gap | What's Needed |
|-----|---------------|
| **Entry heuristics** | How to decide which scale to start at |
| **Scale-linking** | How to move between term → institution → sector → nation → system |
| **Source integration** | How to bring sources (List, Polanyi, Graeber, Hamilton) into analysis |
| **Developmental criterion** | How to operationalize "productive capacity building" as diagnostic |

### Content Gaps (from Recon)

| Missing | Priority | Why |
|---------|----------|-----|
| List source capture | High | Core commitment, not yet documented |
| Hamilton source capture | High | American System origin |
| Mehrling source | Medium | Money view for financial analysis |
| Sector analysis template | High | No existing instrument |
| National arrangement template | High | No existing instrument |

---

## 5. Requirements: What the Framework Must Do

### Core Structure

The framework should be a **toolkit** (operative method) with the following components:

\`\`\`
┌─────────────────────────────────────────────────────────────┐
│           POLITICAL ECONOMY STUDY FRAMEWORK                 │
│                                                             │
│  ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐    │
│  │  TERM   │ → │  INST   │ → │ SECTOR  │ → │ NATION  │    │
│  │         │ ← │         │ ← │         │ ← │         │    │
│  └────┬────┘   └────┬────┘   └────┬────┘   └────┬────┘    │
│       │             │             │             │          │
│       ▼             ▼             ▼             ▼          │
│  ┌─────────────────────────────────────────────────────┐  │
│  │                    DIAGNOSTICS                       │  │
│  │  • Oikonomic/Chrematistic                           │  │
│  │  • Developmental/Extractive                         │  │
│  │  • Embedded/Disembedded                             │  │
│  │  • Particular/Universal                             │  │
│  └─────────────────────────────────────────────────────┘  │
│                           │                                │
│                           ▼                                │
│  ┌─────────────────────────────────────────────────────┐  │
│  │                  GENEALOGICAL                        │  │
│  │  • How did this arrangement arise?                  │  │
│  │  • When did drift occur?                            │  │
│  │  • What was the prior form?                         │  │
│  │  • Who benefits from naturalization?                │  │
│  └─────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
\`\`\`

### Scale-Specific Methods

| Scale | Method Name | Core Operation |
|-------|-------------|----------------|
| Term | Etymon Method (existing) | Excavation → Drift → Recovery |
| Institution | Institution Analysis (extend 10-K) | Structure → Position → Diagnostic |
| Sector | Sector Mapping (new) | Boundaries → Actors → Dynamics → Diagnostic |
| Nation | National Arrangement (new) | Policy regime → Institutions → Sources → Diagnostic |
| System | System Comparison (new) | Varieties → Contrast → Evaluation |

### Diagnostic Questions (at each scale)

**Oikonomic/Chrematistic:**
1. What are the limits? (If none → chrematistic)
2. What is the telos? (If "more" → chrematistic)
3. Who is the household? (If no one → chrematistic)
4. What counts as enough? (If no satiation → chrematistic)

**Developmental/Extractive:**
1. Does this build productive capacity or extract from it?
2. Who develops and who stagnates under this arrangement?
3. What is the time horizon? (Developmental = long; extractive = short)
4. Is there infant industry logic? Technology transfer? Skill building?

**Embedded/Disembedded:**
1. Is economic activity subordinate to social relations?
2. Are labor/land/money treated as commodities or protected?
3. Is there a double movement (social protection against commodification)?
4. What violence was required to create this arrangement?

**Particular/Universal:**
1. Does this serve specific national development or abstract theory?
2. Are conditions acknowledged or assumed away?
3. Is there a national interest or only individual/global interest?
4. What is the role of the state?

### Integration Requirements

| Requirement | How |
|-------------|-----|
| Connect to existing excavations | Each institution/sector/nation analysis references relevant term excavations |
| Connect to sources | Each analysis cites genealogical sources (List, Polanyi, Graeber, etc.) |
| Apply oikonomia lens | Every analysis answers the four diagnostic questions |
| Flow to Etymon | Analysis outputs become research for videos |

### Source Capture Priorities

| Source | Why Needed | Priority |
|--------|------------|----------|
| Friedrich List, *National System of Political Economy* | Core commitment, developmental nationalism origin | **Immediate** |
| Alexander Hamilton, *Report on Manufactures* | American System origin | **Immediate** |
| Henry Clay, American System speeches | Policy implementation | High |
| Ha-Joon Chang, *Kicking Away the Ladder* | Contemporary developmental economics | High |
| Perry Mehrling, *The New Lombard Street* | Money view for finance analysis | Medium |

---

## 6. Proposed Framework Structure

### Name: **Political Economy Analysis**

### Type: Toolkit (operative method)

### Components:

1. **Entry Protocol**
   - Determine scale (term / institution / sector / nation / system)
   - Select appropriate sub-method
   - Identify relevant sources and prior work

2. **Scale Methods** (composable)
   - Etymon Method (term) — already exists
   - Institution Analysis (institution) — extend 10-K
   - Sector Mapping (sector) — new
   - National Arrangement (nation) — new
   - System Comparison (system) — new

3. **Diagnostic Grid**
   - Oikonomic/Chrematistic (from existing framework)
   - Developmental/Extractive (from List)
   - Embedded/Disembedded (from Polanyi)
   - Particular/Universal (from developmental nationalism)

4. **Genealogical Protocol**
   - Trace origin
   - Identify drift
   - Name naturalization
   - Recover alternative

5. **Output Templates**
   - Term excavation (existing)
   - Institution profile (new)
   - Sector map (new)
   - National arrangement (new)
   - System comparison (new)

---

## 7. Implementation Path

### Phase 1: Source Capture (Immediate)

| Task | Type | Warrior Check |
|------|------|---------------|
| Capture List, *National System* | Source | Research (Magician) — but enables Phase 2 |
| Capture Hamilton, *Report on Manufactures* | Source | Research (Magician) — but enables Phase 2 |

### Phase 2: Framework Draft

| Task | Type | Warrior Check |
|------|------|---------------|
| Draft \`fw-political-economy-analysis\` | Framework | Build (Magician) — but enables production |
| Include diagnostic grid | Framework | Build |
| Define scale methods | Framework | Build |

### Phase 3: Instance Testing

| Task | Type | Warrior Check |
|------|------|---------------|
| Apply to one sector (e.g., US manufacturing) | Instance | **Produce** — tests framework |
| Apply to one national arrangement (e.g., American System) | Instance | **Produce** — tests framework |

### Phase 4: Integration

| Task | Type | Warrior Check |
|------|------|---------------|
| Connect to existing excavations | Integration | Strengthens graph |
| Update Economic Genealogy Recon | Instance | Updates strategic categories |

---

## 8. Magician-Warrior Assessment

**Honest check:** This scope is Magician work. Building the framework is Magician work. But the framework enables:

| Warrior Outcome | How Framework Serves It |
|-----------------|-------------------------|
| Etymon Episode 1 | Economic genealogy content is video-ready |
| Economic analysis of real arrangements | Framework enables concrete analysis |
| Policy evaluation | Can assess actual policies through developmental lens |
| BeeSafe context | Understanding capital/finance structures for business |

**Risk:** Building yet another framework before shipping Episode 1.

**Mitigation:**
- Phase 1 (source capture) can happen in parallel with video production
- Framework draft can be minimal — diagnostic grid already exists in oikonomia/chrematistics
- The existing tools (Etymon, 10-K, Oikonomia lens) already work for term and institution scales
- What's actually missing is nation/sector templates — not a whole new framework

**Recommendation:** Don't build a new framework. Instead:
1. Capture List and Hamilton sources
2. Add sector/nation templates to Recon Method
3. Create one national arrangement instance (American System) as exemplar
4. Let the framework emerge from instances, not precede them

---

## 9. Summary

**What's needed:** A method for studying political economies at sector/nation/system scales, applying developmental nationalism lens, integrating with existing term and institution methods.

**What exists:** Strong term method (Etymon), strong evaluative lens (Oikonomia), partial institution method (10-K), active recon (Economic Genealogy).

**Key gaps:**
- List and Hamilton sources not captured
- No sector/nation/system templates
- Developmental/Extractive criterion not operationalized

**Recommendation:** Capture sources, create exemplar instances (American System, US Manufacturing), let framework emerge. Don't front-load framework building — that's the Magician trap.

**Output channel:** Etymon (economic genealogy track)

**Perspective:** Economic Genealogy

---

## Composition

**Upstream:**
- \`fw-scope-method\` — method
- \`fw-oikonomia-chrematistics\` — core diagnostic lens
- \`inst-recon-economic-genealogy\` — prior work in domain
- \`idx-user-commitments\` — calibration

**Downstream potential:**
- \`src-list-national-system\` — source capture
- \`src-hamilton-report-manufactures\` — source capture
- \`fw-political-economy-analysis\` — if framework is built
- \`inst-american-system\` — exemplar national arrangement`,
  },
  {
    id: 'inst-survey-loomlib-aesthetic',
    title: 'Survey: Loomlib Aesthetic Implementation',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'incubating',
    tags: ['survey', 'css', 'aesthetic', 'ui', 'dark-theme', 'loomlib'],
    content: `# Survey: Loomlib Aesthetic Implementation

**Terrain:** CSS styling system for loomlib knowledge graph application
**Goal:** Understand current aesthetic approach before changing it

---

## I. Core Sample: variables.css (141 lines)

The design token system establishes the visual foundation.

### Current Aesthetic Concept
\`\`\`
Aesthetic: Planetarium control room - dark, spatial, frosted glass
Color space: OKLCH for perceptual uniformity
\`\`\`

### Base Canvas (lines 8-14)
\`\`\`css
--bg-void: oklch(8% 0.005 270);     /* deepest background */
--bg: oklch(12% 0.005 270);         /* primary background */
--bg-subtle: oklch(16% 0.008 270);  /* hover states */
--bg-elevated: oklch(20% 0.01 270); /* cards, inputs */
\`\`\`
**Assessment:** Good foundation. Uses dark grays, not pure black. The 8% lightness for void is borderline - research suggests 10-12% minimum.

### Document Type Colors (lines 32-38)
\`\`\`css
--color-framework: oklch(70% 0.12 230);  /* steel blue */
--color-instance: oklch(72% 0.14 70);    /* warm amber */
--color-note: oklch(60% 0.02 270);       /* neutral gray */
--color-source: oklch(70% 0.14 145);     /* sage green */
--color-index: oklch(80% 0.02 270);      /* silver */
\`\`\`
**Assessment:** Good muted palette. Chroma values (0.12-0.14) are appropriate - not too saturated. Instance amber (0.14 at hue 70) could be slightly muted.

### Problem Area: Glassmorphism System (lines 43-52)
\`\`\`css
--glass-blur: 10px;
--glass-bg: linear-gradient(135deg, oklch(100% 0 0 / 0.06) 0%, oklch(100% 0 0 / 0.02) 100%);
--glass-bg-solid: oklch(18% 0.008 270 / 0.92);
--glass-border: oklch(100% 0 0 / 0.08);
--glass-border-highlight: oklch(100% 0 0 / 0.15);
\`\`\`
**Assessment:** Glassmorphism is overused. The gradient + blur + transparency creates visual noise when many cards are visible.

### Problem Area: Status Indicators (lines 85-88)
\`\`\`css
--status-incubating-color: oklch(72% 0.14 70);
--status-incubating-glow: 0 0 12px 2px oklch(72% 0.14 70 / 0.3);
--status-incubating-glow-bright: 0 0 20px 4px oklch(72% 0.14 70 / 0.45);
\`\`\`
**Assessment:** This is the neon glow problem. 12px and 20px blur radii create harsh, gaming-aesthetic glows.

### Problem Area: Shadow/Focus System (lines 94-100)
\`\`\`css
--shadow-focus:
  0 0 0 1px var(--accent),
  0 4px 16px oklch(0% 0 0 / 0.4),
  0 0 40px oklch(65% 0.15 230 / 0.1);
\`\`\`
**Assessment:** The 40px glow is excessive. The layered approach is correct but the outermost glow creates the "neon" feel.

---

## II. Stratigraphy: Card System

### card.css - Incubating Pulse Animation (lines 159-170)
\`\`\`css
.doc-card--incubating {
  animation: card-incubating-pulse 3s ease-in-out infinite;
}

@keyframes card-incubating-pulse {
  0%, 100% { box-shadow: var(--status-incubating-glow); }
  50% { box-shadow: var(--status-incubating-glow-bright); }
}
\`\`\`
**Assessment:** Animated pulsing is distracting. In a deck view with many incubating items, this creates visual chaos.

### deck.css - State Lens Glows (lines 401-412)
\`\`\`css
.deck-view--lens-state .deck-card[data-state="in_progress"] {
  box-shadow: 0 0 12px 2px oklch(72% 0.14 70 / 0.3);
}

.deck-view--lens-state .deck-card[data-state="completed"] {
  box-shadow: 0 0 10px 2px oklch(70% 0.14 145 / 0.25);
}
\`\`\`
**Assessment:** More neon glows. These compound with card selection glows.

### spatial.css - State Overlay Glows (lines 332-342)
\`\`\`css
.spatial-canvas--overlay-state .spatial-node[data-state="in_progress"] {
  box-shadow: 0 0 12px 2px oklch(72% 0.14 70 / 0.4);
}

.spatial-canvas--overlay-state .spatial-node[data-state="completed"] {
  box-shadow: 0 0 12px 2px oklch(70% 0.14 145 / 0.3);
}
\`\`\`
**Assessment:** Same pattern repeated. The 12px blur radius is the recurring problem.

---

## III. Stratigraphy: Selection/Focus States

### Current Selection Pattern
\`\`\`css
.doc-card--selected {
  border-color: var(--accent);
  box-shadow: var(--shadow-focus);
}
\`\`\`

Where \`--shadow-focus\` includes:
- 1px solid accent border
- 16px shadow
- 40px outer glow

**Assessment:** The selection state is visually heavy. Competing with content rather than framing it.

### Constellation Focus (constellation.css lines 266-276)
\`\`\`css
.constellation-node[data-layer="focus"] {
  /* ... */
  border-color: var(--accent);
  box-shadow: var(--shadow-focus);
}
\`\`\`
**Assessment:** Focus node gets full glow treatment. Makes it pop but feels overwrought.

---

## IV. Stratigraphy: Intent/Type Indicators

### Left Border Pattern (deck.css lines 415-433)
\`\`\`css
.deck-view--lens-intent .deck-card[data-intent="research"] {
  border-left: 3px solid #60a5fa;
}
.deck-view--lens-intent .deck-card[data-intent="build"] {
  border-left: 3px solid #f59e0b;
}
\`\`\`
**Assessment:** Actually good. Subtle, directional, doesn't compete with content.

### Type Tint Pattern (deck.css lines 366-394)
\`\`\`css
.deck-view--lens-type .deck-card[data-type="framework"]::before {
  background: var(--color-framework);
  opacity: 0.05;
}
\`\`\`
**Assessment:** Good. Very subtle background tint.

---

## V. Diagnostic Summary

### What Works
1. **OKLCH color space** - Perceptually uniform, good choice
2. **Dark gray foundation** - Not pure black
3. **Muted document type colors** - Appropriate chroma
4. **Left border indicators** - Subtle, effective
5. **Background tints** - Low opacity, unobtrusive
6. **Font choices** - JetBrains Mono, system sans-serif appropriate

### What Doesn't Work
1. **Glow-based selection/focus** - 40px outer glow is neon-esque
2. **Animated status pulse** - Distracting in aggregate
3. **12px blur box-shadows** - Gaming aesthetic
4. **Glassmorphism overuse** - Visual noise when cards overlap
5. **Multiple competing indicators** - State dots + glow + border + animation
6. **Void background too dark** - 8% might be too low

### The Core Problem
The design tries to communicate hierarchy through luminosity (glows, brightness) rather than through subtle structural cues. This creates the "neon glow" feel.

---

## VI. Industry Reference Analysis

### Linear (from research)
- Uses only 3 colors to generate everything: base, accent, contrast
- LCH color space (same approach as OKLCH)
- "Professional to engineers" - black coding environment feel
- High contrast, clean, clutter-free

### Dark Mode Best Practices (2025 consensus)
- Avoid pure black - use #121212, #1b1b1b (10-12% lightness)
- Shadows don't work well in dark mode - use subtle highlights instead
- Elevation through bright borders, not shadows
- Transitions should be gentle, not flashy
- Focus indicators need special attention for visibility

### Neomorphism (alternative to glassmorphism)
- Soft 3D aesthetic through dual shadows (one light, one dark)
- Minimal yet textured
- Fresh, futuristic without loud colors

### Notion/Obsidian Themes
- Transparent callout backgrounds with faint outlines
- Surface layer system (base, surface0, surface1, surface2)
- Muted text hierarchy (text, subtext1, subtext0)
- Helper classes for tables and cards

---

## VII. Recommendations (for scope document)

### 1. Replace Glow System
- Remove all \`box-shadow\` glows with blur > 4px
- Use solid 2px accent borders for selection
- Use subtle background color shifts instead of luminosity

### 2. Kill the Pulse Animation
- Replace animated incubating indicator with static treatment
- Consider subtle left border or icon treatment instead

### 3. Simplify Glassmorphism
- Reduce or eliminate backdrop-filter blur
- Use solid semi-transparent backgrounds
- Keep subtle border highlights only

### 4. Unified Indicator System
- Choose ONE primary indicator per state (not glow + dots + border)
- State dots are actually good - make them the primary
- Remove redundant visual signals

### 5. Raise Base Lightness
- Increase \`--bg-void\` from 8% to 10-12%
- Adjust other layers proportionally

### 6. Adopt Linear-style Theming
- Define 3 core colors, derive everything else
- Remove manual color definitions where possible
- Use CSS custom property calculations

---

## VIII. Files Requiring Changes

| File | Lines | Changes |
|------|-------|---------|
| variables.css | 141 | Core tokens, remove glows |
| card.css | 264 | Remove pulse animation |
| deck.css | 509 | Remove state glows |
| spatial.css | 416 | Remove state glows |
| constellation.css | 755 | Remove focus glow |
| list.css | 213 | Update selection state |
| editor.css | 718 | Update focus states |
| flow.css | 582 | Update pulse animations |

**Total:** ~3,600 lines of CSS, estimate 200-300 lines of changes.

---

## IX. Calibration Note

This is a **Magician task** (research, design, CSS refinement) that serves a **Warrior outcome** (better tool for shipping Etymon). The aesthetic matters because loomlib is the instrument for production. A calmer, more refined interface reduces cognitive load during actual work.

Per skill calibration: CSS/TypeScript is fluent capacity. This task is executable.`,
  },
  {
    id: 'inst-survey-loomlib-studio-migration',
    title: 'Survey: Loomlib to Studio Migration',
    type: 'instance',
    framework_kind: null,
    perspective: null,
    framework_ids: ['fw-survey-method'],
    source_id: null,
    output: 'loomcommander',
    status: 'incubating',
    tags: ['loomlib-studio', 'migration', 'architecture', 'codebase'],
    content: `# Survey: Loomlib to Studio Migration

**Date:** 2026-01-11
**Subject:** What needs to change to migrate loomlib to Loomlib Studio
**Method:** Survey Method (static analysis)

---

## Survey

### File Inventory

\`\`\`
loomlib/src/
├── types.ts                    (304 lines) — Core type definitions
├── main.ts                     (entry point)
├── data/
│   ├── db.ts                   (352 lines) — IndexedDB operations
│   ├── documents.ts            — Document CRUD helpers
│   ├── seed.ts                 — Seed data sync
│   ├── seed-data.ts            — Generated from markdown
│   ├── graph.ts                — Relationship computation
│   ├── constellation-config.ts — Lens configs
│   ├── embeddings.ts           — Embedding storage
│   ├── similarity.ts           — Similarity computation
│   └── umap.ts                 — UMAP projection
├── views/
│   ├── list.ts                 (368 lines) — Document list
│   ├── constellation.ts       (680 lines) — Graph view
│   ├── deck.ts                 (704 lines) — Card grid
│   ├── spatial.ts              (439 lines) — UMAP view
│   ├── flow.ts                 (378 lines) — Vertical flow
│   └── editor.ts               (590 lines) — Markdown editor
├── layout/
│   └── shell.ts                (317 lines) — View orchestration
├── components/
│   ├── document-card.ts        — Card rendering
│   ├── triage-modal.ts         — Metadata editor
│   ├── command-palette.ts      — Search/open
│   ├── formula-bar.ts          — Production formula display
│   └── lens-picker.ts          — Lens selection
└── ui/
    └── *.css                   — Styles
\`\`\`

**Total TypeScript:** ~3,500 lines (excluding tests)

---

## Core Sample

### Layer 1: Types (types.ts)

**What exists:**

\`\`\`typescript
// Document types
type DocumentType = 'source' | 'note' | 'framework' | 'instance' | 'index';

// Status
type DocumentStatus = 'incubating' | 'draft' | 'verified' | 'captured';

// Conducting
type DocumentIntent = 'research' | 'build' | 'capture' | 'organize' | 'produce';
type ExecutionState = 'pending' | 'in_progress' | 'completed' | 'resolved';

// Document interface
interface Document {
  id: string;
  title: string;
  content: string;
  type: DocumentType;
  framework_kind: FrameworkKind | null;
  perspective: string | null;
  framework_ids: string[];
  source_id: string | null;
  output: string | null;
  status: DocumentStatus;
  tags: string[];
  createdAt: number;
  modifiedAt: number;
  intent?: DocumentIntent;
  execution_state?: ExecutionState;
  upstream?: UpstreamRef[];
  downstream?: UpstreamRef[];
}

// View modes
type ViewMode = 'list' | 'constellation' | 'flow' | 'editor' | 'spatial' | 'deck';
\`\`\`

**What needs to change for Studio:**

| Current | Studio Change | Effort |
|---------|---------------|--------|
| \`DocumentType\` = 5 types | Add \`'asset'\` type; optionally rename types | Low |
| \`DocumentStatus\` = 4 states | Simplify to \`'draft' \\| 'ready' \\| 'used'\` | Medium |
| No \`Project\` type | Add full \`Project\` interface | Medium |
| No \`OutputChannel\` type | Add \`OutputChannel\` interface | Low |
| Hardcoded \`output\` field | Make reference to \`OutputChannel.id\` | Low |
| \`ViewMode\` = 6 views | Replace with Studio views | Medium |

**Migration impact:** types.ts is the foundation. Changes here cascade everywhere.

---

### Layer 2: Database (db.ts)

**What exists:**

\`\`\`typescript
// IndexedDB setup
const DB_NAME = 'loomlib';
const DB_VERSION = 3;

// Object stores
const STORE_NAME = 'documents';
const EMBEDDINGS_STORE = 'embeddings';
const UMAP_COORDS_STORE = 'umap_coords';

// Document indexes
store.createIndex('modifiedAt', 'modifiedAt');
store.createIndex('type', 'type');
store.createIndex('status', 'status');
store.createIndex('output', 'output');
\`\`\`

**What needs to change for Studio:**

| Current | Studio Change | Effort |
|---------|---------------|--------|
| 1 document store | Add \`projects\` store | Medium |
| No channel store | Add \`output_channels\` store | Low |
| No project indexes | Add \`project_ids\` index on documents | Low |
| \`DB_VERSION = 3\` | Increment to 4 with migration | Low |
| No \`project_id\` field | Add optional \`project_ids: string[]\` to Document | Low |

**New stores needed:**

\`\`\`typescript
// Projects store
const PROJECTS_STORE = 'projects';
// Indexes: status, output_channel_id, modified_at

// Output channels store
const CHANNELS_STORE = 'output_channels';
// Indexes: is_default
\`\`\`

**Migration path:**
1. Increment \`DB_VERSION\` to 4
2. In \`onupgradeneeded\`, create new stores
3. Add new indexes to documents store
4. Existing documents remain valid (no breaking changes)

---

### Layer 3: Shell (shell.ts)

**What exists:**

\`\`\`typescript
class Shell {
  private listView: ListView;
  private constellationView: ConstellationView;
  private flowView: FlowView;
  private spatialView: SpatialView;
  private deckView: DeckView;
  private editor: Editor;
  private currentView: ViewMode = 'list';

  // Navigation
  showList() / showConstellation() / showFlow() / showSpatial() / showDeck() / showEditor()

  // Entry point
  async init() → listView.refresh() → showList()
}
\`\`\`

**What needs to change for Studio:**

| Current | Studio Change | Effort |
|---------|---------------|--------|
| 6 views instantiated | Replace with 7 Studio views | High |
| List as default home | Pipeline as default home | Low |
| No project context | Add \`currentProjectId\` state | Medium |
| Global view navigation | Project-scoped navigation | Medium |
| No nav bar | Add top navigation bar | Medium |

**New Shell structure:**

\`\`\`typescript
class Shell {
  // New views
  private pipelineView: PipelineView;     // replaces list as home
  private projectView: ProjectView;       // new
  private ideasView: IdeasView;           // new
  private sourcesView: SourcesView;       // enhances sources
  private assetsView: AssetsView;         // new
  private timelineView: TimelineView;     // new
  private editor: Editor;                 // enhanced

  // Removed views
  // private constellationView — removed
  // private spatialView — removed (or hidden)
  // private flowView — removed (or hidden)

  // Project context
  private currentProjectId: string | null = null;

  // Navigation
  private navBar: NavBar;
}
\`\`\`

---

### Layer 4: Views

**Current views and their fate:**

| View | Lines | Keep/Replace/Remove | Reason |
|------|-------|---------------------|--------|
| \`list.ts\` | 368 | **Replace** → PipelineView | Kanban instead of table |
| \`constellation.ts\` | 680 | **Remove** | Too abstract for creators |
| \`deck.ts\` | 704 | **Adapt** → IdeasView / AssetsView | Grid layout useful |
| \`spatial.ts\` | 439 | **Remove** | Exploratory, not workflow |
| \`flow.ts\` | 378 | **Remove** | Replaced by project view |
| \`editor.ts\` | 590 | **Keep + Enhance** | Core, add project context |

**New views to create:**

| View | Purpose | Based On |
|------|---------|----------|
| \`pipeline.ts\` | Kanban by video status | New (kanban pattern) |
| \`project.ts\` | Video dashboard | New |
| \`ideas.ts\` | Idea backlog | Adapt from deck.ts |
| \`sources.ts\` | Source library | Adapt from list.ts |
| \`assets.ts\` | Visual gallery | Adapt from deck.ts |
| \`timeline.ts\` | Calendar/deadline view | New |

**Code reuse potential:**
- \`deck.ts\` grid layout → reuse for \`ideas.ts\`, \`assets.ts\`
- \`list.ts\` filtering → reuse for \`sources.ts\`
- \`editor.ts\` → enhance, don't rewrite

---

### Layer 5: Components

**Current components:**

| Component | Keep/Change |
|-----------|-------------|
| \`document-card.ts\` | **Adapt** — needs project badge |
| \`triage-modal.ts\` | **Adapt** — needs project assignment |
| \`command-palette.ts\` | **Keep** — works as-is |
| \`formula-bar.ts\` | **Remove** — too academic |
| \`lens-picker.ts\` | **Remove** — replaced by view filters |

**New components needed:**

| Component | Purpose |
|-----------|---------|
| \`nav-bar.ts\` | Top navigation |
| \`project-modal.ts\` | Create/edit project |
| \`channel-picker.ts\` | Select output channel |
| \`status-column.ts\` | Kanban column |
| \`video-card.ts\` | Project card for pipeline |
| \`asset-preview.ts\` | Image/video thumbnail |

---

### Layer 6: Data Operations

**Current document operations (documents.ts):**

\`\`\`typescript
listDocuments()
getDocument(id)
createDocument(type)
updateDocument(id, updates)
deleteDocument(id)
\`\`\`

**New operations needed:**

\`\`\`typescript
// Projects
listProjects()
getProject(id)
createProject(name, channelId)
updateProject(id, updates)
deleteProject(id)
getProjectDocuments(projectId)
addDocumentToProject(docId, projectId)
removeDocumentFromProject(docId, projectId)

// Output Channels
listChannels()
createChannel(name, icon, color)
updateChannel(id, updates)
deleteChannel(id)
getDefaultChannel()
\`\`\`

---

## Stratigraphy

### Dependency Graph

\`\`\`
types.ts (FOUNDATION)
    ↓
db.ts (STORAGE)
    ↓
documents.ts (OPERATIONS)
    ↓
┌───────────────────────────────────┐
│           VIEWS                   │
├───────────────────────────────────┤
│ list.ts  constellation.ts  ...    │
└───────────────────────────────────┘
    ↓
shell.ts (ORCHESTRATION)
    ↓
main.ts (ENTRY)
\`\`\`

**Migration order must follow this dependency graph:**
1. First: types.ts (add new types, don't break existing)
2. Second: db.ts (add stores, don't migrate data yet)
3. Third: documents.ts (add project/channel operations)
4. Fourth: views (build new views, keep old ones working)
5. Fifth: shell.ts (swap views when ready)
6. Last: main.ts (update initialization)

---

## Findings

### Migration Strategy

**Phase 1: Additive Changes (Non-Breaking)**

| Change | Files | Effort |
|--------|-------|--------|
| Add \`Project\` interface to types.ts | types.ts | Low |
| Add \`OutputChannel\` interface | types.ts | Low |
| Add \`asset\` to DocumentType | types.ts | Low |
| Add \`project_ids\` to Document | types.ts | Low |
| Add projects store to db.ts | db.ts | Medium |
| Add channels store to db.ts | db.ts | Low |
| Add project/channel operations | documents.ts | Medium |

**Phase 2: New Views (Parallel Development)**

| View | Based On | Effort |
|------|----------|--------|
| PipelineView | New | High |
| ProjectView | New | High |
| IdeasView | deck.ts | Medium |
| SourcesView | list.ts | Medium |
| AssetsView | deck.ts | Medium |
| TimelineView | New | Medium |

**Phase 3: Shell Swap (Breaking)**

| Change | Effort |
|--------|--------|
| Replace Shell views | Medium |
| Add NavBar component | Medium |
| Update keyboard shortcuts | Low |
| Update routing | Medium |

**Phase 4: Cleanup**

| Change | Effort |
|--------|--------|
| Remove constellation.ts | Low |
| Remove spatial.ts | Low |
| Remove flow.ts | Low |
| Remove lens-picker.ts | Low |
| Remove formula-bar.ts | Low |

---

### Effort Estimates

| Component | Lines to Write | Lines to Modify | Lines to Delete |
|-----------|----------------|-----------------|-----------------|
| types.ts | ~100 | ~20 | 0 |
| db.ts | ~100 | ~20 | 0 |
| documents.ts | ~150 | ~30 | 0 |
| shell.ts | ~200 | ~100 | ~100 |
| New views | ~2000 | 0 | 0 |
| New components | ~500 | 0 | 0 |
| Removed views | 0 | 0 | ~1500 |
| **Total** | **~3050** | **~170** | **~1600** |

**Net change:** +1450 lines (from ~3500 to ~5000)

---

### Risk Assessment

| Risk | Likelihood | Mitigation |
|------|------------|------------|
| Breaking existing documents | Low | Additive changes only in Phase 1 |
| IndexedDB migration issues | Medium | Keep old stores, add new ones |
| Keyboard shortcut conflicts | Low | Review shortcuts in Phase 3 |
| Performance with more views | Low | Lazy-load new views |
| CSS conflicts | Medium | New BEM classes for Studio views |

---

### File-by-File Migration Checklist

#### types.ts

- [ ] Add \`StudioDocumentType\` with \`'idea' | 'source' | 'research' | 'script' | 'asset' | 'template' | 'series'\`
- [ ] Add \`Project\` interface
- [ ] Add \`ProjectStatus\` type
- [ ] Add \`OutputChannel\` interface
- [ ] Add \`AssetMetadata\` interface
- [ ] Extend \`Document\` with \`project_ids?: string[]\`
- [ ] Extend \`Document\` with \`asset_metadata?: AssetMetadata\`
- [ ] Add \`StudioViewMode\` type
- [ ] Add Studio-specific icons and colors

#### db.ts

- [ ] Increment \`DB_VERSION\` to 4
- [ ] Add \`PROJECTS_STORE\` constant
- [ ] Add \`CHANNELS_STORE\` constant
- [ ] Create projects store in \`onupgradeneeded\`
- [ ] Create channels store in \`onupgradeneeded\`
- [ ] Add project index to documents store
- [ ] Add CRUD functions for projects
- [ ] Add CRUD functions for channels
- [ ] Add \`getProjectDocuments(projectId)\`

#### documents.ts

- [ ] Add \`listProjects()\`
- [ ] Add \`createProject()\`
- [ ] Add \`updateProject()\`
- [ ] Add \`deleteProject()\`
- [ ] Add \`addDocumentToProject()\`
- [ ] Add \`removeDocumentFromProject()\`
- [ ] Add channel operations

#### shell.ts

- [ ] Add NavBar component
- [ ] Replace view instances
- [ ] Add \`currentProjectId\` state
- [ ] Update keyboard shortcuts
- [ ] Update \`toggleView()\` for Studio views
- [ ] Add project-scoped navigation methods

#### New Files to Create

- [ ] \`views/pipeline.ts\` — Kanban view
- [ ] \`views/project.ts\` — Project dashboard
- [ ] \`views/ideas.ts\` — Idea backlog
- [ ] \`views/sources.ts\` — Source library
- [ ] \`views/assets.ts\` — Asset gallery
- [ ] \`views/timeline.ts\` — Calendar view
- [ ] \`components/nav-bar.ts\` — Top navigation
- [ ] \`components/project-modal.ts\` — Create/edit project
- [ ] \`components/video-card.ts\` — Project card
- [ ] \`components/channel-picker.ts\` — Channel selection
- [ ] \`ui/studio.css\` — Studio-specific styles

#### Files to Remove (Phase 4)

- [ ] \`views/constellation.ts\` (680 lines)
- [ ] \`views/spatial.ts\` (439 lines)
- [ ] \`views/flow.ts\` (378 lines)
- [ ] \`components/lens-picker.ts\`
- [ ] \`components/formula-bar.ts\`
- [ ] \`data/constellation-config.ts\`

---

### Backward Compatibility

**What must remain working during migration:**

1. **Existing documents** — Must open in editor
2. **Document CRUD** — Must work throughout
3. **Seed sync** — Must continue working
4. **Command palette** — Must work throughout
5. **Editor** — Must work throughout

**Strategy:** Keep old views functional until new views are complete. Use feature flag or \`STUDIO_MODE\` constant to switch.

\`\`\`typescript
// In shell.ts during migration
const STUDIO_MODE = false;

if (STUDIO_MODE) {
  this.pipelineView = new PipelineView(...);
} else {
  this.listView = new ListView(...);
}
\`\`\`

---

### Timeline Estimate

| Phase | Duration | Output |
|-------|----------|--------|
| Phase 1: Types + DB | 2-3 days | New types, stores, operations |
| Phase 2: Pipeline + Project views | 3-4 days | Core Studio views |
| Phase 3: Supporting views | 3-4 days | Ideas, Sources, Assets, Timeline |
| Phase 4: Shell swap | 2-3 days | Full Studio UX |
| Phase 5: Cleanup | 1-2 days | Remove deprecated code |
| **Total** | **11-16 days** | Loomlib Studio MVP |

---

## Composition

**What informed this:**
- \`inst-scope-loomlib-studio-ia\` — target IA specification
- \`inst-scope-loomlib-studio\` — Studio requirements
- \`inst-survey-loomlib\` — original architecture survey
- Direct codebase reading

**What this enables:**
- Implementation plan with specific files
- Effort estimation for prioritization
- Risk awareness for migration
- Checklist for tracking progress

**Calibration note:** This is 2-3 weeks of focused coding. The Warrior question: is building this the right next action, or should you ship Etymon Episode 1 first using current loomlib?`,
  },
  {
    id: 'note-handoff-domain-implementation',
    title: 'Handoff: Domain System Implementation',
    type: 'note',
    framework_kind: null,
    perspective: null,
    framework_ids: [],
    source_id: null,
    output: 'loomcommander',
    status: 'draft',
    tags: ['handoff', 'implementation', 'domains', 'architecture'],
    content: `# Handoff: Domain System Implementation

**Context:** Two scope documents have been completed that design a domain system for loomlib. This note captures the implementation prompt for the next session.

---

## Copy This Prompt for Next Session

\`\`\`
I need to implement a domain system for loomlib based on two completed scope documents.

## Read First (CRITICAL)

1. \`loomlib/docs/instance/scope-frontmatter-ui-mapping.md\` — How UI elements map to frontmatter fields and how domains configure display
2. \`loomlib/docs/instance/scope-domain-startup-performance.md\` — How domains identify membership and performance solutions

These scopes establish:
- Every UI element already maps to frontmatter (no new fields needed for display)
- Domains are CONFIGURATIONS that tell views how to render, not containers
- A \`domain\` field should be added to Document interface for membership
- Existing 144 docs should be backfilled with \`domain: 'etymon'\`
- Performance requires domain-scoped queries, not \`getAllDocs()\` everywhere

## Implementation Plan

### Phase 1: Schema Changes (types.ts, db.ts)

1. Add \`domain\` field to Document interface in \`types.ts\`:
   \`\`\`typescript
   interface Document {
     // ... existing fields
     domain: string;  // 'etymon' | 'studio' | etc.
   }
   \`\`\`

2. Update \`createEmptyDocument()\` to set domain from env:
   \`\`\`typescript
   const DOMAIN = import.meta.env.VITE_LOOMLIB_DOMAIN ?? 'etymon';
   return { ...defaults, domain: DOMAIN };
   \`\`\`

3. Upgrade IndexedDB to version 4 in \`db.ts\`:
   - Add \`domain\` index to documents store
   - Handle upgrade path from version 3

4. Add \`getDocsByDomain(domain)\` function to \`db.ts\`

### Phase 2: Migration (seed.ts, documents.ts)

5. Update \`syncSeedData()\` to backfill domain:
   \`\`\`typescript
   // When syncing, ensure domain exists
   const domain = doc.domain ?? doc.output ?? 'etymon';
   \`\`\`

6. Update existing markdown files to include \`domain\` in frontmatter (or let backfill handle it)

### Phase 3: Query Refactoring (documents.ts)

7. Refactor these functions to be domain-scoped:
   - \`listDocuments()\` → \`listDocuments(domain)\`
   - \`getUniqueTags()\` → \`getUniqueTags(domain)\`
   - \`getUniquePerspectives()\` → \`getUniquePerspectives(domain)\`
   - \`getUniqueOutputs()\` → \`getUniqueOutputs(domain)\`
   - \`filterDocuments()\` → \`filterDocuments(domain, criteria)\`
   - \`getFrameworks()\` → \`getFrameworks(domain)\`

### Phase 4: View Updates (shell.ts, views/*.ts)

8. Update \`Shell\` to read domain from env and pass to views
9. Update each view to use domain-scoped queries
10. Views should only show docs from current domain

### Phase 5: Domain Configuration (NEW files)

11. Create \`src/config/domain.ts\` with DomainConfig interface
12. Create \`src/config/etymon.ts\` with Etymon domain config
13. Update views to read labels/icons from config instead of hardcoding

### Phase 6: Environment Setup

14. Add to \`.env.local\`:
    \`\`\`
    VITE_LOOMLIB_DOMAIN=etymon
    \`\`\`

15. Update \`vite.config.ts\` if needed to expose env var

## Key Files to Modify

- \`loomlib/src/types.ts\` — Add domain field
- \`loomlib/src/data/db.ts\` — Version 4 upgrade, domain index, getDocsByDomain
- \`loomlib/src/data/seed.ts\` — Domain backfill
- \`loomlib/src/data/documents.ts\` — Domain-scoped queries
- \`loomlib/src/main.ts\` — Domain env reading
- \`loomlib/src/layout/shell.ts\` — Pass domain to views

## Testing Checkpoints

After each phase, verify:
- [ ] \`npm run build\` succeeds
- [ ] App loads without errors
- [ ] Existing 144 docs still appear
- [ ] No console errors about missing domain

## Performance Goals

Current: ~2-5 sec startup with 144 docs
Target: ~200-500ms startup (domain-scoped loading)

The key insight: change \`getAllDocs()\` calls to \`getDocsByDomain(currentDomain)\` everywhere. This makes every query O(domain_size) instead of O(total_corpus).

## Do NOT

- Create new document types (frontmatter structure is sufficient)
- Add fields beyond \`domain\` (UI display comes from configuration, not schema)
- Break existing doc loading (backfill handles migration)
- Implement pagination yet (that's Phase 2 optimization)

Start with Phase 1 (schema changes) and work through sequentially. Each phase should result in a working app.
\`\`\`

---

## Summary of What Was Scoped

### Scope 1: Frontmatter-to-UI Mapping

**Key insight:** Every visual element in loomlib views already maps to frontmatter fields:
- Type badges → \`type\`, \`framework_kind\`
- Status dots → \`status\` (position in progression)
- Tags → \`tags[]\`
- Upstream panel → \`upstream[].doc\` + \`upstream[].relation\`
- Filters → \`type\`, \`status\`, \`intent\`

**Domains are configurations** that tell views:
- What labels to show for values ("INSTANCE" vs "IDEA")
- What icons to use (⚙ vs 💡)
- What status progression exists (4-step vs 3-step)
- What fields appear in each view slot

### Scope 2: Domain Startup & Performance

**Key insight:** Current architecture loads ALL 144 docs for every query. Adding \`domain\` field + domain-scoped queries fixes both:
1. "Which docs belong to this domain?" → \`doc.domain === currentDomain\`
2. "Why is it slow?" → Query O(domain_size) not O(total_corpus)

**Migration path:**
- Add \`domain\` field to types
- Add \`domain\` index to IndexedDB (version 4)
- Backfill existing docs: \`domain = output ?? 'etymon'\`
- Refactor queries to use \`getDocsByDomain()\`

---

## Files Created This Session

1. \`loomlib/docs/instance/scope-frontmatter-ui-mapping.md\`
2. \`loomlib/docs/instance/scope-domain-startup-performance.md\`
3. \`loomlib/docs/note/handoff-domain-implementation.md\` (this file)`,
  },
  {
    id: 'note-odysseus-solar-initiation',
    title: 'Note: Odysseus, Solar Initiation, and the Failure to Scale',
    type: 'note',
    framework_kind: null,
    perspective: 'philosophical-genealogy',
    framework_ids: [],
    source_id: null,
    output: 'etymon',
    status: 'incubating',
    tags: ['odysseus', 'nostos', 'solar', 'initiation', 'crew', 'individualism', 'helios', 'mystery'],
    content: `# Note: Odysseus, Solar Initiation, and the Failure to Scale

**Raw capture — thesis awaiting pressure-testing**

---

## The Seed

Odysseus's *nostos* is not journey home. It is "return to light and life" — a solar category connected to the rising of the sun, the overcoming of death. This much is established (see inst-odysseus-spirited-inquiry).

But a question: **If Odysseus undergoes solar initiation, why do his crew die? Does initiation scale?**

The claim: **Individualism is not a given. It is forged. And it is forged in the failure to scale.**

---

## The Discovery: Structural Primacy of the Cattle of the Sun

Of all the trials Odysseus faces, **only one is mentioned in the opening lines** of the Odyssey — the cattle of the sun:

> "He tried to save his own life and bring his companions back to their home. But however bravely he struggled, he could not rescue them, fools that they were — their own recklessness brought disaster upon them all."

The cattle of Helios has structural primacy. It is not one trial among many. It is *the* trial.

**Solar Idealism interpretation:** "Odysseus managed to return home because against the pressure of his companions, he respected the cattle of the sun — respected the sun itself."

---

## The Mechanism: Why the Crew Dies

The crew dies because they eat the cattle of the sun. The effects are bizarre — the hides creep along the ground, the meat groans. This is not ordinary transgression. It is sacrilege against the solar principle itself.

**Helios threatens to take his light down to the underworld** if they are not punished. Zeus destroys them with a lightning bolt.

What the crew could not do:
- Endure hunger when Odysseus instructed them not to eat
- Trust Odysseus's guidance against their immediate appetites
- Respect the sacred even when it appeared as food

**The crew fails the solar test. Odysseus alone passes.**

---

## The Thesis: Initiation Does Not Scale

The Eleusinian Mysteries were individual initiation — "once in a lifetime," guaranteeing happiness after death. But:

> "There is no credo after this experience, nor is the group united by faith." — Burkert

> "Those individuals become worthy not so much because they learn something new (mathein) but because they suffer or experience (pathein) something appropriate."

Initiation is *pathein* — something undergone, suffered, experienced. It is not *mathein* — something learned and transmitted.

**The crew cannot be initiated by proxy. They must undergo. And they fail to undergo.**

Odysseus cannot save them. The proem says so: "however bravely he struggled, he could not rescue them." His initiation does not transfer.

---

## The Implication: Individualism as Forged, Not Given

Modern individualism assumes the individual as starting point — atomic, autonomous, prior to community. But Odysseus's individualism is different.

**Odysseus becomes individual through the death of the collective.**

He does not start as individual. He leads a crew. He tries to save them. He fails. His *nostos* is completed only when he is alone — washed up on Calypso's island, having lost everyone.

The individual emerges from:
1. The failure of the collective to pass the test
2. The impossibility of proxy initiation
3. The loneliness of undergoing what cannot be taught

**Individualism is not given. It is forged in the furnace of collective failure.**

---

## Questions to Pressure-Test

1. **Is this reading of the Odyssey defensible?** The proem frames the cattle episode as central. But is this solar initiation reading in the scholarship, or a productive misreading?

2. **What is the relationship to Eleusis?** The Mysteries were collective ritual but individual initiation. Does Odysseus represent a pre-Mystery or para-Mystery pattern?

3. **Does this scale as civilizational diagnosis?** If initiation cannot be transmitted, what happens to:
   - Education (which assumes transmission)
   - Religion (which assumes collective salvation)
   - Politics (which assumes shared understanding)

4. **What is the modern equivalent?** Where do we see the pattern: collective fails the test, individual emerges from the wreckage? Is this:
   - A necessary pattern?
   - A tragic pattern?
   - A pattern that *should* be overcome?

---

## Operator Candidates

If this matures to instance:

- **VERSUS**: Individual VERSUS Collective (but risk of false binary)
- **FROM**: Individualism FROM collective failure
- **WITHOUT**: Nostos WITHOUT the crew
- **THROUGH**: Initiation THROUGH the death of companions

Most generative: **FROM** — traces derivation, shows that individualism is produced, not presupposed.

---

## Potential Compositions

- Excavation: INITIATION (what did it mean before "personal growth"?)
- Excavation: INDIVIDUAL (what did it mean before liberal atomism?)
- Apologetic: ELEUSIS (what has been domesticated about mystery religion?)
- Instance: Individualism FROM collective failure (the civilizational thesis)

---

## Sources Consulted

- [Roger Sworder on Odysseus & the Cattle of the Sun](https://via-hygeia.art/roger-sworder-odysseus-the-cattle-of-the-sun/)
- [Solar Idealism reading of the cattle episode](https://cbrobertson.substack.com/p/where-is-the-sun-in-solar-idealism)
- Burkert on the Eleusinian Mysteries (1987)
- Classical scholarship on crew death in the Odyssey

---

## Production Readiness

**Ready for instance?** Not yet.

**What's needed:**
- [ ] Verify solar initiation reading against classical scholarship (Nagy, others)
- [ ] Clarify relationship to mystery religions — is this pattern pre-Mystery, para-Mystery, or something else?
- [ ] Sharpen the civilizational claim — what does "scaling" mean exactly?
- [ ] Test the FROM operator — does "Individualism FROM collective failure" hold?

**Status:** incubating → needs research before draft`,
  },
];
